(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{569:function(e,r,t){"use strict";(function(e){t(22),t(21),t(20),t(31),t(19),t(32);var o=t(8),n=(t(23),t(29)),m=t(1),c=t(108),l=t(132),d=t.n(l),v=t(16);function f(object,e){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),r.push.apply(r,t)}return r}function w(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(r){Object(o.a)(e,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(source,r))}))}return e}m.a.use(c.b);c.a.localize("fr",{custom:{conditionsAccepted:{required:function(){return"Merci d'accepter les Conditions Générales de Ventes sur internet (CGV)"}},email:{required:function(){return"Merci d'entrer un email"},email:function(){return"Merci d'entrer une adresse email valide"}},firstName:{required:function(){return"Merci de renseigner un prénom"}},lastName:{required:function(){return"Merci de renseigner un nom"}},password:{required:function(){return"Merci de renseigner un mot de passe"},min:function(){return"Le mot de passe doit contenir au moins 6 caractères"}},confirmedPassword:{required:function(){return"Merci de renseigner un mot de passe"},confirmed:function(){return"Les deux mots de passes ne sont pas identiques"}},passwordEdit:{required:function(){return"Merci de renseigner votre mot de passe"}},newPassword:{min:function(){return"Le mot de passe doit contenir au moins 6 caractères"}},confirmedNewPassword:{confirmed:function(){return"Les deux mots de passes ne sont pas identiques"}},emailLogin:{required:function(){return"Merci d'entrer un email"},email:function(){return"Merci d'entrer une adresse email valide"}},passwordLogin:{required:function(){return"Merci d'entrer votre mot de passe"}},phone:{numeric:function(){return"Merci d'entrer un numéro de téléphone valide"},max:function(){return"Merci d'entrer un numéro de téléphone valide"}}}}),r.a={data:function(){return{formLog:{mail:"",password:""},formSignUp:{firstName:"",lastName:"",newsletter:!1,mail:"",password:""},isSignedUp:!1,confirmedPassword:""}},mounted:function(){},methods:w(w({},Object(v.d)({setUser:"auth/setUser",logout:"auth/logout"})),{},{encryptPassword:function(e){var r=d.a.genSaltSync(10);return d.a.hashSync(e,r)},checkPassword:function(e,r){return new Promise((function(t,o){d.a.compare(e,r).then((function(e){t(e)}))}))},signUp:function(){var r=this;this.$validator.validateAll("formSignUp").then((function(t){t?n.a.collection("customers").doc(e.env.ID_CUSTOMER).collection("sites").doc(e.env.ID_SITE).collection("users").doc(r.formSignUp.mail).get().then((function(t){if(t.exists)alert("Compte deja existant");else{var data=JSON.parse(JSON.stringify(r.formSignUp));data.password=r.encryptPassword(r.formSignUp.password),n.a.collection("customers").doc(e.env.ID_CUSTOMER).collection("sites").doc(e.env.ID_SITE).collection("users").doc(r.formSignUp.mail).set(data).then((function(){console.log("Document successfully written!"),r.isSignedUp=!0})).catch((function(e){console.error("Error writing document: ",e)}))}})):(console.log(r.$validator),console.error("Le formulaire contient une erreur"))}))},logIn:function(){var r=this;this.logout(),this.$validator.validateAll("formLogIn").then((function(t){if(t){n.a.collection("customers").doc(e.env.ID_CUSTOMER).collection("sites").doc(e.env.ID_SITE).collection("users").doc(r.formLog.mail).get().then((function(e){e.exists&&null==e.data().deleteDate?r.checkPassword(r.formLog.password,e.data().password).then((function(t){t?(r.setUser(e.data()),r.$emit("loggedIn")):alert("Mot de passe incorrecte")})):alert("compte inexistant")})).catch((function(e){console.log(e)}))}else console.error("Le formulaire contient une erreur")}))}}),computed:{username:function(){return this.$store.getters["auth/username"]},userInfo:function(){return JSON.parse(JSON.stringify(this.$store.getters["auth/user"]))}},watch:{}}}).call(this,t(17))},758:function(e,r){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNDM3LjY3NiA0MzcuNjc2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MzcuNjc2IDQzNy42NzY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwb2x5Z29uIHN0eWxlPSJmaWxsOiMwMTAwMDI7IiBwb2ludHM9IjIxOC44NDEsMjU2LjY1OSAxOS43NDQsODEuODI0IDQxNy45MzEsODEuODI0IAkiLz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojMDEwMDAyOyIgcG9pbnRzPSIxMzkuNTI5LDIxOC43ODEgMCwzNDEuMzExIDAsOTYuMjUyIAkiLz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojMDEwMDAyOyIgcG9pbnRzPSIxNTcuNjE1LDIzNC42NjUgMjE4Ljg0MSwyODguNDI3IDI4MC4wNTUsMjM0LjY2NSA0MTguMDU3LDM1NS44NTIgMTkuNjE5LDM1NS44NTIgCSIvPg0KCTxwb2x5Z29uIHN0eWxlPSJmaWxsOiMwMTAwMDI7IiBwb2ludHM9IjI5OC4xNDEsMjE4Ljc4NyA0MzcuNjc2LDk2LjI1MiA0MzcuNjc2LDM0MS4zMTEgCSIvPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo="},759:function(e,r){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iYm9sZCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjQgMjQiIGhlaWdodD0iNTEyIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTE4Ljc1IDloLS43NXYtM2MwLTMuMzA5LTIuNjkxLTYtNi02cy02IDIuNjkxLTYgNnYzaC0uNzVjLTEuMjQgMC0yLjI1IDEuMDA5LTIuMjUgMi4yNXYxMC41YzAgMS4yNDEgMS4wMSAyLjI1IDIuMjUgMi4yNWgxMy41YzEuMjQgMCAyLjI1LTEuMDA5IDIuMjUtMi4yNXYtMTAuNWMwLTEuMjQxLTEuMDEtMi4yNS0yLjI1LTIuMjV6bS0xMC43NS0zYzAtMi4yMDYgMS43OTQtNCA0LTRzNCAxLjc5NCA0IDR2M2gtOHptNSAxMC43MjJ2Mi4yNzhjMCAuNTUyLS40NDcgMS0xIDFzLTEtLjQ0OC0xLTF2LTIuMjc4Yy0uNTk1LS4zNDctMS0uOTg1LTEtMS43MjIgMC0xLjEwMy44OTctMiAyLTJzMiAuODk3IDIgMmMwIC43MzctLjQwNSAxLjM3NS0xIDEuNzIyeiIvPjwvc3ZnPg=="},760:function(e,r){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJmZWF0aGVyIGZlYXRoZXItaGVscC1jaXJjbGUiPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjEwIj48L2NpcmNsZT48cGF0aCBkPSJNOS4wOSA5YTMgMyAwIDAgMSA1LjgzIDFjMCAyLTMgMy0zIDMiPjwvcGF0aD48bGluZSB4MT0iMTIiIHkxPSIxNyIgeDI9IjEyLjAxIiB5Mj0iMTciPjwvbGluZT48L3N2Zz4="},902:function(e,r,t){"use strict";t.r(r);var o=[function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("button",{staticClass:"secondary",attrs:{type:"button"}},[o("p",[e._v("CONTINUER SANS COMPTE")]),e._v(" "),o("img",{attrs:{src:t(760),alt:"Commande anonyme"}})])},function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("button",{staticClass:"inscr",attrs:{type:"button"}},[o("p",[e._v("CREER UN COMPTE")]),e._v(" "),o("img",{staticStyle:{height:"1rem"},attrs:{src:t(331),alt:"connexion"}})])}],n=t(569).a,m=t(12),component=Object(m.a)(n,(function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"container identification"},[o("div",{staticClass:"row-bootstrap m-0"},[o("div",{staticClass:"col-12 col-md-5 col-lg-4 half"},[e.username?e._e():o("form",{staticClass:"formLogIn",attrs:{"data-vv-scope":"formLogIn",action:""}},[o("h2",[e._v("J'AI DÉJÀ UN COMPTE")]),e._v(" "),o("div",{staticClass:"input-style"},[o("label",{attrs:{for:"formLogInEmailLogin"}},[e._v("Adresse e-mail")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.formLog.mail,expression:"formLog.mail"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{type:"email",id:"formLogInEmailLogin",name:"emailLogin"},domProps:{value:e.formLog.mail},on:{input:function(r){r.target.composing||e.$set(e.formLog,"mail",r.target.value)}}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("formLogIn.emailLogin"),expression:"errors.has('formLogIn.emailLogin')"}],staticClass:"is-danger"},[e._v(e._s(e.errors.first("formLogIn.emailLogin")))]),e._v(" "),o("img",{staticClass:"inputImg",attrs:{src:t(758),alt:"mail"}})]),e._v(" "),o("div",{staticClass:"input-style"},[o("label",{attrs:{for:"formLogInPasswordLogin"}},[e._v("Mot de passe")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.formLog.password,expression:"formLog.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"password",id:"formLogInPasswordLogin",name:"passwordLogin"},domProps:{value:e.formLog.password},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.logIn()},input:function(r){r.target.composing||e.$set(e.formLog,"password",r.target.value)}}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("formLogIn.passwordLogin"),expression:"errors.has('formLogIn.passwordLogin')"}],staticClass:"is-danger"},[e._v(e._s(e.errors.first("formLogIn.passwordLogin")))]),e._v(" "),o("img",{staticClass:"inputImg",attrs:{src:t(759),alt:"password"}}),e._v(" "),o("a",{staticClass:"forgot",attrs:{href:"#"}},[e._v("Mot de passe oublié ?")])]),e._v(" "),o("div",{staticClass:"btn-login",staticStyle:{width:"100%"}},[o("button",{attrs:{type:"button"},on:{click:function(r){return e.logIn()}}},[o("img",{attrs:{src:t(329),alt:"connexion"}}),e._v(" "),o("p",[e._v("CONNEXION")])])]),e._v(" "),o("div",{staticClass:"btn-guest",on:{click:function(r){return e.$emit("loggedIn","guest")}}},[e._m(0)])])]),e._v(" "),o("div",{staticClass:"col-12 col-md-7 col-lg-8 half"},[e.username||e.isSignedUp?e._e():o("form",{staticClass:"formSignUp",attrs:{"data-vv-scope":"formSignUp"}},[o("h2",[e._v("JE N'AI PAS DE COMPTE")]),e._v(" "),o("p",{staticStyle:{color:"var(--color3)","font-style":"italic","margin-bottom":"20px"}},[e._v("Inscrivez vous dès maintenant pour commander encore plus vite, suivre l'avancé de vos commandes et recevoir nos offres.")]),e._v(" "),o("div",{staticClass:"row-bootstrap"},[o("div",{staticClass:"col-12 col-lg-6"},[o("div",{staticStyle:{"margin-bottom":"20px",width:"100%"}},[o("label",{attrs:{for:"formSignUpLastName"}},[e._v("Nom")]),e._v(" "),o("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.formSignUp.lastName,expression:"formSignUp.lastName"}],attrs:{type:"text",id:"formSignUpLastName",name:"lastName"},domProps:{value:e.formSignUp.lastName},on:{input:function(r){r.target.composing||e.$set(e.formSignUp,"lastName",r.target.value)}}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("formSignUp.lastName"),expression:"errors.has('formSignUp.lastName')"}],staticClass:"is-danger"},[e._v(e._s(e.errors.first("formSignUp.lastName")))])])]),e._v(" "),o("div",{staticClass:"col-12 col-lg-6"},[o("div",{staticStyle:{"margin-bottom":"20px",width:"100%"}},[o("label",{attrs:{for:"formSignUpPrenom"}},[e._v("Prénom")]),e._v(" "),o("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.formSignUp.firstName,expression:"formSignUp.firstName"}],attrs:{type:"text",id:"formSignUpPrenom",name:"firstName"},domProps:{value:e.formSignUp.firstName},on:{input:function(r){r.target.composing||e.$set(e.formSignUp,"firstName",r.target.value)}}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("formSignUp.firstName"),expression:"errors.has('formSignUp.firstName')"}],staticClass:"is-danger"},[e._v(e._s(e.errors.first("formSignUp.firstName")))])])])]),e._v(" "),o("div",{staticClass:"row-bootstrap"},[o("div",{staticClass:"col-12 col-lg-6"},[o("div",{staticStyle:{"margin-bottom":"20px",width:"100%"}},[o("label",{attrs:{for:"formSignUpEmail"}},[e._v("Adresse e-mail")]),e._v(" "),o("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:e.formSignUp.mail,expression:"formSignUp.mail"}],attrs:{type:"email",id:"formSignUpEmail",name:"email"},domProps:{value:e.formSignUp.mail},on:{input:function(r){r.target.composing||e.$set(e.formSignUp,"mail",r.target.value)}}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("formSignUp.email"),expression:"errors.has('formSignUp.email')"}],staticClass:"is-danger"},[e._v(e._s(e.errors.first("formSignUp.email")))])])]),e._v(" "),o("div",{staticClass:"col-12 col-lg-6"},[o("div",{staticStyle:{"margin-bottom":"20px",width:"100%"}},[o("label",{attrs:{for:"formSignPhone"}},[e._v("Numéro de Téléphone")]),e._v(" "),o("input",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|max:10",expression:"'numeric|max:10'"},{name:"model",rawName:"v-model",value:e.formSignUp.phone,expression:"formSignUp.phone"}],attrs:{type:"text",id:"formSignPhone",name:"phone"},domProps:{value:e.formSignUp.phone},on:{input:function(r){r.target.composing||e.$set(e.formSignUp,"phone",r.target.value)}}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("formSignUp.phone"),expression:"errors.has('formSignUp.phone')"}],staticClass:"is-danger"},[e._v(e._s(e.errors.first("formSignUp.phone")))])])])]),e._v(" "),o("div",{staticClass:"row-bootstrap"},[o("div",{staticClass:"col-12 col-lg-6"},[o("div",{staticStyle:{"margin-bottom":"20px",width:"100%"}},[o("label",{attrs:{for:"formSignUpPassword"}},[e._v("Mot de passe")]),e._v(" "),o("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"},{name:"model",rawName:"v-model",value:e.formSignUp.password,expression:"formSignUp.password"}],ref:"password",attrs:{type:"password",id:"formSignUpPassword",name:"password"},domProps:{value:e.formSignUp.password},on:{input:function(r){r.target.composing||e.$set(e.formSignUp,"password",r.target.value)}}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("formSignUp.password"),expression:"errors.has('formSignUp.password')"}],staticClass:"is-danger"},[e._v(e._s(e.errors.first("formSignUp.password")))])])]),e._v(" "),o("div",{staticClass:"col-12 col-lg-6"},[o("div",{staticStyle:{"margin-bottom":"20px",width:"100%"}},[o("label",{attrs:{for:"formSignUpConfirmedPassword"}},[e._v("Confirmer le mot de passe")]),e._v(" "),o("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:password",expression:"'required|confirmed:password'"},{name:"model",rawName:"v-model",value:e.confirmedPassword,expression:"confirmedPassword"}],attrs:{type:"password",id:"formSignUpConfirmedPassword",name:"confirmedPassword"},domProps:{value:e.confirmedPassword},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.signUp()},input:function(r){r.target.composing||(e.confirmedPassword=r.target.value)}}}),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("formSignUp.confirmedPassword"),expression:"errors.has('formSignUp.confirmedPassword')"}],staticClass:"is-danger"},[e._v(e._s(e.errors.first("formSignUp.confirmedPassword")))])])])]),e._v(" "),o("div",{staticClass:"row-cgv"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.formSignUp.newsletter,expression:"formSignUp.newsletter"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.formSignUp.newsletter)?e._i(e.formSignUp.newsletter,null)>-1:e.formSignUp.newsletter},on:{change:function(r){var t=e.formSignUp.newsletter,o=r.target,n=!!o.checked;if(Array.isArray(t)){var m=e._i(t,null);o.checked?m<0&&e.$set(e.formSignUp,"newsletter",t.concat([null])):m>-1&&e.$set(e.formSignUp,"newsletter",t.slice(0,m).concat(t.slice(m+1)))}else e.$set(e.formSignUp,"newsletter",n)}}}),e._v(" "),o("p",[e._v("Je souhaite recevoir des offres promotionnelles")])]),e._v(" "),o("div",{staticClass:"flex footer-buttons"},[o("div",{staticClass:"btn-signup",staticStyle:{"margin-top":"20px"},on:{click:function(r){return e.signUp()}}},[e._m(1)])])])])])])}),o,!1,null,null,null);r.default=component.exports}}]);