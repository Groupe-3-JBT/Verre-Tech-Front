/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1e3:function(t,e,n){var r=n(1001),o=n(1002),c=n(776),l=n(743);t.exports=function(path){return c(path)?r(l(path)):o(path)}},1001:function(t,e){t.exports=function(t){return function(object){return null==object?void 0:object[t]}}},1002:function(t,e,n){var r=n(827);t.exports=function(path){return function(object){return r(object,path)}}},1003:function(t,e,n){var r=n(1004),o=n(775);t.exports=function(t,e){var n=-1,c=o(t)?Array(t.length):[];return r(t,(function(t,r,o){c[++n]=e(t,r,o)})),c}},1004:function(t,e,n){var r=n(1005),o=n(1008)(r);t.exports=o},1005:function(t,e,n){var r=n(1006),o=n(773);t.exports=function(object,t){return object&&r(object,t,o)}},1006:function(t,e,n){var r=n(1007)();t.exports=r},1007:function(t,e){t.exports=function(t){return function(object,e,n){for(var r=-1,o=Object(object),c=n(object),l=c.length;l--;){var h=c[t?l:++r];if(!1===e(o[h],h,o))break}return object}}},1008:function(t,e,n){var r=n(775);t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var c=n.length,l=e?c:-1,h=Object(n);(e?l--:++l<c)&&!1!==o(h[l],l,h););return n}}},1025:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(){return(c=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t}).apply(this,arguments)}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter((function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable})))),e.forEach((function(e){o(t,e,source[e])}))}return t}function h(source,t){if(null==source)return{};var e,i,n=function(source,t){if(null==source)return{};var e,i,n={},r=Object.keys(source);for(i=0;i<r.length;i++)e=r[i],t.indexOf(e)>=0||(n[e]=source[e]);return n}(source,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(source);for(i=0;i<r.length;i++)e=r[i],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(source,e)&&(n[e]=source[e])}return n}function f(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.r(e),n.d(e,"MultiDrag",(function(){return xe})),n.d(e,"Sortable",(function(){return Xt})),n.d(e,"Swap",(function(){return ye}));function d(pattern){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(pattern)}var v=d(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),m=d(/Edge/i),y=d(/firefox/i),_=d(/safari/i)&&!d(/chrome/i)&&!d(/android/i),w=d(/iP(ad|od|hone)/i),O=d(/chrome/i)&&d(/android/i),I={capture:!1,passive:!1};function T(t,e,n){t.addEventListener(e,n,!v&&I)}function S(t,e,n){t.removeEventListener(e,n,!v&&I)}function E(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function C(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function k(t,e,n,r){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&E(t,e):E(t,e))||r&&t===n)return t;if(t===n)break}while(t=C(t))}return null}var x,N=/\s+/g;function j(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(N," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(N," ")}}function A(t,e,n){var style=t&&t.style;if(style){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in style||-1!==e.indexOf("webkit")||(e="-webkit-"+e),style[e]=n+("string"==typeof n?"":"px")}}function P(t,e){var n="";if("string"==typeof t)n=t;else do{var r=A(t,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function R(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function D(){var t=document.scrollingElement;return t||document.documentElement}function M(t,e,n,r,o){if(t.getBoundingClientRect||t===window){var c,l,h,f,d,m,y;if(t!==window&&t!==D()?(l=(c=t.getBoundingClientRect()).top,h=c.left,f=c.bottom,d=c.right,m=c.height,y=c.width):(l=0,h=0,f=window.innerHeight,d=window.innerWidth,m=window.innerHeight,y=window.innerWidth),(e||n)&&t!==window&&(o=o||t.parentNode,!v))do{if(o&&o.getBoundingClientRect&&("none"!==A(o,"transform")||n&&"static"!==A(o,"position"))){var _=o.getBoundingClientRect();l-=_.top+parseInt(A(o,"border-top-width")),h-=_.left+parseInt(A(o,"border-left-width")),f=l+c.height,d=h+c.width;break}}while(o=o.parentNode);if(r&&t!==window){var w=P(o||t),O=w&&w.a,I=w&&w.d;w&&(f=(l/=I)+(m/=I),d=(h/=O)+(y/=O))}return{top:l,left:h,bottom:f,right:d,width:y,height:m}}}function L(t,e,n){for(var r=K(t,!0),o=M(t)[e];r;){var c=M(r)[n];if(!("top"===n||"left"===n?o>=c:o<=c))return r;if(r===D())break;r=K(r,!1)}return!1}function F(t,e,n){for(var r=0,i=0,o=t.children;i<o.length;){if("none"!==o[i].style.display&&o[i]!==Xt.ghost&&o[i]!==Xt.dragged&&k(o[i],n.draggable,t,!1)){if(r===e)return o[i];r++}i++}return null}function U(t,e){for(var n=t.lastElementChild;n&&(n===Xt.ghost||"none"===A(n,"display")||e&&!E(n,e));)n=n.previousElementSibling;return n||null}function V(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Xt.clone||e&&!E(t,e)||n++;return n}function B(t){var e=0,n=0,r=D();if(t)do{var o=P(t),c=o.a,l=o.d;e+=t.scrollLeft*c,n+=t.scrollTop*l}while(t!==r&&(t=t.parentNode));return[e,n]}function K(t,e){if(!t||!t.getBoundingClientRect)return D();var n=t,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=A(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return D();if(r||e)return n;r=!0}}}while(n=n.parentNode);return D()}function W(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function H(t,e){return function(){if(!x){var n=arguments,r=this;1===n.length?t.call(r,n[0]):t.apply(r,n),x=setTimeout((function(){x=void 0}),e)}}}function z(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function G(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function $(t,rect){A(t,"position","absolute"),A(t,"top",rect.top),A(t,"left",rect.left),A(t,"width",rect.width),A(t,"height",rect.height)}function Y(t){A(t,"position",""),A(t,"top",""),A(t,"left",""),A(t,"width",""),A(t,"height","")}var X="Sortable"+(new Date).getTime();function J(){var t,e=[];return{captureAnimationState:function(){(e=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(t){if("none"!==A(t,"display")&&t!==Xt.ghost){e.push({target:t,rect:M(t)});var n=l({},e[e.length-1].rect);if(t.thisAnimationDuration){var r=P(t,!0);r&&(n.top-=r.f,n.left-=r.e)}t.fromRect=n}}))},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(function(t,e){for(var i in t)if(t.hasOwnProperty(i))for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[i][n])return Number(i);return-1}(e,{target:t}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof n&&n());var o=!1,c=0;e.forEach((function(t){var time=0,e=t.target,n=e.fromRect,l=M(e),h=e.prevFromRect,f=e.prevToRect,d=t.rect,v=P(e,!0);v&&(l.top-=v.f,l.left-=v.e),e.toRect=l,e.thisAnimationDuration&&W(h,l)&&!W(n,l)&&(d.top-l.top)/(d.left-l.left)==(n.top-l.top)/(n.left-l.left)&&(time=function(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}(d,h,f,r.options)),W(l,n)||(e.prevFromRect=n,e.prevToRect=l,time||(time=r.options.animation),r.animate(e,d,l,time)),time&&(o=!0,c=Math.max(c,time),clearTimeout(e.animationResetTimer),e.animationResetTimer=setTimeout((function(){e.animationTime=0,e.prevFromRect=null,e.fromRect=null,e.prevToRect=null,e.thisAnimationDuration=null}),time),e.thisAnimationDuration=time)})),clearTimeout(t),o?t=setTimeout((function(){"function"==typeof n&&n()}),c):"function"==typeof n&&n(),e=[]},animate:function(t,e,n,r){if(r){A(t,"transition",""),A(t,"transform","");var o=P(this.el),c=o&&o.a,l=o&&o.d,h=(e.left-n.left)/(c||1),f=(e.top-n.top)/(l||1);t.animatingX=!!h,t.animatingY=!!f,A(t,"transform","translate3d("+h+"px,"+f+"px,0)"),function(t){t.offsetWidth}(t),A(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),A(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){A(t,"transition",""),A(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),r)}}}}var Q=[],Z={initializeByDefault:!0},tt={mount:function(t){for(var option in Z)Z.hasOwnProperty(option)&&!(option in t)&&(t[option]=Z[option]);Q.push(t)},pluginEvent:function(t,e,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=t+"Global";Q.forEach((function(r){e[r.pluginName]&&(e[r.pluginName][o]&&e[r.pluginName][o](l({sortable:e},n)),e.options[r.pluginName]&&e[r.pluginName][t]&&e[r.pluginName][t](l({sortable:e},n)))}))},initializePlugins:function(t,e,n,r){for(var option in Q.forEach((function(r){var o=r.pluginName;if(t.options[o]||r.initializeByDefault){var l=new r(t,e,t.options);l.sortable=t,l.options=t.options,t[o]=l,c(n,l.defaults)}})),t.options)if(t.options.hasOwnProperty(option)){var o=this.modifyOption(t,option,t.options[option]);void 0!==o&&(t.options[option]=o)}},getEventProperties:function(t,e){var n={};return Q.forEach((function(r){"function"==typeof r.eventProperties&&c(n,r.eventProperties.call(e[r.pluginName],t))})),n},modifyOption:function(t,e,n){var r;return Q.forEach((function(o){t[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[e]&&(r=o.optionListeners[e].call(t[o.pluginName],n))})),r}};function et(t){var e=t.sortable,n=t.rootEl,r=t.name,o=t.targetEl,c=t.cloneEl,h=t.toEl,f=t.fromEl,d=t.oldIndex,y=t.newIndex,_=t.oldDraggableIndex,w=t.newDraggableIndex,O=t.originalEvent,I=t.putSortable,T=t.extraEventProperties;if(e=e||n&&n[X]){var S,E=e.options,C="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||v||m?(S=document.createEvent("Event")).initEvent(r,!0,!0):S=new CustomEvent(r,{bubbles:!0,cancelable:!0}),S.to=h||n,S.from=f||n,S.item=o||n,S.clone=c,S.oldIndex=d,S.newIndex=y,S.oldDraggableIndex=_,S.newDraggableIndex=w,S.originalEvent=O,S.pullMode=I?I.lastPutMode:void 0;var k=l({},T,tt.getEventProperties(r,e));for(var option in k)S[option]=k[option];n&&n.dispatchEvent(S),E[C]&&E[C].call(e,S)}}var nt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,data=h(n,["evt"]);tt.pluginEvent.bind(Xt)(t,e,l({dragEl:ot,parentEl:at,ghostEl:st,rootEl:ut,nextEl:ct,lastDownEl:lt,cloneEl:ht,cloneHidden:ft,dragStarted:Et,putSortable:bt,activeSortable:Xt.active,originalEvent:r,oldIndex:pt,oldDraggableIndex:gt,newIndex:vt,newDraggableIndex:mt,hideGhostForTarget:zt,unhideGhostForTarget:Gt,cloneNowHidden:function(){ft=!0},cloneNowShown:function(){ft=!1},dispatchSortableEvent:function(t){it({sortable:e,name:t,originalEvent:r})}},data))};function it(t){et(l({putSortable:bt,cloneEl:ht,targetEl:ot,rootEl:ut,oldIndex:pt,oldDraggableIndex:gt,newIndex:vt,newDraggableIndex:mt},t))}var ot,at,st,ut,ct,lt,ht,ft,pt,vt,gt,mt,yt,bt,_t,wt,Ot,It,Tt,St,Et,Ct,kt,xt,Nt,jt=!1,At=!1,Pt=[],Rt=!1,Dt=!1,Mt=[],Lt=!1,Ft=[],Ut="undefined"!=typeof document,qt=w,Vt=m||v?"cssFloat":"float",Bt=Ut&&!O&&!w&&"draggable"in document.createElement("div"),Kt=function(){if(Ut){if(v)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Wt=function(t,e){var n=A(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=F(t,0,e),c=F(t,1,e),l=o&&A(o),h=c&&A(c),f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+M(o).width,d=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+M(c).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&l.float&&"none"!==l.float){var v="left"===l.float?"left":"right";return!c||"both"!==h.clear&&h.clear!==v?"horizontal":"vertical"}return o&&("block"===l.display||"flex"===l.display||"table"===l.display||"grid"===l.display||f>=r&&"none"===n[Vt]||c&&"none"===n[Vt]&&f+d>r)?"vertical":"horizontal"},Ht=function(t){function e(t,n){return function(r,o,c,l){var h=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==t&&(n||h))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(r,o,c,l),n)(r,o,c,l);var f=(n?r:o).options.group.name;return!0===t||"string"==typeof t&&t===f||t.join&&t.indexOf(f)>-1}}var n={},o=t.group;o&&"object"==r(o)||(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n},zt=function(){!Kt&&st&&A(st,"display","none")},Gt=function(){!Kt&&st&&A(st,"display","")};Ut&&document.addEventListener("click",(function(t){if(At)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),At=!1,!1}),!0);var $t=function(t){if(ot){t=t.touches?t.touches[0]:t;var e=(r=t.clientX,o=t.clientY,Pt.some((function(t){if(!U(t)){var rect=M(t),e=t[X].options.emptyInsertThreshold,n=r>=rect.left-e&&r<=rect.right+e,l=o>=rect.top-e&&o<=rect.bottom+e;return e&&n&&l?c=t:void 0}})),c);if(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[X]._onDragOver(n)}}var r,o,c},Yt=function(t){ot&&ot.parentNode[X]._isOutsideThisEl(t.target)};function Xt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=c({},e),t[X]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Wt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Xt.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in tt.initializePlugins(this,t,n),n)!(r in e)&&(e[r]=n[r]);for(var o in Ht(e),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&Bt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?T(t,"pointerdown",this._onTapStart):(T(t,"mousedown",this._onTapStart),T(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(T(t,"dragover",this),T(t,"dragenter",this)),Pt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),c(this,J())}function Jt(t,e,n,r,o,c,l,h){var f,d,y=t[X],_=y.options.onMove;return!window.CustomEvent||v||m?(f=document.createEvent("Event")).initEvent("move",!0,!0):f=new CustomEvent("move",{bubbles:!0,cancelable:!0}),f.to=e,f.from=t,f.dragged=n,f.draggedRect=r,f.related=o||e,f.relatedRect=c||M(e),f.willInsertAfter=h,f.originalEvent=l,t.dispatchEvent(f),_&&(d=_.call(y,f,l)),d}function Qt(t){t.draggable=!1}function Zt(){Lt=!1}function te(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function ee(t){return setTimeout(t,0)}function ne(t){return clearTimeout(t)}Xt.prototype={constructor:Xt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(Ct=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,ot):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,r=this.options,o=r.preventOnFilter,c=t.type,l=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,h=(l||t).target,f=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||h,filter=r.filter;if(function(t){Ft.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var r=e[n];r.checked&&Ft.push(r)}}(n),!ot&&!(/mousedown|pointerdown/.test(c)&&0!==t.button||r.disabled||f.isContentEditable||(h=k(h,r.draggable,n,!1))&&h.animated||lt===h)){if(pt=V(h),gt=V(h,r.draggable),"function"==typeof filter){if(filter.call(this,t,h,this))return it({sortable:e,rootEl:f,name:"filter",targetEl:h,toEl:n,fromEl:n}),nt("filter",e,{evt:t}),void(o&&t.cancelable&&t.preventDefault())}else if(filter&&(filter=filter.split(",").some((function(r){if(r=k(f,r.trim(),n,!1))return it({sortable:e,rootEl:r,name:"filter",targetEl:h,fromEl:n,toEl:n}),nt("filter",e,{evt:t}),!0}))))return void(o&&t.cancelable&&t.preventDefault());r.handle&&!k(f,r.handle,n,!1)||this._prepareDragStart(t,l,h)}}},_prepareDragStart:function(t,e,n){var r,o=this,c=o.el,l=o.options,h=c.ownerDocument;if(n&&!ot&&n.parentNode===c){var f=M(n);if(ut=c,at=(ot=n).parentNode,ct=ot.nextSibling,lt=n,yt=l.group,Xt.dragged=ot,_t={target:ot,clientX:(e||t).clientX,clientY:(e||t).clientY},Tt=_t.clientX-f.left,St=_t.clientY-f.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,ot.style["will-change"]="all",r=function(){nt("delayEnded",o,{evt:t}),Xt.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!y&&o.nativeDraggable&&(ot.draggable=!0),o._triggerDragStart(t,e),it({sortable:o,name:"choose",originalEvent:t}),j(ot,l.chosenClass,!0))},l.ignore.split(",").forEach((function(t){R(ot,t.trim(),Qt)})),T(h,"dragover",$t),T(h,"mousemove",$t),T(h,"touchmove",$t),T(h,"mouseup",o._onDrop),T(h,"touchend",o._onDrop),T(h,"touchcancel",o._onDrop),y&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ot.draggable=!0),nt("delayStart",this,{evt:t}),!l.delay||l.delayOnTouchOnly&&!e||this.nativeDraggable&&(m||v))r();else{if(Xt.eventCanceled)return void this._onDrop();T(h,"mouseup",o._disableDelayedDrag),T(h,"touchend",o._disableDelayedDrag),T(h,"touchcancel",o._disableDelayedDrag),T(h,"mousemove",o._delayedDragTouchMoveHandler),T(h,"touchmove",o._delayedDragTouchMoveHandler),l.supportPointer&&T(h,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,l.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ot&&Qt(ot),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;S(t,"mouseup",this._disableDelayedDrag),S(t,"touchend",this._disableDelayedDrag),S(t,"touchcancel",this._disableDelayedDrag),S(t,"mousemove",this._delayedDragTouchMoveHandler),S(t,"touchmove",this._delayedDragTouchMoveHandler),S(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?T(document,"pointermove",this._onTouchMove):T(document,e?"touchmove":"mousemove",this._onTouchMove):(T(ot,"dragend",this),T(ut,"dragstart",this._onDragStart));try{document.selection?ee((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(jt=!1,ut&&ot){nt("dragStarted",this,{evt:e}),this.nativeDraggable&&T(document,"dragover",Yt);var n=this.options;!t&&j(ot,n.dragClass,!1),j(ot,n.ghostClass,!0),Xt.active=this,t&&this._appendGhost(),it({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(wt){this._lastX=wt.clientX,this._lastY=wt.clientY,zt();for(var t=document.elementFromPoint(wt.clientX,wt.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(wt.clientX,wt.clientY))!==e;)e=t;if(ot.parentNode[X]._isOutsideThisEl(t),e)do{if(e[X]){if(e[X]._onDragOver({clientX:wt.clientX,clientY:wt.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Gt()}},_onTouchMove:function(t){if(_t){var e=this.options,n=e.fallbackTolerance,r=e.fallbackOffset,o=t.touches?t.touches[0]:t,c=st&&P(st,!0),l=st&&c&&c.a,h=st&&c&&c.d,f=qt&&Nt&&B(Nt),d=(o.clientX-_t.clientX+r.x)/(l||1)+(f?f[0]-Mt[0]:0)/(l||1),v=(o.clientY-_t.clientY+r.y)/(h||1)+(f?f[1]-Mt[1]:0)/(h||1);if(!Xt.active&&!jt){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(st){c?(c.e+=d-(Ot||0),c.f+=v-(It||0)):c={a:1,b:0,c:0,d:1,e:d,f:v};var m="matrix(".concat(c.a,",").concat(c.b,",").concat(c.c,",").concat(c.d,",").concat(c.e,",").concat(c.f,")");A(st,"webkitTransform",m),A(st,"mozTransform",m),A(st,"msTransform",m),A(st,"transform",m),Ot=d,It=v,wt=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!st){var t=this.options.fallbackOnBody?document.body:ut,rect=M(ot,!0,qt,!0,t),e=this.options;if(qt){for(Nt=t;"static"===A(Nt,"position")&&"none"===A(Nt,"transform")&&Nt!==document;)Nt=Nt.parentNode;Nt!==document.body&&Nt!==document.documentElement?(Nt===document&&(Nt=D()),rect.top+=Nt.scrollTop,rect.left+=Nt.scrollLeft):Nt=D(),Mt=B(Nt)}j(st=ot.cloneNode(!0),e.ghostClass,!1),j(st,e.fallbackClass,!0),j(st,e.dragClass,!0),A(st,"transition",""),A(st,"transform",""),A(st,"box-sizing","border-box"),A(st,"margin",0),A(st,"top",rect.top),A(st,"left",rect.left),A(st,"width",rect.width),A(st,"height",rect.height),A(st,"opacity","0.8"),A(st,"position",qt?"absolute":"fixed"),A(st,"zIndex","100000"),A(st,"pointerEvents","none"),Xt.ghost=st,t.appendChild(st),A(st,"transform-origin",Tt/parseInt(st.style.width)*100+"% "+St/parseInt(st.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,r=t.dataTransfer,o=n.options;nt("dragStart",this,{evt:t}),Xt.eventCanceled?this._onDrop():(nt("setupClone",this),Xt.eventCanceled||((ht=G(ot)).draggable=!1,ht.style["will-change"]="",this._hideClone(),j(ht,this.options.chosenClass,!1),Xt.clone=ht),n.cloneId=ee((function(){nt("clone",n),Xt.eventCanceled||(n.options.removeCloneOnHide||ut.insertBefore(ht,ot),n._hideClone(),it({sortable:n,name:"clone"}))})),!e&&j(ot,o.dragClass,!0),e?(At=!0,n._loopId=setInterval(n._emulateDragOver,50)):(S(document,"mouseup",n._onDrop),S(document,"touchend",n._onDrop),S(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,ot)),T(document,"drop",n),A(ot,"transform","translateZ(0)")),jt=!0,n._dragStartId=ee(n._dragStarted.bind(n,e,t)),T(document,"selectstart",n),Et=!0,_&&A(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,r,o,c=this.el,h=t.target,f=this.options,d=f.group,v=Xt.active,m=yt===d,y=f.sort,_=bt||v,w=this,O=!1;if(!Lt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),h=k(h,f.draggable,c,!0),W("dragOver"),Xt.eventCanceled)return O;if(ot.contains(t.target)||h.animated&&h.animatingX&&h.animatingY||w._ignoreWhileAnimating===h)return G(!1);if(At=!1,v&&!f.disabled&&(m?y||(r=!ut.contains(ot)):bt===this||(this.lastPutMode=yt.checkPull(this,v,ot,t))&&d.checkPut(this,v,ot,t))){if(o="vertical"===this._getDirection(t,h),e=M(ot),W("dragOverValid"),Xt.eventCanceled)return O;if(r)return at=ut,H(),this._hideClone(),W("revert"),Xt.eventCanceled||(ct?ut.insertBefore(ot,ct):ut.appendChild(ot)),G(!0);var I=U(c,f.draggable);if(!I||function(t,e,n){var rect=M(U(n.el,n.options.draggable)),r=10;return e?t.clientX>rect.right+r||t.clientX<=rect.right&&t.clientY>rect.bottom&&t.clientX>=rect.left:t.clientX>rect.right&&t.clientY>rect.top||t.clientX<=rect.right&&t.clientY>rect.bottom+r}(t,o,this)&&!I.animated){if(I===ot)return G(!1);if(I&&c===t.target&&(h=I),h&&(n=M(h)),!1!==Jt(ut,c,ot,e,h,n,t,!!h))return H(),c.appendChild(ot),at=c,$(),G(!0)}else if(h.parentNode===c){n=M(h);var T,S,E,C=ot.parentNode!==c,x=!function(t,e,n){var r=n?t.left:t.top,o=n?t.right:t.bottom,c=n?t.width:t.height,l=n?e.left:e.top,h=n?e.right:e.bottom,f=n?e.width:e.height;return r===l||o===h||r+c/2===l+f/2}(ot.animated&&ot.toRect||e,h.animated&&h.toRect||n,o),N=o?"top":"left",P=L(h,"top","top")||L(ot,"top","top"),R=P?P.scrollTop:void 0;if(Ct!==h&&(S=n[N],Rt=!1,Dt=!x&&f.invertSwap||C),0!==(T=function(t,e,n,r,o,c,l,h){var f=r?t.clientY:t.clientX,d=r?n.height:n.width,v=r?n.top:n.left,m=r?n.bottom:n.right,y=!1;if(!l)if(h&&xt<d*o){if(!Rt&&(1===kt?f>v+d*c/2:f<m-d*c/2)&&(Rt=!0),Rt)y=!0;else if(1===kt?f<v+xt:f>m-xt)return-kt}else if(f>v+d*(1-o)/2&&f<m-d*(1-o)/2)return function(t){return V(ot)<V(t)?1:-1}(e);if((y=y||l)&&(f<v+d*c/2||f>m-d*c/2))return f>v+d/2?1:-1;return 0}(t,h,n,o,x?1:f.swapThreshold,null==f.invertedSwapThreshold?f.swapThreshold:f.invertedSwapThreshold,Dt,Ct===h))){var D=V(ot);do{D-=T,E=at.children[D]}while(E&&("none"===A(E,"display")||E===st))}if(0===T||E===h)return G(!1);Ct=h,kt=T;var F=h.nextElementSibling,B=!1,K=Jt(ut,c,ot,e,h,n,t,B=1===T);if(!1!==K)return 1!==K&&-1!==K||(B=1===K),Lt=!0,setTimeout(Zt,30),H(),B&&!F?c.appendChild(ot):h.parentNode.insertBefore(ot,B?F:h),P&&z(P,0,R-P.scrollTop),at=ot.parentNode,void 0===S||Dt||(xt=Math.abs(S-M(h)[N])),$(),G(!0)}if(c.contains(ot))return G(!1)}return!1}function W(f,d){nt(f,w,l({evt:t,isOwner:m,axis:o?"vertical":"horizontal",revert:r,dragRect:e,targetRect:n,canSort:y,fromSortable:_,target:h,completed:G,onMove:function(n,r){return Jt(ut,c,ot,e,n,M(n),t,r)},changed:$},d))}function H(){W("dragOverAnimationCapture"),w.captureAnimationState(),w!==_&&_.captureAnimationState()}function G(e){return W("dragOverCompleted",{insertion:e}),e&&(m?v._hideClone():v._showClone(w),w!==_&&(j(ot,bt?bt.options.ghostClass:v.options.ghostClass,!1),j(ot,f.ghostClass,!0)),bt!==w&&w!==Xt.active?bt=w:w===Xt.active&&bt&&(bt=null),_===w&&(w._ignoreWhileAnimating=h),w.animateAll((function(){W("dragOverAnimationComplete"),w._ignoreWhileAnimating=null})),w!==_&&(_.animateAll(),_._ignoreWhileAnimating=null)),(h===ot&&!ot.animated||h===c&&!h.animated)&&(Ct=null),f.dragoverBubble||t.rootEl||h===document||(ot.parentNode[X]._isOutsideThisEl(t.target),!e&&$t(t)),!f.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),O=!0}function $(){vt=V(ot),mt=V(ot,f.draggable),it({sortable:w,name:"change",toEl:c,newIndex:vt,newDraggableIndex:mt,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){S(document,"mousemove",this._onTouchMove),S(document,"touchmove",this._onTouchMove),S(document,"pointermove",this._onTouchMove),S(document,"dragover",$t),S(document,"mousemove",$t),S(document,"touchmove",$t)},_offUpEvents:function(){var t=this.el.ownerDocument;S(t,"mouseup",this._onDrop),S(t,"touchend",this._onDrop),S(t,"pointerup",this._onDrop),S(t,"touchcancel",this._onDrop),S(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;vt=V(ot),mt=V(ot,n.draggable),nt("drop",this,{evt:t}),at=ot&&ot.parentNode,vt=V(ot),mt=V(ot,n.draggable),Xt.eventCanceled||(jt=!1,Dt=!1,Rt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ne(this.cloneId),ne(this._dragStartId),this.nativeDraggable&&(S(document,"drop",this),S(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),_&&A(document.body,"user-select",""),A(ot,"transform",""),t&&(Et&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),st&&st.parentNode&&st.parentNode.removeChild(st),(ut===at||bt&&"clone"!==bt.lastPutMode)&&ht&&ht.parentNode&&ht.parentNode.removeChild(ht),ot&&(this.nativeDraggable&&S(ot,"dragend",this),Qt(ot),ot.style["will-change"]="",Et&&!jt&&j(ot,bt?bt.options.ghostClass:this.options.ghostClass,!1),j(ot,this.options.chosenClass,!1),it({sortable:this,name:"unchoose",toEl:at,newIndex:null,newDraggableIndex:null,originalEvent:t}),ut!==at?(vt>=0&&(it({rootEl:at,name:"add",toEl:at,fromEl:ut,originalEvent:t}),it({sortable:this,name:"remove",toEl:at,originalEvent:t}),it({rootEl:at,name:"sort",toEl:at,fromEl:ut,originalEvent:t}),it({sortable:this,name:"sort",toEl:at,originalEvent:t})),bt&&bt.save()):vt!==pt&&vt>=0&&(it({sortable:this,name:"update",toEl:at,originalEvent:t}),it({sortable:this,name:"sort",toEl:at,originalEvent:t})),Xt.active&&(null!=vt&&-1!==vt||(vt=pt,mt=gt),it({sortable:this,name:"end",toEl:at,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){nt("nulling",this),ut=ot=at=st=ct=ht=lt=ft=_t=wt=Et=vt=mt=pt=gt=Ct=kt=bt=yt=Xt.dragged=Xt.ghost=Xt.clone=Xt.active=null,Ft.forEach((function(t){t.checked=!0})),Ft.length=Ot=It=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":ot&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)k(t=n[i],o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||te(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach((function(t,i){var r=n.children[i];k(r,this.options.draggable,n,!1)&&(e[t]=r)}),this),t.forEach((function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return k(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var r=tt.modifyOption(this,t,e);n[t]=void 0!==r?r:e,"group"===t&&Ht(n)},destroy:function(){nt("destroy",this);var t=this.el;t[X]=null,S(t,"mousedown",this._onTapStart),S(t,"touchstart",this._onTapStart),S(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(S(t,"dragover",this),S(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Pt.splice(Pt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ft){if(nt("hideClone",this),Xt.eventCanceled)return;A(ht,"display","none"),this.options.removeCloneOnHide&&ht.parentNode&&ht.parentNode.removeChild(ht),ft=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(ft){if(nt("showClone",this),Xt.eventCanceled)return;ut.contains(ot)&&!this.options.group.revertClone?ut.insertBefore(ht,ot):ct?ut.insertBefore(ht,ct):ut.appendChild(ht),this.options.group.revertClone&&this.animate(ot,ht),A(ht,"display",""),ft=!1}}else this._hideClone()}},Ut&&T(document,"touchmove",(function(t){(Xt.active||jt)&&t.cancelable&&t.preventDefault()})),Xt.utils={on:T,off:S,css:A,find:R,is:function(t,e){return!!k(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:H,closest:k,toggleClass:j,clone:G,index:V,nextTick:ee,cancelNextTick:ne,detectDirection:Wt,getChild:F},Xt.get=function(element){return element[X]},Xt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Xt.utils=l({},Xt.utils,t.utils)),tt.mount(t)}))},Xt.create=function(t,e){return new Xt(t,e)},Xt.version="1.10.2";var re,ie,oe,ae,se,ue,ce=[],le=!1;function he(){ce.forEach((function(t){clearInterval(t.pid)})),ce=[]}function fe(){clearInterval(ue)}var de,pe=H((function(t,e,n,r){if(e.scroll){var o,c=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,h=e.scrollSensitivity,f=e.scrollSpeed,d=D(),v=!1;ie!==n&&(ie=n,he(),re=e.scroll,o=e.scrollFn,!0===re&&(re=K(n,!0)));var m=0,y=re;do{var _=y,rect=M(_),w=rect.top,O=rect.bottom,I=rect.left,T=rect.right,S=rect.width,E=rect.height,C=void 0,k=void 0,x=_.scrollWidth,N=_.scrollHeight,j=A(_),P=_.scrollLeft,R=_.scrollTop;_===d?(C=S<x&&("auto"===j.overflowX||"scroll"===j.overflowX||"visible"===j.overflowX),k=E<N&&("auto"===j.overflowY||"scroll"===j.overflowY||"visible"===j.overflowY)):(C=S<x&&("auto"===j.overflowX||"scroll"===j.overflowX),k=E<N&&("auto"===j.overflowY||"scroll"===j.overflowY));var L=C&&(Math.abs(T-c)<=h&&P+S<x)-(Math.abs(I-c)<=h&&!!P),F=k&&(Math.abs(O-l)<=h&&R+E<N)-(Math.abs(w-l)<=h&&!!R);if(!ce[m])for(var i=0;i<=m;i++)ce[i]||(ce[i]={});ce[m].vx==L&&ce[m].vy==F&&ce[m].el===_||(ce[m].el=_,ce[m].vx=L,ce[m].vy=F,clearInterval(ce[m].pid),0==L&&0==F||(v=!0,ce[m].pid=setInterval(function(){r&&0===this.layer&&Xt.active._onTouchMove(se);var e=ce[this.layer].vy?ce[this.layer].vy*f:0,n=ce[this.layer].vx?ce[this.layer].vx*f:0;"function"==typeof o&&"continue"!==o.call(Xt.dragged.parentNode[X],n,e,t,se,ce[this.layer].el)||z(ce[this.layer].el,n,e)}.bind({layer:m}),24))),m++}while(e.bubbleScroll&&y!==d&&(y=K(y,!1)));le=v}}),30),ve=function(t){var e=t.originalEvent,n=t.putSortable,r=t.dragEl,o=t.activeSortable,c=t.dispatchSortableEvent,l=t.hideGhostForTarget,h=t.unhideGhostForTarget;if(e){var f=n||o;l();var d=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,v=document.elementFromPoint(d.clientX,d.clientY);h(),f&&!f.el.contains(v)&&(c("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function ge(){}function me(){}function ye(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){var e=t.dragEl;de=e},dragOverValid:function(t){var e=t.completed,n=t.target,r=t.onMove,o=t.activeSortable,c=t.changed,l=t.cancel;if(o.options.swap){var h=this.sortable.el,f=this.options;if(n&&n!==h){var d=de;!1!==r(n)?(j(n,f.swapClass,!0),de=n):de=null,d&&d!==de&&j(d,f.swapClass,!1)}c(),e(!0),l()}},drop:function(t){var e=t.activeSortable,n=t.putSortable,r=t.dragEl,o=n||this.sortable,c=this.options;de&&j(de,c.swapClass,!1),de&&(c.swap||n&&n.options.swap)&&r!==de&&(o.captureAnimationState(),o!==e&&e.captureAnimationState(),function(t,e){var n,r,o=t.parentNode,c=e.parentNode;if(!o||!c||o.isEqualNode(e)||c.isEqualNode(t))return;n=V(t),r=V(e),o.isEqualNode(c)&&n<r&&r++;o.insertBefore(e,o.children[n]),c.insertBefore(t,c.children[r])}(r,de),o.animateAll(),o!==e&&e.animateAll())},nulling:function(){de=null}},c(t,{pluginName:"swap",eventProperties:function(){return{swapItem:de}}})}ge.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=F(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:ve},c(ge,{pluginName:"revertOnSpill"}),me.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:ve},c(me,{pluginName:"removeOnSpill"});var be,_e,we,Oe,Ie,Te=[],Se=[],Ee=!1,Ce=!1,ke=!1;function xe(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));t.options.supportPointer?T(document,"pointerup",this._deselectMultiDrag):(T(document,"mouseup",this._deselectMultiDrag),T(document,"touchend",this._deselectMultiDrag)),T(document,"keydown",this._checkKeyDown),T(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(e,n){var data="";Te.length&&_e===t?Te.forEach((function(t,i){data+=(i?", ":"")+t.textContent})):data=n.textContent,e.setData("Text",data)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var e=t.dragEl;we=e},delayEnded:function(){this.isMultiDrag=~Te.indexOf(we)},setupClone:function(t){var e=t.sortable,n=t.cancel;if(this.isMultiDrag){for(var i=0;i<Te.length;i++)Se.push(G(Te[i])),Se[i].sortableIndex=Te[i].sortableIndex,Se[i].draggable=!1,Se[i].style["will-change"]="",j(Se[i],this.options.selectedClass,!1),Te[i]===we&&j(Se[i],this.options.chosenClass,!1);e._hideClone(),n()}},clone:function(t){var e=t.sortable,n=t.rootEl,r=t.dispatchSortableEvent,o=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Te.length&&_e===e&&(Ne(!0,n),r("clone"),o()))},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl,r=t.cancel;this.isMultiDrag&&(Ne(!1,n),Se.forEach((function(t){A(t,"display","")})),e(),Ie=!1,r())},hideClone:function(t){var e=this,n=(t.sortable,t.cloneNowHidden),r=t.cancel;this.isMultiDrag&&(Se.forEach((function(t){A(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)})),n(),Ie=!0,r())},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&_e&&_e.multiDrag._deselectMultiDrag(),Te.forEach((function(t){t.sortableIndex=V(t)})),Te=Te.sort((function(a,b){return a.sortableIndex-b.sortableIndex})),ke=!0},dragStarted:function(t){var e=this,n=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){Te.forEach((function(t){t!==we&&A(t,"position","absolute")}));var r=M(we,!1,!0,!0);Te.forEach((function(t){t!==we&&$(t,r)})),Ce=!0,Ee=!0}n.animateAll((function(){Ce=!1,Ee=!1,e.options.animation&&Te.forEach((function(t){Y(t)})),e.options.sort&&je()}))}},dragOver:function(t){var e=t.target,n=t.completed,r=t.cancel;Ce&&~Te.indexOf(e)&&(n(!1),r())},revert:function(t){var e=t.fromSortable,n=t.rootEl,r=t.sortable,o=t.dragRect;Te.length>1&&(Te.forEach((function(t){r.addAnimationState({target:t,rect:Ce?M(t):o}),Y(t),t.fromRect=o,e.removeAnimationState(t)})),Ce=!1,function(t,e){Te.forEach((function(n,i){var r=e.children[n.sortableIndex+(t?Number(i):0)];r?e.insertBefore(n,r):e.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(t){var e=t.sortable,n=t.isOwner,r=t.insertion,o=t.activeSortable,c=t.parentEl,l=t.putSortable,h=this.options;if(r){if(n&&o._hideClone(),Ee=!1,h.animation&&Te.length>1&&(Ce||!n&&!o.options.sort&&!l)){var f=M(we,!1,!0,!0);Te.forEach((function(t){t!==we&&($(t,f),c.appendChild(t))})),Ce=!0}if(!n)if(Ce||je(),Te.length>1){var d=Ie;o._showClone(e),o.options.animation&&!Ie&&d&&Se.forEach((function(t){o.addAnimationState({target:t,rect:Oe}),t.fromRect=Oe,t.thisAnimationDuration=null}))}else o._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,r=t.activeSortable;if(Te.forEach((function(t){t.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){Oe=c({},e);var o=P(we,!0);Oe.top-=o.f,Oe.left-=o.e}},dragOverAnimationComplete:function(){Ce&&(Ce=!1,je())},drop:function(t){var e=t.originalEvent,n=t.rootEl,r=t.parentEl,o=t.sortable,c=t.dispatchSortableEvent,l=t.oldIndex,h=t.putSortable,f=h||this.sortable;if(e){var d=this.options,v=r.children;if(!ke)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),j(we,d.selectedClass,!~Te.indexOf(we)),~Te.indexOf(we))Te.splice(Te.indexOf(we),1),be=null,et({sortable:o,rootEl:n,name:"deselect",targetEl:we,originalEvt:e});else{if(Te.push(we),et({sortable:o,rootEl:n,name:"select",targetEl:we,originalEvt:e}),e.shiftKey&&be&&o.el.contains(be)){var m,i,y=V(be),_=V(we);if(~y&&~_&&y!==_)for(_>y?(i=y,m=_):(i=_,m=y+1);i<m;i++)~Te.indexOf(v[i])||(j(v[i],d.selectedClass,!0),Te.push(v[i]),et({sortable:o,rootEl:n,name:"select",targetEl:v[i],originalEvt:e}))}else be=we;_e=f}if(ke&&this.isMultiDrag){if((r[X].options.sort||r!==n)&&Te.length>1){var w=M(we),O=V(we,":not(."+this.options.selectedClass+")");if(!Ee&&d.animation&&(we.thisAnimationDuration=null),f.captureAnimationState(),!Ee&&(d.animation&&(we.fromRect=w,Te.forEach((function(t){if(t.thisAnimationDuration=null,t!==we){var rect=Ce?M(t):w;t.fromRect=rect,f.addAnimationState({target:t,rect:rect})}}))),je(),Te.forEach((function(t){v[O]?r.insertBefore(t,v[O]):r.appendChild(t),O++})),l===V(we))){var I=!1;Te.forEach((function(t){t.sortableIndex===V(t)||(I=!0)})),I&&c("update")}Te.forEach((function(t){Y(t)})),f.animateAll()}_e=f}(n===r||h&&"clone"!==h.lastPutMode)&&Se.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)}))}},nullingGlobal:function(){this.isMultiDrag=ke=!1,Se.length=0},destroyGlobal:function(){this._deselectMultiDrag(),S(document,"pointerup",this._deselectMultiDrag),S(document,"mouseup",this._deselectMultiDrag),S(document,"touchend",this._deselectMultiDrag),S(document,"keydown",this._checkKeyDown),S(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==ke&&ke||_e!==this.sortable||t&&k(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;Te.length;){var e=Te[0];j(e,this.options.selectedClass,!1),Te.shift(),et({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},c(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[X];e&&e.options.multiDrag&&!~Te.indexOf(t)&&(_e&&_e!==e&&(_e.multiDrag._deselectMultiDrag(),_e=e),j(t,e.options.selectedClass,!0),Te.push(t))},deselect:function(t){var e=t.parentNode[X],n=Te.indexOf(t);e&&e.options.multiDrag&&~n&&(j(t,e.options.selectedClass,!1),Te.splice(n,1))}},eventProperties:function(){var t=this,e=[],n=[];return Te.forEach((function(r){var o;e.push({multiDragElement:r,index:r.sortableIndex}),o=Ce&&r!==we?-1:Ce?V(r,":not(."+t.options.selectedClass+")"):V(r),n.push({multiDragElement:r,index:o})})),{items:f(Te),clones:[].concat(Se),oldIndicies:e,newIndicies:n}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function Ne(t,e){Se.forEach((function(n,i){var r=e.children[n.sortableIndex+(t?Number(i):0)];r?e.insertBefore(n,r):e.appendChild(n)}))}function je(){Te.forEach((function(t){t!==we&&t.parentNode&&t.parentNode.removeChild(t)}))}Xt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?T(document,"dragover",this._handleAutoScroll):this.options.supportPointer?T(document,"pointermove",this._handleFallbackAutoScroll):e.touches?T(document,"touchmove",this._handleFallbackAutoScroll):T(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):(S(document,"pointermove",this._handleFallbackAutoScroll),S(document,"touchmove",this._handleFallbackAutoScroll),S(document,"mousemove",this._handleFallbackAutoScroll)),fe(),he(),clearTimeout(x),x=void 0},nulling:function(){se=ie=re=le=ue=oe=ae=null,ce.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,r=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,c=document.elementFromPoint(r,o);if(se=t,e||m||v||_){pe(t,this.options,c,e);var l=K(c,!0);!le||ue&&r===oe&&o===ae||(ue&&fe(),ue=setInterval((function(){var c=K(document.elementFromPoint(r,o),!0);c!==l&&(l=c,he()),pe(t,n.options,c,e)}),10),oe=r,ae=o)}else{if(!this.options.bubbleScroll||K(c,!0)===D())return void he();pe(t,this.options,K(c,!1),!1)}}},c(t,{pluginName:"scroll",initializeByDefault:!0})}),Xt.mount(me,ge),e.default=Xt},1026:function(t,e,n){"use strict";(function(t){var e=n(76);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,t){a!=Array.prototype&&a!=Object.prototype&&(a[b]=t.value)};var o=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,a];for(var b=0;b<a.length;++b){var e=a[b];if(e&&e.Math==Math)return e}return globalThis}(this);function c(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function l(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:c(a)}}!function(a,b){if(b){var t=o;a=a.split(".");for(var e=0;e<a.length-1;e++){var n=a[e];n in t||(t[n]={}),t=t[n]}(b=b(e=t[a=a[a.length-1]]))!=e&&null!=b&&r(t,a,{configurable:!0,writable:!0,value:b})}}("Promise",(function(a){function b(g){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{g(t.resolve,t.reject)}catch(e){t.reject(e)}}function t(){this.a=null}function e(g){return g instanceof b?g:new b((function(t){t(g)}))}if(a)return a;t.prototype.b=function(g){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(g)};var n=o.setTimeout;t.prototype.c=function(g){n(g,0)},t.prototype.g=function(){for(;this.a&&this.a.length;){var g=this.a;this.a=[];for(var t=0;t<g.length;++t){var e=g[t];g[t]=null;try{e()}catch(t){this.f(t)}}}this.a=null},t.prototype.f=function(g){this.c((function(){throw g}))},b.prototype.f=function(){function g(p){return function(n){e||(e=!0,p.call(t,n))}}var t=this,e=!1;return{resolve:g(this.m),reject:g(this.g)}},b.prototype.m=function(g){if(g===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.s(g);else{t:switch(typeof g){case"object":var t=null!=g;break t;case"function":t=!0;break t;default:t=!1}t?this.v(g):this.h(g)}},b.prototype.v=function(g){var t=void 0;try{t=g.then}catch(t){return void this.g(t)}"function"==typeof t?this.u(t,g):this.h(g)},b.prototype.g=function(g){this.i(2,g)},b.prototype.h=function(g){this.i(1,g)},b.prototype.i=function(g,t){if(0!=this.b)throw Error("Cannot settle("+g+", "+t+"): Promise already settled in state"+this.b);this.b=g,this.c=t,this.l()},b.prototype.l=function(){if(null!=this.a){for(var g=0;g<this.a.length;++g)r.b(this.a[g]);this.a=null}};var r=new t;return b.prototype.s=function(g){var t=this.f();g.Qa(t.resolve,t.reject)},b.prototype.u=function(g,t){var e=this.f();try{g.call(t,e.resolve,e.reject)}catch(t){e.reject(t)}},b.prototype.then=function(g,t){function e(t,e){return"function"==typeof t?function(e){try{p(t(e))}catch(t){n(t)}}:e}var p,n,r=new b((function(t,e){p=t,n=e}));return this.Qa(e(g,p),e(t,n)),r},b.prototype.catch=function(g){return this.then(void 0,g)},b.prototype.Qa=function(g,t){function e(){switch(p.b){case 1:g(p.c);break;case 2:t(p.c);break;default:throw Error("Unexpected state: "+p.b)}}var p=this;null==this.a?r.b(e):this.a.push(e)},b.resolve=e,b.reject=function(g){return new b((function(t,e){e(g)}))},b.race=function(g){return new b((function(t,n){for(var p=l(g),r=p.next();!r.done;r=p.next())e(r.value).Qa(t,n)}))},b.all=function(g){var t=l(g),n=t.next();return n.done?e([]):new b((function(p,r){function o(t){return function(e){c[t]=e,0==--l&&p(c)}}var c=[],l=0;do{c.push(void 0),l++,e(n.value).Qa(o(c.length-1),r),n=t.next()}while(!n.done)}))},b}));var h=h||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,v=null;function m(a){return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&d.test(a)?a:""}function y(){}function _(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function w(a){var b=_(a);return"array"==b||"object"==b&&"number"==typeof a.length}function O(a){return"function"==_(a)}function I(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function T(a){return Object.prototype.hasOwnProperty.call(a,S)&&a[S]||(a[S]=++E)}var S="closure_uid_"+(1e9*Math.random()>>>0),E=0;function C(a,b,t){return a.call.apply(a.bind,arguments)}function k(a,b,t){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,e),a.apply(b,t)}}return function(){return a.apply(b,arguments)}}function q(a,b,t){return(q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?C:k).apply(null,arguments)}function x(a,b){var t=Array.prototype.slice.call(arguments,1);return function(){var e=t.slice();return e.push.apply(e,arguments),a.apply(this,e)}}var N=Date.now;function j(a,b){function t(){}t.prototype=b.prototype,a.ab=b.prototype,a.prototype=new t,a.prototype.constructor=a}function A(a){return a}function P(a,b,t){this.code=M+a,this.message=b||L[a]||"",this.a=t||null}function R(a){var b=a&&a.code;return b?new P(b.substring(M.length),a.message,a.serverResponse):null}j(P,Error),P.prototype.w=function(){var a={code:this.code,message:this.message};return this.a&&(a.serverResponse=this.a),a},P.prototype.toJSON=function(){return this.w()};var D,M="auth/",L={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},F={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function U(a){for(var b in F)if(F[b].id===a)return{firebaseEndpoint:(a=F[b]).Ta,secureTokenEndpoint:a.Za,identityPlatformEndpoint:a.Wa};return null}function V(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(t){return!1}}function u(a){if(Error.captureStackTrace)Error.captureStackTrace(this,u);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function B(a,b){for(var t="",e=(a=a.split("%s")).length-1,n=0;n<e;n++)t+=a[n]+(n<b.length?b[n]:"%s");u.call(this,t+a[e])}function K(a,b){throw new B("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))}function W(a,b){this.c=a,this.f=b,this.b=0,this.a=null}function H(a,b){a.f(b),100>a.b&&(a.b++,b.next=a.a,a.a=b)}function z(){this.b=this.a=null}D=U("__EID__")?"__EID__":void 0,j(u,Error),u.prototype.name="CustomError",j(B,u),B.prototype.name="AssertionError",W.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a};var G=new W((function(){return new Y}),(function(a){a.reset()}));function $(){var a=ke,b=null;return a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b}function Y(){this.next=this.b=this.a=null}z.prototype.add=function(a,b){var t=G.get();t.set(a,b),this.b?this.b.next=t:this.a=t,this.b=t},Y.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},Y.prototype.reset=function(){this.next=this.b=this.a=null};var X=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"==typeof a)return"string"!=typeof b||1!=b.length?-1:a.indexOf(b,0);for(var t=0;t<a.length;t++)if(t in a&&a[t]===b)return t;return-1},J=Array.prototype.forEach?function(a,b,t){Array.prototype.forEach.call(a,b,t)}:function(a,b,t){for(var e=a.length,n="string"==typeof a?a.split(""):a,r=0;r<e;r++)r in n&&b.call(t,n[r],r,a)};var Q=Array.prototype.filter?function(a,b){return Array.prototype.filter.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=[],n=0,r="string"==typeof a?a.split(""):a,g=0;g<t;g++)if(g in r){var o=r[g];b.call(void 0,o,g,a)&&(e[n++]=o)}return e},Z=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=Array(t),n="string"==typeof a?a.split(""):a,r=0;r<t;r++)r in n&&(e[r]=b.call(void 0,n[r],r,a));return e},tt=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var t=a.length,e="string"==typeof a?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a))return!0;return!1};function et(a,b){return 0<=X(a,b)}function nt(a,b){var t;return(t=0<=(b=X(a,b)))&&Array.prototype.splice.call(a,b,1),t}function it(a,b){!function(a,b){for(var t="string"==typeof a?a.split(""):a,e=a.length-1;0<=e;--e)e in t&&b.call(void 0,t[e],e,a)}(a,(function(t,e){b.call(void 0,t,e,a)&&1==Array.prototype.splice.call(a,e,1).length&&0}))}function ot(a){return Array.prototype.concat.apply([],arguments)}function at(a){var b=a.length;if(0<b){for(var t=Array(b),e=0;e<b;e++)t[e]=a[e];return t}return[]}var st,ut=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},ct=/&/g,lt=/</g,ht=/>/g,ft=/"/g,pt=/'/g,vt=/\x00/g,gt=/[\x00&<>"']/;function mt(a,b){return-1!=a.indexOf(b)}function yt(a,b){return a<b?-1:a>b?1:0}t:{var bt=f.navigator;if(bt){var _t=bt.userAgent;if(_t){st=_t;break t}}st=""}function wt(a){return mt(st,a)}function Ot(a,b){for(var t in a)b.call(void 0,a[t],t,a)}function It(a){for(var b in a)return!1;return!0}function Tt(a){var t,b={};for(t in a)b[t]=a[t];return b}var St="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Et(a,b){for(var t,e,n=1;n<arguments.length;n++){for(t in e=arguments[n])a[t]=e[t];for(var r=0;r<St.length;r++)t=St[r],Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}}function Ct(a,b){t:{try{var t=a&&a.ownerDocument,e=t&&(t.defaultView||t.parentWindow);if((e=e||f).Element&&e.Location){var n=e;break t}}catch(t){}n=null}if(n&&void 0!==n[b]&&(!a||!(a instanceof n[b])&&(a instanceof n.Location||a instanceof n.Element))){if(I(a))try{var r=a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}catch(t){r="<object could not be stringified>"}else r=void 0===a?"undefined":null===a?"null":typeof a;K("Argument is not a %s (or a non-Element, non-Location mock); got: %s",b,r)}}function kt(a,b){this.a=a===At&&b||"",this.b=jt}function xt(a){return a instanceof kt&&a.constructor===kt&&a.b===jt?a.a:(K("expected object of type Const, got '"+a+"'"),"type_error:Const")}kt.prototype.sa=!0,kt.prototype.ra=function(){return this.a},kt.prototype.toString=function(){return"Const{"+this.a+"}"};var Nt,jt={},At={};function Pt(){if(void 0===Nt){var a=null,b=f.trustedTypes;if(b&&b.createPolicy){try{a=b.createPolicy("goog#html",{createHTML:A,createScript:A,createScriptURL:A})}catch(t){f.console&&f.console.error(t.message)}Nt=a}else Nt=a}return Nt}function Rt(a,b){this.a=b===Ut?a:""}function Dt(a){return a instanceof Rt&&a.constructor===Rt?a.a:(K("expected object of type TrustedResourceUrl, got '"+a+"' of type "+_(a)),"type_error:TrustedResourceUrl")}function Mt(a,b){var t=xt(a);if(!Ft.test(t))throw Error("Invalid TrustedResourceUrl format: "+t);return function(a){var b=Pt();return new Rt(a=b?b.createScriptURL(a):a,Ut)}(a=t.replace(Lt,(function(e,n){if(!Object.prototype.hasOwnProperty.call(b,n))throw Error('Found marker, "'+n+'", in format string, "'+t+'", but no valid label mapping found in args: '+JSON.stringify(b));return(e=b[n])instanceof kt?xt(e):encodeURIComponent(String(e))})))}Rt.prototype.sa=!0,Rt.prototype.ra=function(){return this.a.toString()},Rt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Lt=/%{(\w+)}/g,Ft=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ut={};function qt(a,b){this.a=b===Gt?a:""}function Vt(a){return a instanceof qt&&a.constructor===qt?a.a:(K("expected object of type SafeUrl, got '"+a+"' of type "+_(a)),"type_error:SafeUrl")}qt.prototype.sa=!0,qt.prototype.ra=function(){return this.a.toString()},qt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Bt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Kt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Wt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ht(a){if(a instanceof qt)return a;if(a="object"==typeof a&&a.sa?a.ra():String(a),Wt.test(a))a=new qt(a,Gt);else{var b=(a=(a=String(a)).replace(/(%0A|%0D)/g,"")).match(Kt);a=b&&Bt.test(b[1])?new qt(a,Gt):null}return a}function zt(a){return a instanceof qt?a:(a="object"==typeof a&&a.sa?a.ra():String(a),Wt.test(a)||(a="about:invalid#zClosurez"),new qt(a,Gt))}var Gt={},$t=new qt("about:invalid#zClosurez",Gt);function Yt(a,b,t){this.a=t===Xt?a:""}Yt.prototype.sa=!0,Yt.prototype.ra=function(){return this.a.toString()},Yt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Xt={};function Jt(a,b,t,e){return a=a instanceof qt?a:zt(a),b=b||f,t=t instanceof kt?xt(t):t||"",b.open(Vt(a),t,e,void 0)}function Qt(a,b){for(var t=a.split("%s"),e="",n=Array.prototype.slice.call(arguments,1);n.length&&1<t.length;)e+=t.shift()+n.shift();return e+t.join("%s")}function Zt(a){return gt.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(ct,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(lt,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(ht,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(ft,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(pt,"&#39;")),-1!=a.indexOf("\0")&&(a=a.replace(vt,"&#0;"))),a}function te(a){return te[" "](a),a}te[" "]=y;var ee,a,ne=wt("Opera"),re=wt("Trident")||wt("MSIE"),ie=wt("Edge"),oe=ie||re,ae=wt("Gecko")&&!(mt(st.toLowerCase(),"webkit")&&!wt("Edge"))&&!(wt("Trident")||wt("MSIE"))&&!wt("Edge"),se=mt(st.toLowerCase(),"webkit")&&!wt("Edge");function ue(){var a=f.document;return a?a.documentMode:void 0}t:{var ce="",le=(a=st,ae?/rv:([^\);]+)(\)|;)/.exec(a):ie?/Edge\/([\d\.]+)/.exec(a):re?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):se?/WebKit\/(\S+)/.exec(a):ne?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(le&&(ce=le?le[1]:""),re){var he=ue();if(null!=he&&he>parseFloat(ce)){ee=String(he);break t}}ee=ce}var fe,de={};function pe(a){return function(a,b){var t=de;return Object.prototype.hasOwnProperty.call(t,a)?t[a]:t[a]=b(a)}(a,(function(){for(var b=0,t=ut(String(ee)).split("."),e=ut(String(a)).split("."),n=Math.max(t.length,e.length),r=0;0==b&&r<n;r++){var g=t[r]||"",o=e[r]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==g[0].length&&0==o[0].length)break;b=yt(0==g[1].length?0:parseInt(g[1],10),0==o[1].length?0:parseInt(o[1],10))||yt(0==g[2].length,0==o[2].length)||yt(g[2],o[2]),g=g[3],o=o[3]}while(0==b)}return 0<=b}))}if(f.document&&re){var ve=ue();fe=ve||(parseInt(ee,10)||void 0)}else fe=void 0;var ge=fe;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(a){}var me=!re||9<=Number(ge);function ye(a){var b=document;return"string"==typeof a?b.getElementById(a):a}function be(a,b){Ot(b,(function(t,e){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==e?a.style.cssText=t:"class"==e?a.className=t:"for"==e?a.htmlFor=t:Oe.hasOwnProperty(e)?a.setAttribute(Oe[e],t):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,t):a[e]=t}))}var _e,we,Oe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ie(a,b,t){function e(t){t&&b.appendChild("string"==typeof t?a.createTextNode(t):t)}for(var n=2;n<t.length;n++){var r=t[n];if(!w(r)||I(r)&&0<r.nodeType)e(r);else{t:{if(r&&"number"==typeof r.length){if(I(r)){var g="function"==typeof r.item||"string"==typeof r.item;break t}if(O(r)){g="function"==typeof r.item;break t}}g=!1}J(g?at(r):r,e)}}}function Te(a,b){return b=String(b),"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase()),a.createElement(b)}function Se(a){f.setTimeout((function(){throw a}),0)}function Ee(a,b){we||function(){if(f.Promise&&f.Promise.resolve){var a=f.Promise.resolve(void 0);we=function(){a.then(xe)}}else we=function(){var b=xe;!O(f.setImmediate)||f.Window&&f.Window.prototype&&!wt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(_e||(_e=function(){var a=f.MessageChannel;if(void 0===a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!wt("Presto")&&(a=function(){var t=Te(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var g="callImmediate"+Math.random(),n="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=q((function(t){"*"!=n&&t.origin!=n||t.data!=g||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(g,n)}}}),void 0!==a&&!wt("Trident")&&!wt("MSIE")){var b=new a,t={},e=t;return b.port1.onmessage=function(){if(void 0!==t.next){var e=(t=t.next).Gb;t.Gb=null,e()}},function(t){e.next={Gb:t},e=e.next,b.port2.postMessage(0)}}return function(t){f.setTimeout(t,0)}}()),_e(b)):f.setImmediate(b)}}(),Ce||(we(),Ce=!0),ke.add(a,b)}var Ce=!1,ke=new z;function xe(){for(var a;a=$();){try{a.a.call(a.b)}catch(t){Se(t)}H(G,a)}Ce=!1}function Ne(a,b){if(this.a=je,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,a!=y)try{var t=this;a.call(b,(function(e){We(t,Ae,e)}),(function(e){if(!(e instanceof Je))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}We(t,Pe,e)}))}catch(t){We(this,Pe,t)}}var je=0,Ae=2,Pe=3;function Re(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Re.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var De=new W((function(){return new Re}),(function(a){a.reset()}));function Me(a,b,t){var e=De.get();return e.g=a,e.b=b,e.f=t,e}function Le(a){if(a instanceof Ne)return a;var b=new Ne(y);return We(b,Ae,a),b}function Fe(a){return new Ne((function(b,t){t(a)}))}function Ue(a,b,t){He(a,b,t,null)||Ee(x(b,a))}function qe(a){return new Ne((function(b){var t=a.length,e=[];if(t)for(var n=function(n,r,p){t--,e[n]=r?{Pb:!0,value:p}:{Pb:!1,reason:p},0==t&&b(e)},r=0;r<a.length;r++)Ue(a[r],x(n,r,!0),x(n,r,!1));else b(e)}))}function Ve(a,b){if(a.a==je)if(a.c){var t=a.c;if(t.b){for(var e=0,n=null,r=null,g=t.b;g&&(g.c||(e++,g.a==a&&(n=g),!(n&&1<e)));g=g.next)n||(r=g);n&&(t.a==je&&1==e?Ve(t,b):(r?((e=r).next==t.f&&(t.f=e),e.next=e.next.next):Ge(t),$e(t,n,Pe,b)))}a.c=null}else We(a,Pe,b)}function Be(a,b){a.b||a.a!=Ae&&a.a!=Pe||ze(a),a.f?a.f.next=b:a.b=b,a.f=b}function Ke(a,b,t,e){var n=Me(null,null,null);return n.a=new Ne((function(r,g){n.g=b?function(t){try{var n=b.call(e,t);r(n)}catch(t){g(t)}}:r,n.b=t?function(n){try{var o=t.call(e,n);void 0===o&&n instanceof Je?g(n):r(o)}catch(t){g(t)}}:g})),n.a.c=a,Be(a,n),n.a}function We(a,b,t){a.a==je&&(a===t&&(b=Pe,t=new TypeError("Promise cannot resolve to itself")),a.a=1,He(t,a.$c,a.ad,a)||(a.i=t,a.a=b,a.c=null,ze(a),b!=Pe||t instanceof Je||function(a,b){a.g=!0,Ee((function(){a.g&&Xe.call(null,b)}))}(a,t)))}function He(a,b,t,e){if(a instanceof Ne)return Be(a,Me(b||y,t||null,e)),!0;if(V(a))return a.then(b,t,e),!0;if(I(a))try{var n=a.then;if(O(n))return function(a,b,t,e,n){function r(t){o||(o=!0,e.call(n,t))}function g(e){o||(o=!0,t.call(n,e))}var o=!1;try{b.call(a,g,r)}catch(t){r(t)}}(a,n,b,t,e),!0}catch(n){return t.call(e,n),!0}return!1}function ze(a){a.h||(a.h=!0,Ee(a.gc,a))}function Ge(a){var b=null;return a.b&&(b=a.b,a.b=b.next,b.next=null),a.b||(a.f=null),b}function $e(a,b,t,e){if(t==Pe&&b.b&&!b.c)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,Ye(b,t,e);else try{b.c?b.g.call(b.f):Ye(b,t,e)}catch(t){Xe.call(null,t)}H(De,b)}function Ye(a,b,t){b==Ae?a.g.call(a.f,t):a.b&&a.b.call(a.f,t)}Ne.prototype.then=function(a,b,t){return Ke(this,O(a)?a:null,O(b)?b:null,t)},Ne.prototype.$goog_Thenable=!0,(n=Ne.prototype).oa=function(a,b){return(a=Me(a,a,b)).c=!0,Be(this,a),this},n.o=function(a,b){return Ke(this,null,a,b)},n.cancel=function(a){if(this.a==je){var b=new Je(a);Ee((function(){Ve(this,b)}),this)}},n.$c=function(a){this.a=je,We(this,Ae,a)},n.ad=function(a){this.a=je,We(this,Pe,a)},n.gc=function(){for(var a;a=Ge(this);)$e(this,a,this.a,this.i);this.h=!1};var Xe=Se;function Je(a){u.call(this,a)}function Qe(){0!=Ze&&(tn[T(this)]=this),this.xa=this.xa,this.pa=this.pa}j(Je,u),Je.prototype.name="cancel";var Ze=0,tn={};function en(a){if(!a.xa&&(a.xa=!0,a.Da(),0!=Ze)){var b=T(a);if(0!=Ze&&a.pa&&0<a.pa.length)throw Error(a+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete tn[b]}}Qe.prototype.xa=!1,Qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var nn=Object.freeze||function(a){return a},rn=!re||9<=Number(ge),on=re&&!pe("9"),an=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{f.addEventListener("test",y,b),f.removeEventListener("test",y,b)}catch(t){}return a}();function sn(a,b){this.type=a,this.b=this.target=b,this.defaultPrevented=!1}function un(a,b){if(sn.call(this,a?a.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,a){var t=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.b=b,b=a.relatedTarget){if(ae){t:{try{te(b.nodeName);var n=!0;break t}catch(t){}n=!1}n||(b=null)}}else"mouseover"==t?b=a.fromElement:"mouseout"==t&&(b=a.toElement);this.relatedTarget=b,e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:cn[a.pointerType]||"",this.a=a,a.defaultPrevented&&this.preventDefault()}}sn.prototype.preventDefault=function(){this.defaultPrevented=!0},j(un,sn);var cn=nn({2:"touch",3:"pen",4:"mouse"});un.prototype.preventDefault=function(){un.ab.preventDefault.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,on)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(t){}},un.prototype.g=function(){return this.a};var dd="closure_listenable_"+(1e6*Math.random()|0),ln=0;function hn(a,b,t,e,n){this.listener=a,this.proxy=null,this.src=b,this.type=t,this.capture=!!e,this.Va=n,this.key=++ln,this.va=this.Pa=!1}function fn(a){a.va=!0,a.listener=null,a.proxy=null,a.src=null,a.Va=null}function dn(a){this.src=a,this.a={},this.b=0}function pn(a,b){var t=b.type;t in a.a&&nt(a.a[t],b)&&(fn(b),0==a.a[t].length&&(delete a.a[t],a.b--))}function vn(a,b,t,e){for(var n=0;n<a.length;++n){var r=a[n];if(!r.va&&r.listener==b&&r.capture==!!t&&r.Va==e)return n}return-1}dn.prototype.add=function(a,b,t,e,n){var r=a.toString();(a=this.a[r])||(a=this.a[r]=[],this.b++);var g=vn(a,b,e,n);return-1<g?(b=a[g],t||(b.Pa=!1)):((b=new hn(b,this.src,r,!!e,n)).Pa=t,a.push(b)),b};var gn="closure_lm_"+(1e6*Math.random()|0),mn={};function yn(a,b,t,e,n){if(e&&e.once)_n(a,b,t,e,n);else if(Array.isArray(b))for(var r=0;r<b.length;r++)yn(a,b[r],t,e,n);else t=xn(t),a&&a[dd]?jn(a,b,t,I(e)?!!e.capture:!!e,n):bn(a,b,t,!1,e,n)}function bn(a,b,t,e,n,r){if(!b)throw Error("Invalid event type");var g=I(n)?!!n.capture:!!n,o=Cn(a);if(o||(a[gn]=o=new dn(a)),!(t=o.add(b,t,e,g,r)).proxy){if(e=function(){var a=En,b=rn?function(t){return a.call(b.src,b.listener,t)}:function(t){if(!(t=a.call(b.src,b.listener,t)))return t};return b}(),t.proxy=e,e.src=a,e.listener=t,a.addEventListener)an||(n=g),void 0===n&&(n=!1),a.addEventListener(b.toString(),e,n);else if(a.attachEvent)a.attachEvent(In(b.toString()),e);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(e)}0}}function _n(a,b,t,e,n){if(Array.isArray(b))for(var r=0;r<b.length;r++)_n(a,b[r],t,e,n);else t=xn(t),a&&a[dd]?An(a,b,t,I(e)?!!e.capture:!!e,n):bn(a,b,t,!0,e,n)}function wn(a,b,t,e,n){if(Array.isArray(b))for(var r=0;r<b.length;r++)wn(a,b[r],t,e,n);else e=I(e)?!!e.capture:!!e,t=xn(t),a&&a[dd]?(a=a.v,(b=String(b).toString())in a.a&&(-1<(t=vn(r=a.a[b],t,e,n))&&(fn(r[t]),Array.prototype.splice.call(r,t,1),0==r.length&&(delete a.a[b],a.b--)))):a&&(a=Cn(a))&&(b=a.a[b.toString()],a=-1,b&&(a=vn(b,t,e,n)),(t=-1<a?b[a]:null)&&On(t))}function On(a){if("number"!=typeof a&&a&&!a.va){var b=a.src;if(b&&b[dd])pn(b.v,a);else{var t=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(t,e,a.capture):b.detachEvent?b.detachEvent(In(t),e):b.addListener&&b.removeListener&&b.removeListener(e),(t=Cn(b))?(pn(t,a),0==t.b&&(t.src=null,b[gn]=null)):fn(a)}}}function In(a){return a in mn?mn[a]:mn[a]="on"+a}function Tn(a,b,t,e){var n=!0;if((a=Cn(a))&&(b=a.a[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var r=b[a];r&&r.capture==t&&!r.va&&(r=Sn(r,e),n=n&&!1!==r)}return n}function Sn(a,b){var t=a.listener,e=a.Va||a.src;return a.Pa&&On(a),t.call(e,b)}function En(a,b){if(a.va)return!0;if(!rn){if(!b)t:{b=["window","event"];for(var t=f,e=0;e<b.length;e++)if(null==(t=t[b[e]])){b=null;break t}b=t}if(b=new un(e=b,this),t=!0,!(0>e.keyCode||null!=e.returnValue)){t:{var n=!1;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(t){n=!0}(n||null==e.returnValue)&&(e.returnValue=!0)}for(e=[],n=b.b;n;n=n.parentNode)e.push(n);for(a=a.type,n=e.length-1;0<=n;n--){b.b=e[n];var r=Tn(e[n],a,!0,b);t=t&&r}for(n=0;n<e.length;n++)b.b=e[n],r=Tn(e[n],a,!1,b),t=t&&r}return t}return Sn(a,new un(b,this))}function Cn(a){return(a=a[gn])instanceof dn?a:null}var kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(a){return O(a)?a:(a[kn]||(a[kn]=function(b){return a.handleEvent(b)}),a[kn])}function Nn(){Qe.call(this),this.v=new dn(this),this.ac=this,this.gb=null}function jn(a,b,t,e,n){a.v.add(String(b),t,!1,e,n)}function An(a,b,t,e,n){a.v.add(String(b),t,!0,e,n)}function Pn(a,b,t,e){if(!(b=a.v.a[String(b)]))return!0;b=b.concat();for(var n=!0,r=0;r<b.length;++r){var g=b[r];if(g&&!g.va&&g.capture==t){var o=g.listener,c=g.Va||g.src;g.Pa&&pn(a.v,g),n=!1!==o.call(c,e)&&n}}return n&&!e.defaultPrevented}function Rn(a,b,t){if(O(a))t&&(a=q(a,t));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=q(a.handleEvent,a)}return 2147483647<Number(b)?-1:f.setTimeout(a,b||0)}function Dn(a){var b=null;return new Ne((function(t,e){-1==(b=Rn((function(){t(void 0)}),a))&&e(Error("Failed to schedule timer."))})).o((function(t){throw f.clearTimeout(b),t}))}function Mn(a){if(a.W&&"function"==typeof a.W)return a.W();if("string"==typeof a)return a.split("");if(w(a)){for(var b=[],t=a.length,e=0;e<t;e++)b.push(a[e]);return b}for(e in b=[],t=0,a)b[t++]=a[e];return b}function Ln(a){if(a.Y&&"function"==typeof a.Y)return a.Y();if(!a.W||"function"!=typeof a.W){if(w(a)||"string"==typeof a){var b=[];a=a.length;for(var t=0;t<a;t++)b.push(t);return b}for(var e in b=[],t=0,a)b[t++]=e;return b}}function Fn(a,b){this.b={},this.a=[],this.c=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var e=0;e<t;e+=2)this.set(arguments[e],arguments[e+1])}else if(a)if(a instanceof Fn)for(t=a.Y(),e=0;e<t.length;e++)this.set(t[e],a.get(t[e]));else for(e in a)this.set(e,a[e])}function Un(a){if(a.c!=a.a.length){for(var b=0,t=0;b<a.a.length;){var e=a.a[b];qn(a.b,e)&&(a.a[t++]=e),b++}a.a.length=t}if(a.c!=a.a.length){var n={};for(t=b=0;b<a.a.length;)qn(n,e=a.a[b])||(a.a[t++]=e,n[e]=1),b++;a.a.length=t}}function qn(a,b){return Object.prototype.hasOwnProperty.call(a,b)}j(Nn,Qe),Nn.prototype[dd]=!0,Nn.prototype.addEventListener=function(a,b,t,e){yn(this,a,b,t,e)},Nn.prototype.removeEventListener=function(a,b,t,e){wn(this,a,b,t,e)},Nn.prototype.dispatchEvent=function(a){var b,t=this.gb;if(t)for(b=[];t;t=t.gb)b.push(t);t=this.ac;var e=a.type||a;if("string"==typeof a)a=new sn(a,t);else if(a instanceof sn)a.target=a.target||t;else{var n=a;Et(a=new sn(e,t),n)}if(n=!0,b)for(var r=b.length-1;0<=r;r--){var g=a.b=b[r];n=Pn(g,e,!0,a)&&n}if(n=Pn(g=a.b=t,e,!0,a)&&n,n=Pn(g,e,!1,a)&&n,b)for(r=0;r<b.length;r++)n=Pn(g=a.b=b[r],e,!1,a)&&n;return n},Nn.prototype.Da=function(){if(Nn.ab.Da.call(this),this.v){var t,a=this.v;for(t in a.a){for(var e=a.a[t],n=0;n<e.length;n++)fn(e[n]);delete a.a[t],a.b--}}this.gb=null},(n=Fn.prototype).W=function(){Un(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},n.Y=function(){return Un(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(a,b){return qn(this.b,a)?this.b[a]:b},n.set=function(a,b){qn(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},n.forEach=function(a,b){for(var t=this.Y(),e=0;e<t.length;e++){var n=t[e],r=this.get(n);a.call(b,r,n,this)}};var Vn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bn(a,b){var t;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,a instanceof Bn?(this.i=void 0!==b?b:a.i,Kn(this,a.c),this.l=a.l,this.a=a.a,Wn(this,a.g),this.f=a.f,Hn(this,fr(a.b)),this.h=a.h):a&&(t=String(a).match(Vn))?(this.i=!!b,Kn(this,t[1]||"",!0),this.l=Xn(t[2]||""),this.a=Xn(t[3]||"",!0),Wn(this,t[4]),this.f=Xn(t[5]||"",!0),Hn(this,t[6]||"",!0),this.h=Xn(t[7]||"")):(this.i=!!b,this.b=new or(null,this.i))}function Kn(a,b,t){a.c=t?Xn(b,!0):b,a.c&&(a.c=a.c.replace(/:$/,""))}function Wn(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.g=b}else a.g=null}function Hn(a,b,t){b instanceof or?(a.b=b,function(a,b){b&&!a.f&&(ar(a),a.c=null,a.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(ur(this,e),lr(this,n,t))}),a)),a.f=b}(a.b,a.i)):(t||(b=Jn(b,rr)),a.b=new or(b,a.i))}function zn(a,b,t){a.b.set(b,t)}function Gn(a,b){return a.b.get(b)}function $n(a){return a instanceof Bn?new Bn(a):new Bn(a,void 0)}function Yn(a,b,t,e){var n=new Bn(null,void 0);return a&&Kn(n,a),b&&(n.a=b),t&&Wn(n,t),e&&(n.f=e),n}function Xn(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Jn(a,b,t){return"string"==typeof a?(a=encodeURI(a).replace(b,Qn),t&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Qn(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}Bn.prototype.toString=function(){var a=[],b=this.c;b&&a.push(Jn(b,Zn,!0),":");var t=this.a;return(t||"file"==b)&&(a.push("//"),(b=this.l)&&a.push(Jn(b,Zn,!0),"@"),a.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.g)&&a.push(":",String(t))),(t=this.f)&&(this.a&&"/"!=t.charAt(0)&&a.push("/"),a.push(Jn(t,"/"==t.charAt(0)?nr:er,!0))),(t=this.b.toString())&&a.push("?",t),(t=this.h)&&a.push("#",Jn(t,ir)),a.join("")},Bn.prototype.resolve=function(a){var b=new Bn(this),t=!!a.c;t?Kn(b,a.c):t=!!a.l,t?b.l=a.l:t=!!a.a,t?b.a=a.a:t=null!=a.g;var e=a.f;if(t)Wn(b,a.g);else if(t=!!a.f){if("/"!=e.charAt(0))if(this.a&&!this.f)e="/"+e;else{var n=b.f.lastIndexOf("/");-1!=n&&(e=b.f.substr(0,n+1)+e)}if(".."==(n=e)||"."==n)e="";else if(mt(n,"./")||mt(n,"/.")){e=0==n.lastIndexOf("/",0),n=n.split("/");for(var r=[],g=0;g<n.length;){var o=n[g++];"."==o?e&&g==n.length&&r.push(""):".."==o?((1<r.length||1==r.length&&""!=r[0])&&r.pop(),e&&g==n.length&&r.push("")):(r.push(o),e=!0)}e=r.join("/")}else e=n}return t?b.f=e:t=""!==a.b.toString(),t?Hn(b,fr(a.b)):t=!!a.h,t&&(b.h=a.h),b};var Zn=/[#\/\?@]/g,er=/[#\?:]/g,nr=/[#\?]/g,rr=/[#\?@]/g,ir=/#/g;function or(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function ar(a){a.a||(a.a=new Fn,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var t=0;t<a.length;t++){var e=a[t].indexOf("="),n=null;if(0<=e){var r=a[t].substring(0,e);n=a[t].substring(e+1)}else r=a[t];b(r,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(a.c,(function(b,t){a.add(decodeURIComponent(b.replace(/\+/g," ")),t)})))}function sr(a){var b=Ln(a);if(void 0===b)throw Error("Keys are undefined");var t=new or(null,void 0);a=Mn(a);for(var e=0;e<b.length;e++){var n=b[e],r=a[e];Array.isArray(r)?lr(t,n,r):t.add(n,r)}return t}function ur(a,b){ar(a),b=dr(a,b),qn(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,qn((a=a.a).b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&Un(a)))}function cr(a,b){return ar(a),b=dr(a,b),qn(a.a.b,b)}function lr(a,b,t){ur(a,b),0<t.length&&(a.c=null,a.a.set(dr(a,b),at(t)),a.b+=t.length)}function fr(a){var b=new or;return b.c=a.c,a.a&&(b.a=new Fn(a.a),b.b=a.b),b}function dr(a,b){return b=String(b),a.f&&(b=b.toLowerCase()),b}function pr(a){var b=[];return gr(new vr,a,b),b.join("")}function vr(){}function gr(a,b,t){if(null==b)t.push("null");else{if("object"==typeof b){if(Array.isArray(b)){var e=b;b=e.length,t.push("[");for(var n="",r=0;r<b;r++)t.push(n),gr(a,e[r],t),n=",";return void t.push("]")}if(!(b instanceof String||b instanceof Number||b instanceof Boolean)){for(e in t.push("{"),n="",b)Object.prototype.hasOwnProperty.call(b,e)&&("function"!=typeof(r=b[e])&&(t.push(n),_r(e,t),t.push(":"),gr(a,r,t),n=","));return void t.push("}")}b=b.valueOf()}switch(typeof b){case"string":_r(b,t);break;case"number":t.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case"boolean":t.push(String(b));break;case"function":t.push("null");break;default:throw Error("Unknown type: "+typeof b)}}}(n=or.prototype).add=function(a,b){ar(this),this.c=null,a=dr(this,a);var t=this.a.get(a);return t||this.a.set(a,t=[]),t.push(b),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(a,b){ar(this),this.a.forEach((function(t,e){J(t,(function(t){a.call(b,t,e,this)}),this)}),this)},n.Y=function(){ar(this);for(var a=this.a.W(),b=this.a.Y(),t=[],e=0;e<b.length;e++)for(var n=a[e],r=0;r<n.length;r++)t.push(b[e]);return t},n.W=function(a){ar(this);var b=[];if("string"==typeof a)cr(this,a)&&(b=ot(b,this.a.get(dr(this,a))));else{a=this.a.W();for(var t=0;t<a.length;t++)b=ot(b,a[t])}return b},n.set=function(a,b){return ar(this),this.c=null,cr(this,a=dr(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},n.get=function(a,b){return a&&0<(a=this.W(a)).length?String(a[0]):b},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.Y(),t=0;t<b.length;t++){var e=b[t],n=encodeURIComponent(String(e));e=this.W(e);for(var r=0;r<e.length;r++){var g=n;""!==e[r]&&(g+="="+encodeURIComponent(String(e[r]))),a.push(g)}}return this.c=a.join("&")};var mr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},yr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function _r(a,b){b.push('"',a.replace(yr,(function(t){var e=mr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),mr[t]=e),e})),'"')}function wr(){var a=Vr();return re&&!!ge&&11==ge||/Edge\/\d+/.test(a)}function Or(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Ir(a,b){b=b||f.window;var t="about:blank";a&&(t=Vt(Ht(a)||$t)),b.location.href=t}function Tr(a,b){var t,e=[];for(t in a)t in b?typeof a[t]!=typeof b[t]?e.push(t):"object"==typeof a[t]&&null!=a[t]&&null!=b[t]?0<Tr(a[t],b[t]).length&&e.push(t):a[t]!==b[t]&&e.push(t):e.push(t);for(t in b)t in a||e.push(t);return e}function Sr(a){return!!((a=(a||Vr()).toLowerCase()).match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/))}function Er(a){a=a||f.window;try{a.close()}catch(t){}}function Cr(a,b,t){var e=Math.floor(1e9*Math.random()).toString();b=b||500,t=t||600;var n=(window.screen.availHeight-t)/2,r=(window.screen.availWidth-b)/2;for(g in b={width:b,height:t,top:0<n?n:0,left:0<r?r:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},t=Vr().toLowerCase(),e&&(b.target=e,mt(t,"crios/")&&(b.target="_blank")),Fr(Vr())==Mr&&(a=a||"http://localhost",b.scrollbars=!0),t=a||"",(a=b)||(a={}),e=window,b=t instanceof qt?t:Ht(void 0!==t.href?t.href:String(t))||$t,t=a.target||t.target,n=[],a)switch(g){case"width":case"height":case"top":case"left":n.push(g+"="+a[g]);break;case"target":case"noopener":case"noreferrer":break;default:n.push(g+"="+(a[g]?1:0))}var g=n.join(",");if((wt("iPhone")&&!wt("iPod")&&!wt("iPad")||wt("iPad")||wt("iPod"))&&e.navigator&&e.navigator.standalone&&t&&"_self"!=t?(Ct(g=Te(document,"A"),"HTMLAnchorElement"),b=b instanceof qt?b:zt(b),g.href=Vt(b),g.setAttribute("target",t),a.noreferrer&&g.setAttribute("rel","noreferrer"),(a=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,e,1),g.dispatchEvent(a),g={}):a.noreferrer?(g=Jt("",e,t,g),a=Vt(b),g&&(oe&&mt(a,";")&&(a="'"+a.replace(/'/g,"%27")+"'"),g.opener=null,a='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Zt(a)+'">',a=new Yt(a=(e=Pt())?e.createHTML(a):a,null,Xt),e=g.document)&&(e.write(function(a){return a instanceof Yt&&a.constructor===Yt?a.a:(K("expected object of type SafeHtml, got '"+a+"' of type "+_(a)),"type_error:SafeHtml")}(a)),e.close())):(g=Jt(b,e,t,g))&&a.noopener&&(g.opener=null),g)try{g.focus()}catch(t){}return g}var kr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xr=/^[^@]+@[^@]+$/;function Nr(){var a=null;return new Ne((function(b){"complete"==f.document.readyState?b():(a=function(){b()},_n(window,"load",a))})).o((function(b){throw wn(window,"load",a),b}))}function jr(a){return a=a||Vr(),!("file:"!==zr()&&"ionic:"!==zr()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ar(){var a=f.window;try{return!(!a||a==a.top)}catch(t){return!1}}function Pr(){return void 0!==f.WorkerGlobalScope&&"function"==typeof f.importScripts}function Rr(){return e.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.a.INTERNAL.hasOwnProperty("node")?"Node":Pr()?"Worker":"Browser"}function Dr(){var a=Rr();return"ReactNative"===a||"Node"===a}var Mr="Firefox",Lr="Chrome";function Fr(a){var b=a.toLowerCase();return mt(b,"opera/")||mt(b,"opr/")||mt(b,"opios/")?"Opera":mt(b,"iemobile")?"IEMobile":mt(b,"msie")||mt(b,"trident/")?"IE":mt(b,"edge/")?"Edge":mt(b,"firefox/")?Mr:mt(b,"silk/")?"Silk":mt(b,"blackberry")?"Blackberry":mt(b,"webos")?"Webos":!mt(b,"safari/")||mt(b,"chrome/")||mt(b,"crios/")||mt(b,"android")?!mt(b,"chrome/")&&!mt(b,"crios/")||mt(b,"edge/")?mt(b,"android")?"Android":(a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length?a[1]:"Other":Lr:"Safari"}var Ur={md:"FirebaseCore-web",od:"FirebaseUI-web"};function qr(a,b){b=b||[];var t,e=[],n={};for(t in Ur)n[Ur[t]]=!0;for(t=0;t<b.length;t++)void 0!==n[b[t]]&&(delete n[b[t]],e.push(b[t]));return e.sort(),(b=e).length||(b=["FirebaseCore-web"]),"Browser"===(e=Rr())?e=Fr(n=Vr()):"Worker"===e&&(e=Fr(n=Vr())+"-"+e),e+"/JsCore/"+a+"/"+b.join(",")}function Vr(){return f.navigator&&f.navigator.userAgent||""}function Br(a,b){a=a.split("."),b=b||f;for(var t=0;t<a.length&&"object"==typeof b&&null!=b;t++)b=b[a[t]];return t!=a.length&&(b=void 0),b}function Kr(){try{var a=f.localStorage,b=Jr();if(a)return a.setItem(b,"1"),a.removeItem(b),!wr()||!!f.indexedDB}catch(t){return Pr()&&!!f.indexedDB}return!1}function Wr(){return(Hr()||"chrome-extension:"===zr()||jr())&&!Dr()&&Kr()&&!Pr()}function Hr(){return"http:"===zr()||"https:"===zr()}function zr(){return f.location&&f.location.protocol||null}function Gr(a){return!Sr(a=a||Vr())&&Fr(a)!=Mr}function $r(a){return void 0===a?null:pr(a)}function Yr(a){var t,b={};for(t in a)a.hasOwnProperty(t)&&null!==a[t]&&void 0!==a[t]&&(b[t]=a[t]);return b}function Xr(a){if(null!==a)return JSON.parse(a)}function Jr(a){return a||Math.floor(1e9*Math.random()).toString()}function Qr(a){return"Safari"!=Fr(a=a||Vr())&&!a.toLowerCase().match(/iphone|ipad|ipod/)}function Zr(){var a=f.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var t=0;t<a.CP.length;t++)a.CP[t]=null}function ti(a,b){if(a>b)throw Error("Short delay should be less than long delay!");this.a=a,this.c=b,a=Vr(),b=Rr(),this.b=Sr(a)||"ReactNative"===b}function ei(){var a=f.document;return!a||void 0===a.visibilityState||"visible"==a.visibilityState}function ni(a){try{var b=new Date(parseInt(a,10));if(!isNaN(b.getTime())&&!/[^0-9]/.test(a))return b.toUTCString()}catch(t){}return null}function ri(){return!(!Br("fireauth.oauthhelper",f)&&!Br("fireauth.iframe",f))}ti.prototype.get=function(){var a=f.navigator;return!a||"boolean"!=typeof a.onLine||!Hr()&&"chrome-extension:"!==zr()&&void 0===a.connection||a.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var ii,oi={};function ai(a){oi[a]||(oi[a]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(a))}try{var si={};Object.defineProperty(si,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(si,"abcd",{configurable:!0,enumerable:!0,value:2}),ii=2==si.abcd}catch(a){ii=!1}function ui(a,b,t){ii?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:t}):a[b]=t}function ci(a,b){if(b)for(var t in b)b.hasOwnProperty(t)&&ui(a,t,b[t])}function hi(a){var b={};return ci(b,a),b}function fi(a){var b=a;if("object"==typeof a&&null!=a)for(var t in b="length"in a?[]:{},a)ui(b,t,fi(a[t]));return b}function di(a){var b=a&&(a[yi]?"phone":null);if(!(b&&a&&a[mi]))throw new P("internal-error","Internal assert: invalid MultiFactorInfo object");ui(this,"uid",a[mi]),ui(this,"displayName",a[vi]||null);var t=null;a[gi]&&(t=new Date(a[gi]).toUTCString()),ui(this,"enrollmentTime",t),ui(this,"factorId",b)}function pi(a){try{var b=new bi(a)}catch(t){b=null}return b}di.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var vi="displayName",gi="enrolledAt",mi="mfaEnrollmentId",yi="phoneInfo";function bi(a){di.call(this,a),ui(this,"phoneNumber",a[yi])}function _i(a){var b={},t=a[Ti],e=a[Ei],n=a[Ci];if(a=pi(a[Si]),!n||n!=Oi&&n!=Ii&&!t||n==Ii&&!e||n==wi&&!a)throw Error("Invalid checkActionCode response!");n==Ii?(b[xi]=t||null,b[ji]=t||null,b[ki]=e):(b[xi]=e||null,b[ji]=e||null,b[ki]=t||null),b[Ni]=a||null,ui(this,Pi,n),ui(this,Ai,fi(b))}j(bi,di),bi.prototype.w=function(){var a=bi.ab.w.call(this);return a.phoneNumber=this.phoneNumber,a};var wi="REVERT_SECOND_FACTOR_ADDITION",Oi="EMAIL_SIGNIN",Ii="VERIFY_AND_CHANGE_EMAIL",Ti="email",Si="mfaInfo",Ei="newEmail",Ci="requestType",ki="email",xi="fromEmail",Ni="multiFactorInfo",ji="previousEmail",Ai="data",Pi="operation";function Ri(a){var b=Gn(a=$n(a),Di)||null,t=Gn(a,Mi)||null,e=Gn(a,Ui)||null;if(e=e&&Vi[e]||null,!b||!t||!e)throw new P("argument-error",Di+", "+Mi+"and "+Ui+" are required in a valid action code URL.");ci(this,{apiKey:b,operation:e,code:t,continueUrl:Gn(a,Li)||null,languageCode:Gn(a,Fi)||null,tenantId:Gn(a,qi)||null})}var Di="apiKey",Mi="oobCode",Li="continueUrl",Fi="languageCode",Ui="mode",qi="tenantId",Vi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:wi,signIn:Oi,verifyAndChangeEmail:Ii,verifyEmail:"VERIFY_EMAIL"};function Bi(a){try{return new Ri(a)}catch(t){return null}}function Ki(a){var b=a[$i];if(void 0===b)throw new P("missing-continue-uri");if("string"!=typeof b||"string"==typeof b&&!b.length)throw new P("invalid-continue-uri");this.h=b,this.b=this.a=null,this.g=!1;var t=a[Wi];if(t&&"object"==typeof t){b=t[Ji];var e=t[Yi];if(t=t[Xi],"string"==typeof b&&b.length){if(this.a=b,void 0!==e&&"boolean"!=typeof e)throw new P("argument-error",Yi+" property must be a boolean when specified.");if(this.g=!!e,void 0!==t&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new P("argument-error",Xi+" property must be a non empty string when specified.");this.b=t||null}else{if(void 0!==b)throw new P("argument-error",Ji+" property must be a non empty string when specified.");if(void 0!==e||void 0!==t)throw new P("missing-android-pkg-name")}}else if(void 0!==t)throw new P("argument-error",Wi+" property must be a non null object when specified.");if(this.f=null,(b=a[Gi])&&"object"==typeof b){if("string"==typeof(b=b[Qi])&&b.length)this.f=b;else if(void 0!==b)throw new P("argument-error",Qi+" property must be a non empty string when specified.")}else if(void 0!==b)throw new P("argument-error",Gi+" property must be a non null object when specified.");if(void 0!==(b=a[zi])&&"boolean"!=typeof b)throw new P("argument-error",zi+" property must be a boolean when specified.");if(this.c=!!b,void 0!==(a=a[Hi])&&("string"!=typeof a||"string"==typeof a&&!a.length))throw new P("argument-error",Hi+" property must be a non empty string when specified.");this.i=a||null}var Wi="android",Hi="dynamicLinkDomain",zi="handleCodeInApp",Gi="iOS",$i="url",Yi="installApp",Xi="minimumVersion",Ji="packageName",Qi="bundleId";function Zi(a){var b={};for(var t in b.continueUrl=a.h,b.canHandleCodeInApp=a.c,(b.androidPackageName=a.a)&&(b.androidMinimumVersion=a.b,b.androidInstallApp=a.g),b.iOSBundleId=a.f,b.dynamicLinkDomain=a.i,b)null===b[t]&&delete b[t];return b}var to=null;function eo(a){var b=[];return function(a,b){function t(t){for(;e<a.length;){var p=a.charAt(e++),n=to[p];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(p))throw Error("Unknown base64 encoding at char: "+p)}return t}!function(){if(!to){to={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),b=["+/=","+/","-_=","-_.","-_"],t=0;5>t;t++)for(var e=a.concat(b[t].split("")),n=0;n<e.length;n++){var r=e[n];void 0===to[r]&&(to[r]=n)}}}();for(var e=0;;){var n=t(-1),r=t(0),g=t(64),o=t(64);if(64===o&&-1===n)break;b(n<<2|r>>4),64!=g&&(b(r<<4&240|g>>2),64!=o&&b(g<<6&192|o))}}(a,(function(t){b.push(t)})),b}function no(a){var b=io(a);if(!(b&&b.sub&&b.iss&&b.aud&&b.exp))throw Error("Invalid JWT");this.h=a,this.a=b.exp,this.i=b.sub,a=Date.now()/1e3,this.g=b.iat||(a>this.a?this.a:a),this.b=b.provider_id||b.firebase&&b.firebase.sign_in_provider||null,this.f=b.firebase&&b.firebase.tenant||null,this.c=!!b.is_anonymous||"anonymous"==this.b}function ro(a){try{return new no(a)}catch(t){return null}}function io(a){if(!a)return null;if(3!=(a=a.split(".")).length)return null;for(var b=(4-(a=a[1]).length%4)%4,t=0;t<b;t++)a+=".";try{var e=eo(a);for(a=[],t=b=0;b<e.length;){var n=e[b++];if(128>n)a[t++]=String.fromCharCode(n);else if(191<n&&224>n){var r=e[b++];a[t++]=String.fromCharCode((31&n)<<6|63&r)}else if(239<n&&365>n){r=e[b++];var g=e[b++],o=((7&n)<<18|(63&r)<<12|(63&g)<<6|63&e[b++])-65536;a[t++]=String.fromCharCode(55296+(o>>10)),a[t++]=String.fromCharCode(56320+(1023&o))}else r=e[b++],g=e[b++],a[t++]=String.fromCharCode((15&n)<<12|(63&r)<<6|63&g)}return JSON.parse(a.join(""))}catch(t){}return null}no.prototype.T=function(){return this.f},no.prototype.l=function(){return this.c},no.prototype.toString=function(){return this.h};var oo="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ao=["client_id","response_type","scope","redirect_uri","state"],so={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:ao},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:ao},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:ao},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:oo},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function uo(a){for(var b in so)if(so[b].fa==a)return so[b];return null}function co(a){var b={};b["facebook.com"]=vo,b["google.com"]=mo,b["github.com"]=go,b["twitter.com"]=yo;var t=a&&a[ho];try{if(t)return b[t]?new b[t](a):new po(a);if(void 0!==a[lo])return new fo(a)}catch(t){}return null}var lo="idToken",ho="providerId";function fo(a){var b=a[ho];if(!b&&a[lo]){var t=ro(a[lo]);t&&t.b&&(b=t.b)}if(!b)throw Error("Invalid additional user info!");"anonymous"!=b&&"custom"!=b||(b=null),t=!1,void 0!==a.isNewUser?t=!!a.isNewUser:"identitytoolkit#SignupNewUserResponse"===a.kind&&(t=!0),ui(this,"providerId",b),ui(this,"isNewUser",t)}function po(a){fo.call(this,a),ui(this,"profile",fi((a=Xr(a.rawUserInfo||"{}"))||{}))}function vo(a){if(po.call(this,a),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function go(a){if(po.call(this,a),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ui(this,"username",this.profile&&this.profile.login||null)}function mo(a){if(po.call(this,a),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function yo(a){if(po.call(this,a),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ui(this,"username",a.screenName||null)}function bo(a){var b=$n(a),t=Gn(b,"link"),e=Gn($n(t),"link");return b=Gn(b,"deep_link_id"),Gn($n(b),"link")||b||e||t||a}function _o(a,b){if(!a&&!b)throw new P("internal-error","Internal assert: no raw session string available");if(a&&b)throw new P("internal-error","Internal assert: unable to determine the session type");this.a=a||null,this.b=b||null,this.type=this.a?wo:Oo}j(po,fo),j(vo,po),j(go,po),j(mo,po),j(yo,po);var wo="enroll",Oo="signin";function Io(){}function To(a,b){return a.then((function(t){if(t[ls]){var e=ro(t[ls]);if(!e||b!=e.i)throw new P("user-mismatch");return t}throw new P("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==M+"user-not-found"?new P("user-mismatch"):t}))}function So(a,b){if(!b)throw new P("internal-error","failed to construct a credential");this.a=b,ui(this,"providerId",a),ui(this,"signInMethod",a)}function Eo(a){return{pendingToken:a.a,requestUri:"http://localhost"}}function Co(a){if(a&&a.providerId&&a.signInMethod&&0==a.providerId.indexOf("saml.")&&a.pendingToken)try{return new So(a.providerId,a.pendingToken)}catch(t){}return null}function ko(a,b,t){if(this.a=null,b.idToken||b.accessToken)b.idToken&&ui(this,"idToken",b.idToken),b.accessToken&&ui(this,"accessToken",b.accessToken),b.nonce&&!b.pendingToken&&ui(this,"nonce",b.nonce),b.pendingToken&&(this.a=b.pendingToken);else{if(!b.oauthToken||!b.oauthTokenSecret)throw new P("internal-error","failed to construct a credential");ui(this,"accessToken",b.oauthToken),ui(this,"secret",b.oauthTokenSecret)}ui(this,"providerId",a),ui(this,"signInMethod",t)}function xo(a){var b={};return a.idToken&&(b.id_token=a.idToken),a.accessToken&&(b.access_token=a.accessToken),a.secret&&(b.oauth_token_secret=a.secret),b.providerId=a.providerId,a.nonce&&!a.a&&(b.nonce=a.nonce),b={postBody:sr(b).toString(),requestUri:"http://localhost"},a.a&&(delete b.postBody,b.pendingToken=a.a),b}function No(a){if(a&&a.providerId&&a.signInMethod){var b={idToken:a.oauthIdToken,accessToken:a.oauthTokenSecret?null:a.oauthAccessToken,oauthTokenSecret:a.oauthTokenSecret,oauthToken:a.oauthTokenSecret&&a.oauthAccessToken,nonce:a.nonce,pendingToken:a.pendingToken};try{return new ko(a.providerId,b,a.signInMethod)}catch(t){}}return null}function jo(a,b){this.Qc=b||[],ci(this,{providerId:a,isOAuthProvider:!0}),this.Ib={},this.pb=(uo(a)||{}).Ja||null,this.ob=null}function Ao(a){if("string"!=typeof a||0!=a.indexOf("saml."))throw new P("argument-error",'SAML provider IDs must be prefixed with "saml."');jo.call(this,a,[])}function Po(a){jo.call(this,a,ao),this.a=[]}function Ro(){Po.call(this,"facebook.com")}function Do(a){if(!a)throw new P("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return I(a)&&(b=a.accessToken),(new Ro).credential({accessToken:b})}function Mo(){Po.call(this,"github.com")}function Lo(a){if(!a)throw new P("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return I(a)&&(b=a.accessToken),(new Mo).credential({accessToken:b})}function Fo(){Po.call(this,"google.com"),this.Ca("profile")}function Uo(a,b){var t=a;return I(a)&&(t=a.idToken,b=a.accessToken),(new Fo).credential({idToken:t,accessToken:b})}function qo(){jo.call(this,"twitter.com",oo)}function Vo(a,b){var t=a;if(I(t)||(t={oauthToken:a,oauthTokenSecret:b}),!t.oauthToken||!t.oauthTokenSecret)throw new P("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ko("twitter.com",t,"twitter.com")}function Bo(a,b,t){this.a=a,this.f=b,ui(this,"providerId","password"),ui(this,"signInMethod",t===Wo.EMAIL_LINK_SIGN_IN_METHOD?Wo.EMAIL_LINK_SIGN_IN_METHOD:Wo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ko(a){return a&&a.email&&a.password?new Bo(a.email,a.password,a.signInMethod):null}function Wo(){ci(this,{providerId:"password",isOAuthProvider:!1})}function Ho(a,b){if(!(b=zo(b)))throw new P("argument-error","Invalid email link!");return new Bo(a,b.code,Wo.EMAIL_LINK_SIGN_IN_METHOD)}function zo(a){return(a=Bi(a=bo(a)))&&a.operation===Oi?a:null}function Go(a){if(!(a.eb&&a.cb||a.La&&a.ea))throw new P("internal-error");this.a=a,ui(this,"providerId","phone"),this.fa="phone",ui(this,"signInMethod","phone")}function $o(a){if(a&&"phone"===a.providerId&&(a.verificationId&&a.verificationCode||a.temporaryProof&&a.phoneNumber)){var b={};return J(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(t){a[t]&&(b[t]=a[t])})),new Go(b)}return null}function Yo(a){return a.a.La&&a.a.ea?{temporaryProof:a.a.La,phoneNumber:a.a.ea}:{sessionInfo:a.a.eb,code:a.a.cb}}function Xo(a){try{this.a=a||e.a.auth()}catch(t){throw new P("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ci(this,{providerId:"phone",isOAuthProvider:!1})}function Jo(a,b){if(!a)throw new P("missing-verification-id");if(!b)throw new P("missing-verification-code");return new Go({eb:a,cb:b})}function Qo(a){if(a.temporaryProof&&a.phoneNumber)return new Go({La:a.temporaryProof,ea:a.phoneNumber});var b=a&&a.providerId;if(!b||"password"===b)return null;var t=a&&a.oauthAccessToken,e=a&&a.oauthTokenSecret,n=a&&a.nonce,r=a&&a.oauthIdToken,g=a&&a.pendingToken;try{switch(b){case"google.com":return Uo(r,t);case"facebook.com":return Do(t);case"github.com":return Lo(t);case"twitter.com":return Vo(t,e);default:return t||e||r||g?g?0==b.indexOf("saml.")?new So(b,g):new ko(b,{pendingToken:g,idToken:a.oauthIdToken,accessToken:a.oauthAccessToken},b):new Po(b).credential({idToken:r,accessToken:t,rawNonce:n}):null}}catch(t){return null}}function Zo(a){if(!a.isOAuthProvider)throw new P("invalid-oauth-provider")}function ta(a,b,t,e,n,r,g){if(this.c=a,this.b=b||null,this.g=t||null,this.f=e||null,this.i=r||null,this.h=g||null,this.a=n||null,!this.g&&!this.a)throw new P("invalid-auth-event");if(this.g&&this.a)throw new P("invalid-auth-event");if(this.g&&!this.f)throw new P("invalid-auth-event")}function th(a){return(a=a||{}).type?new ta(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&R(a.error),a.postBody,a.tenantId):null}function ea(){this.b=null,this.a=[]}_o.prototype.Ha=function(){return this.a?Le(this.a):Le(this.b)},_o.prototype.w=function(){return this.type==wo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Io.prototype.ka=function(){},Io.prototype.b=function(){},Io.prototype.c=function(){},Io.prototype.w=function(){},So.prototype.ka=function(a){return As(a,Eo(this))},So.prototype.b=function(a,b){var t=Eo(this);return t.idToken=b,Ps(a,t)},So.prototype.c=function(a,b){return To(Rs(a,Eo(this)),b)},So.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ko.prototype.ka=function(a){return As(a,xo(this))},ko.prototype.b=function(a,b){var t=xo(this);return t.idToken=b,Ps(a,t)},ko.prototype.c=function(a,b){return To(Rs(a,xo(this)),b)},ko.prototype.w=function(){var a={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(a.oauthIdToken=this.idToken),this.accessToken&&(a.oauthAccessToken=this.accessToken),this.secret&&(a.oauthTokenSecret=this.secret),this.nonce&&(a.nonce=this.nonce),this.a&&(a.pendingToken=this.a),a},jo.prototype.Ka=function(a){return this.Ib=Tt(a),this},j(Ao,jo),j(Po,jo),Po.prototype.Ca=function(a){return et(this.a,a)||this.a.push(a),this},Po.prototype.Qb=function(){return at(this.a)},Po.prototype.credential=function(a,b){var t;if(!(t=I(a)?{idToken:a.idToken||null,accessToken:a.accessToken||null,nonce:a.rawNonce||null}:{idToken:a||null,accessToken:b||null}).idToken&&!t.accessToken)throw new P("argument-error","credential failed: must provide the ID token and/or the access token.");return new ko(this.providerId,t,this.providerId)},j(Ro,Po),ui(Ro,"PROVIDER_ID","facebook.com"),ui(Ro,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),j(Mo,Po),ui(Mo,"PROVIDER_ID","github.com"),ui(Mo,"GITHUB_SIGN_IN_METHOD","github.com"),j(Fo,Po),ui(Fo,"PROVIDER_ID","google.com"),ui(Fo,"GOOGLE_SIGN_IN_METHOD","google.com"),j(qo,jo),ui(qo,"PROVIDER_ID","twitter.com"),ui(qo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Bo.prototype.ka=function(a){return this.signInMethod==Wo.EMAIL_LINK_SIGN_IN_METHOD?vu(a,Bs,{email:this.a,oobCode:this.f}):vu(a,lu,{email:this.a,password:this.f})},Bo.prototype.b=function(a,b){return this.signInMethod==Wo.EMAIL_LINK_SIGN_IN_METHOD?vu(a,Ks,{idToken:b,email:this.a,oobCode:this.f}):vu(a,nu,{idToken:b,email:this.a,password:this.f})},Bo.prototype.c=function(a,b){return To(this.ka(a),b)},Bo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ci(Wo,{PROVIDER_ID:"password"}),ci(Wo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ci(Wo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Go.prototype.ka=function(a){return a.fb(Yo(this))},Go.prototype.b=function(a,b){var t=Yo(this);return t.idToken=b,vu(a,fu,t)},Go.prototype.c=function(a,b){var t=Yo(this);return t.operation="REAUTH",To(a=vu(a,du,t),b)},Go.prototype.w=function(){var a={providerId:"phone"};return this.a.eb&&(a.verificationId=this.a.eb),this.a.cb&&(a.verificationCode=this.a.cb),this.a.La&&(a.temporaryProof=this.a.La),this.a.ea&&(a.phoneNumber=this.a.ea),a},Xo.prototype.fb=function(a,b){var t=this.a.a;return Le(b.verify()).then((function(e){if("string"!=typeof e)throw new P("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(b.type){case"recaptcha":var n=I(a)?a.session:null,r=I(a)?a.phoneNumber:a;return(n&&n.type==wo?n.Ha().then((function(n){return function(a,b){return vu(a,iu,b).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(t,{idToken:n,phoneEnrollmentInfo:{phoneNumber:r,recaptchaToken:e}})})):n&&n.type==Oo?n.Ha().then((function(n){return function(a,b){return vu(a,ou,b).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(t,{mfaPendingCredential:n,mfaEnrollmentId:a.multiFactorHint&&a.multiFactorHint.uid||a.multiFactorUid,phoneSignInInfo:{recaptchaToken:e}})})):function(a,b){return vu(a,tu,b)}(t,{phoneNumber:r,recaptchaToken:e})).then((function(t){return"function"==typeof b.reset&&b.reset(),t}),(function(t){throw"function"==typeof b.reset&&b.reset(),t}));default:throw new P("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},ci(Xo,{PROVIDER_ID:"phone"}),ci(Xo,{PHONE_SIGN_IN_METHOD:"phone"}),ta.prototype.getUid=function(){var a=[];return a.push(this.c),this.b&&a.push(this.b),this.f&&a.push(this.f),this.h&&a.push(this.h),a.join("-")},ta.prototype.T=function(){return this.h},ta.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var na,ra=null;function ia(a){var b="unauthorized-domain",t=void 0,e=$n(a);a=e.a,"chrome-extension"==(e=e.c)?t=Qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):"http"==e||"https"==e?t=Qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):b="operation-not-supported-in-this-environment",P.call(this,b,t)}function oa(a,b,t){P.call(this,a,t),(a=b||{}).Jb&&ui(this,"email",a.Jb),a.ea&&ui(this,"phoneNumber",a.ea),a.credential&&ui(this,"credential",a.credential),a.Zb&&ui(this,"tenantId",a.Zb)}function aa(a){if(a.code){var b=a.code||"";0==b.indexOf(M)&&(b=b.substring(M.length));var t={credential:Qo(a),Zb:a.tenantId};if(a.email)t.Jb=a.email;else if(a.phoneNumber)t.ea=a.phoneNumber;else if(!t.credential)return new P(b,a.message||void 0);return new oa(b,t,a.message)}return null}function sa(){}function ua(a){return a.c||(a.c=a.b())}function ca(){}function la(a){if(!a.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t=0;t<b.length;t++){var e=b[t];try{return new ActiveXObject(e),a.f=e}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.f}function ha(){}function fa(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=q(this.qc,this),this.a.onerror=q(this.Sb,this),this.a.onprogress=q(this.rc,this),this.a.ontimeout=q(this.vc,this)}function da(a,b){a.readyState=b,a.onreadystatechange&&a.onreadystatechange()}function pa(a,b,t){this.reset(a,b,t,void 0,void 0)}j(ia,P),j(oa,P),oa.prototype.w=function(){var a={code:this.code,message:this.message};this.email&&(a.email=this.email),this.phoneNumber&&(a.phoneNumber=this.phoneNumber),this.tenantId&&(a.tenantId=this.tenantId);var b=this.credential&&this.credential.w();return b&&Et(a,b),a},oa.prototype.toJSON=function(){return this.w()},sa.prototype.c=null,j(ca,sa),ca.prototype.a=function(){var a=la(this);return a?new ActiveXObject(a):new XMLHttpRequest},ca.prototype.b=function(){var a={};return la(this)&&(a[0]=!0,a[1]=!0),a},na=new ca,j(ha,sa),ha.prototype.a=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new fa;throw Error("Unsupported browser")},ha.prototype.b=function(){return{}},(n=fa.prototype).open=function(a,b,t){if(null!=t&&!t)throw Error("Only async requests are supported.");this.a.open(a,b)},n.send=function(a){if(a){if("string"!=typeof a)throw Error("Only string data is supported");this.a.send(a)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,da(this,4)},n.Sb=function(){this.status=500,this.response=this.responseText="",da(this,4)},n.vc=function(){this.Sb()},n.rc=function(){this.status=200,da(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},pa.prototype.a=null;function va(a){this.f=a,this.b=this.c=this.a=null}function ga(a,b){this.name=a,this.value=b}pa.prototype.reset=function(a,b,t,e,n){"number"==typeof n||0,e||N(),delete this.a},ga.prototype.toString=function(){return this.name};var ma=new ga("SEVERE",1e3),ya=new ga("WARNING",900),ba=new ga("CONFIG",700),_a=new ga("FINE",500);function wa(a){return a.c?a.c:a.a?wa(a.a):(K("Root logger has no level set."),null)}va.prototype.log=function(a,b,t){if(a.value>=wa(this).value)for(O(b)&&(b=b()),a=new pa(a,String(b),this.f),t&&(a.a=t),t=this;t;)t=t.a};var Oa={},Ia=null;function Ta(a){var b;if(Ia||(Ia=new va(""),Oa[""]=Ia,Ia.c=ba),!(b=Oa[a])){b=new va(a);var t=a.lastIndexOf("."),e=a.substr(t+1);(t=Ta(a.substr(0,t))).b||(t.b={}),t.b[e]=b,b.a=t,Oa[a]=b}return b}function Sa(a,b){a&&a.log(_a,b,void 0)}function Ea(a){this.f=a}function Ca(a){Nn.call(this),this.u=a,this.h=void 0,this.readyState=ka,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Ta("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}j(Ea,sa),Ea.prototype.a=function(){return new Ca(this.f)},Ea.prototype.b=function(a){return function(){return a}}({}),j(Ca,Nn);var ka=0;function xa(a){a.c.read().then(a.pc.bind(a)).catch(a.Ua.bind(a))}function Na(a){a.readyState=4,a.g=null,a.c=null,a.m=null,ja(a)}function ja(a){a.onreadystatechange&&a.onreadystatechange.call(a)}function Aa(a){Nn.call(this),this.headers=new Fn,this.D=a||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=Pa,this.u=this.S=!1}(n=Ca.prototype).open=function(a,b){if(this.readyState!=ka)throw this.abort(),Error("Error reopening a connection");this.s=a,this.f=b,this.readyState=1,ja(this)},n.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var b={headers:this.l,method:this.s,credentials:this.h,cache:void 0};a&&(b.body=a),this.u.fetch(new Request(this.f,b)).then(this.uc.bind(this),this.Ua.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Na(this)),this.readyState=ka},n.uc=function(a){this.a&&(this.g=a,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=a.headers,this.readyState=2,ja(this)),this.a&&(this.readyState=3,ja(this),this.a&&("arraybuffer"===this.responseType?a.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==f.ReadableStream&&"body"in a?(this.response=this.responseText="",this.c=a.body.getReader(),this.m=new TextDecoder,xa(this)):a.text().then(this.tc.bind(this),this.Ua.bind(this)))))},n.pc=function(a){if(this.a){var b=this.m.decode(a.value?a.value:new Uint8Array(0),{stream:!a.done});b&&(this.response=this.responseText+=b),a.done?Na(this):ja(this),3==this.readyState&&xa(this)}},n.tc=function(a){this.a&&(this.response=this.responseText=a,Na(this))},n.sc=function(a){this.a&&(this.response=a,Na(this))},n.Ua=function(a){var b=this.i;b&&b.log(ya,"Failed to fetch url "+this.f,a instanceof Error?a:Error(a)),this.a&&Na(this)},n.setRequestHeader=function(a,b){this.l.append(a,b)},n.getResponseHeader=function(a){return this.b?this.b.get(a.toLowerCase())||"":((a=this.i)&&a.log(ya,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var a=this.i;return a&&a.log(ya,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}a=[];for(var b=this.b.entries(),t=b.next();!t.done;)t=t.value,a.push(t[0]+": "+t[1]),t=b.next();return a.join("\r\n")},Object.defineProperty(Ca.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(a){this.h=a?"include":"same-origin"}}),j(Aa,Nn);var Pa="";Aa.prototype.b=Ta("goog.net.XhrIo");var Ra=/^https?$/i,Da=["POST","PUT"];function Ma(a,b,t,e,n){if(a.a)throw Error("[goog.net.XhrIo] Object is active with another request="+a.l+"; newUri="+b);t=t?t.toUpperCase():"GET",a.l=b,a.h="",a.R=t,a.J=!1,a.c=!0,a.a=a.D?a.D.a():na.a(),a.C=a.D?ua(a.D):ua(na),a.a.onreadystatechange=q(a.Vb,a);try{Sa(a.b,Wa(a,"Opening Xhr")),a.O=!0,a.a.open(t,String(b),!0),a.O=!1}catch(t){return Sa(a.b,Wa(a,"Error opening Xhr: "+t.message)),void Fa(a,t)}b=e||"";var r=new Fn(a.headers);n&&function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(w(a)||"string"==typeof a)J(a,b,void 0);else for(var t=Ln(a),e=Mn(a),n=e.length,r=0;r<n;r++)b.call(void 0,e[r],t&&t[r],a)}(n,(function(g,t){r.set(t,g)})),n=function(a){t:{for(var b=La,t=a.length,e="string"==typeof a?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a)){b=n;break t}b=-1}return 0>b?null:"string"==typeof a?a.charAt(b):a[b]}(r.Y()),e=f.FormData&&b instanceof f.FormData,!et(Da,t)||n||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(g,t){this.a.setRequestHeader(t,g)}),a),a.m&&(a.a.responseType=a.m),"withCredentials"in a.a&&a.a.withCredentials!==a.S&&(a.a.withCredentials=a.S);try{Va(a),0<a.g&&(a.u=function(a){return re&&pe(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(a.a),Sa(a.b,Wa(a,"Will abort after "+a.g+"ms if incomplete, xhr2 "+a.u)),a.u?(a.a.timeout=a.g,a.a.ontimeout=q(a.Ma,a)):a.s=Rn(a.Ma,a.g,a)),Sa(a.b,Wa(a,"Sending request")),a.i=!0,a.a.send(b),a.i=!1}catch(t){Sa(a.b,Wa(a,"Send error: "+t.message)),Fa(a,t)}}function La(a){return"content-type"==a.toLowerCase()}function Fa(a,b){a.c=!1,a.a&&(a.f=!0,a.a.abort(),a.f=!1),a.h=b,Ua(a),qa(a)}function Ua(a){a.J||(a.J=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function li(a){if(a.c&&void 0!==h)if(a.C[1]&&4==Ba(a)&&2==Ka(a))Sa(a.b,Wa(a,"Local request error detected and ignored"));else if(a.i&&4==Ba(a))Rn(a.Vb,0,a);else if(a.dispatchEvent("readystatechange"),4==Ba(a)){Sa(a.b,Wa(a,"Request complete")),a.c=!1;try{var t,b=Ka(a);t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}if(!(t=e)){var n;if(n=0===b){var r=String(a.l).match(Vn)[1]||null;if(!r&&f.self&&f.self.location){var g=f.self.location.protocol;r=g.substr(0,g.length-1)}n=!Ra.test(r?r.toLowerCase():"")}t=n}if(t)a.dispatchEvent("complete"),a.dispatchEvent("success");else{try{var o=2<Ba(a)?a.a.statusText:""}catch(t){Sa(a.b,"Can not get status: "+t.message),o=""}a.h=o+" ["+Ka(a)+"]",Ua(a)}}finally{qa(a)}}}function qa(a,b){if(a.a){Va(a);var t=a.a,e=a.C[0]?y:null;a.a=null,a.C=null,b||a.dispatchEvent("ready");try{t.onreadystatechange=e}catch(t){(a=a.b)&&a.log(ma,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Va(a){a.a&&a.u&&(a.a.ontimeout=null),a.s&&(f.clearTimeout(a.s),a.s=null)}function Ba(a){return a.a?a.a.readyState:0}function Ka(a){try{return 2<Ba(a)?a.a.status:-1}catch(t){return-1}}function Wa(a,b){return b+" ["+a.R+" "+a.l+" "+Ka(a)+"]"}function Ha(a){var b=ns;this.g=[],this.u=b,this.s=a||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function za(a,b,t){a.a=!0,a.c=t,a.f=!b,Xa(a)}function Ga(a){if(a.a){if(!a.v)throw new Ja(a);a.v=!1}}function $a(a,b,t,e){a.g.push([b,t,e]),a.a&&Xa(a)}function Ya(a){return tt(a.g,(function(b){return O(b[1])}))}function Xa(a){if(a.h&&a.a&&Ya(a)){var b=a.h,t=ts[b];t&&(f.clearTimeout(t.a),delete ts[b]),a.h=0}a.b&&(a.b.l--,delete a.b),b=a.c;for(var e=t=!1;a.g.length&&!a.i;){var n=a.g.shift(),r=n[0],g=n[1];if(n=n[2],r=a.f?g:r)try{var o=r.call(n||a.s,b);void 0!==o&&(a.f=a.f&&(o==b||o instanceof Error),a.c=b=o),(V(b)||"function"==typeof f.Promise&&b instanceof f.Promise)&&(e=!0,a.i=!0)}catch(e){b=e,a.f=!0,Ya(a)||(t=!0)}}a.c=b,e&&(o=q(a.m,a,!0),e=q(a.m,a,!1),b instanceof Ha?($a(b,o,e),b.C=!0):b.then(o,e)),t&&(b=new Za(b),ts[b.a]=b,a.h=b.a)}function Ja(){u.call(this)}function Qa(){u.call(this)}function Za(a){this.a=f.setTimeout(q(this.c,this),0),this.b=a}(n=Aa.prototype).Ma=function(){void 0!==h&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Sa(this.b,Wa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(Sa(this.b,Wa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),qa(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),qa(this,!0)),Aa.ab.Da.call(this)},n.Vb=function(){this.xa||(this.O||this.i||this.f?li(this):this.Jc())},n.Jc=function(){li(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Pa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var a=this.b;return a&&a.log(ma,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return Sa(this.b,"Can not get response: "+t.message),null}},Ha.prototype.cancel=function(a){if(this.a)this.c instanceof Ha&&this.c.cancel();else{if(this.b){var b=this.b;delete this.b,a?b.cancel(a):(b.l--,0>=b.l&&b.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(a=new Qa(this),Ga(this),za(this,!1,a))}},Ha.prototype.m=function(a,b){this.i=!1,za(this,a,b)},Ha.prototype.then=function(a,b,t){var e,n,r=new Ne((function(g,t){e=g,n=t}));return $a(this,e,(function(g){g instanceof Qa?r.cancel():n(g)})),r.then(a,b,t)},Ha.prototype.$goog_Thenable=!0,j(Ja,u),Ja.prototype.message="Deferred has already fired",Ja.prototype.name="AlreadyCalledError",j(Qa,u),Qa.prototype.message="Deferred was canceled",Qa.prototype.name="CanceledError",Za.prototype.c=function(){throw delete ts[this.a],this.b};var ts={};function es(a){var b={},t=b.document||document,e=Dt(a).toString(),n=Te(document,"SCRIPT"),r={Wb:n,Ma:void 0},g=new Ha(r),o=null,c=null!=b.timeout?b.timeout:5e3;return 0<c&&(o=window.setTimeout((function(){rs(n,!0);var p=new as(os,"Timeout reached for loading script "+e);Ga(g),za(g,!1,p)}),c),r.Ma=o),n.onload=n.onreadystatechange=function(){n.readyState&&"loaded"!=n.readyState&&"complete"!=n.readyState||(rs(n,b.xd||!1,o),Ga(g),za(g,!0,null))},n.onerror=function(){rs(n,!0,o);var p=new as(is,"Error while loading script "+e);Ga(g),za(g,!1,p)},Et(r=b.attributes||{},{type:"text/javascript",charset:"UTF-8"}),be(n,r),function(a,b){Ct(a,"HTMLScriptElement"),a.src=Dt(b),(b=a.ownerDocument&&a.ownerDocument.defaultView)&&b!=f?b=m(b.document):(null===v&&(v=m(f.document)),b=v),b&&a.setAttribute("nonce",b)}(n,a),function(a){var b;return(b=(a||document).getElementsByTagName("HEAD"))&&0!=b.length?b[0]:a.documentElement}(t).appendChild(n),g}function ns(){if(this&&this.Wb){var a=this.Wb;a&&"SCRIPT"==a.tagName&&rs(a,!0,this.Ma)}}function rs(a,b,t){null!=t&&f.clearTimeout(t),a.onload=y,a.onerror=y,a.onreadystatechange=y,b&&window.setTimeout((function(){a&&a.parentNode&&a.parentNode.removeChild(a)}),0)}var is=0,os=1;function as(a,b){var t="Jsloader error (code #"+a+")";b&&(t+=": "+b),u.call(this,t),this.code=a}function ss(a){this.f=a}function us(a,b,t){if(this.c=a,a=b||{},this.l=a.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=a.secureTokenTimeout||hs,this.g=Tt(a.secureTokenHeaders||fs),this.h=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=a.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=a.firebaseTimeout||ds,this.a=Tt(a.firebaseHeaders||ps),t&&(this.a["X-Client-Version"]=t,this.g["X-Client-Version"]=t),t="Node"==Rr(),!(t=f.XMLHttpRequest||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.XMLHttpRequest)&&!Pr())throw new P("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Pr()?this.f=new Ea(self):Dr()?this.f=new ss(t):this.f=new ha,this.b=null}j(as,u),j(ss,sa),ss.prototype.a=function(){return new this.f},ss.prototype.b=function(){return{}};var cs,ls="idToken",hs=new ti(3e4,6e4),fs={"Content-Type":"application/x-www-form-urlencoded"},ds=new ti(3e4,6e4),ps={"Content-Type":"application/json"};function vs(a,b){b?a.a["X-Firebase-Locale"]=b:delete a.a["X-Firebase-Locale"]}function gs(a,b){b&&(a.l=ms("https://securetoken.googleapis.com/v1/token",b),a.h=ms("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",b),a.i=ms("https://identitytoolkit.googleapis.com/v2/",b))}function ms(a,b){return a=$n(a),b=$n(b.url),a.f=a.a+a.f,Kn(a,b.c),a.a=b.a,Wn(a,b.g),a.toString()}function ys(a,b){b?(a.a["X-Client-Version"]=b,a.g["X-Client-Version"]=b):(delete a.a["X-Client-Version"],delete a.g["X-Client-Version"])}function bs(a,b,t,e,n,r,g){(function(){var a=Vr();return!((a=Fr(a)!=Lr?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)&&30>a||re&&ge&&!(9<ge))})()||Pr()?a=q(a.u,a):(cs||(cs=new Ne((function(t,e){!function(a,b){if(((window.gapi||{}).client||{}).request)a();else{f[ws]=function(){((window.gapi||{}).client||{}).request?a():b(Error("CORS_UNSUPPORTED"))},function(a,b){$a(a,null,b,void 0)}(es(Mt(_s,{onload:ws})),(function(){b(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),a=q(a.s,a)),a(b,t,e,n,r,g)}us.prototype.T=function(){return this.b},us.prototype.u=function(a,b,t,e,n,r){if(Pr()&&(void 0===f.fetch||void 0===f.Headers||void 0===f.Request))throw new P("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var g=new Aa(this.f);if(r){g.g=Math.max(0,r);var o=setTimeout((function(){g.dispatchEvent("timeout")}),r)}jn(g,"complete",(function(){o&&clearTimeout(o);var t=null;try{t=JSON.parse(function(a){try{return a.a?a.a.responseText:""}catch(t){return Sa(a.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(e){t=null}b&&b(t)})),An(g,"ready",(function(){o&&clearTimeout(o),en(this)})),An(g,"timeout",(function(){o&&clearTimeout(o),en(this),b&&b(null)})),Ma(g,a,t,e,n)};var _s=new kt(At,"https://apis.google.com/js/client.js?onload=%{onload}"),ws="__fcb"+Math.floor(1e6*Math.random()).toString();function Os(a,b,t,e,n,r,g){var o=$n(b+t);zn(o,"key",a.c),g&&zn(o,"cb",N().toString());var c="GET"==e;if(c)for(var p in n)n.hasOwnProperty(p)&&zn(o,p,n[p]);return new Ne((function(t,l){bs(a,o.toString(),(function(e){e?e.error?l(mu(e,r||{})):t(e):l(new P("network-request-failed"))}),e,c?void 0:pr(Yr(n)),a.a,a.v.get())}))}function Is(a){if("string"!=typeof(a=a.email)||!xr.test(a))throw new P("invalid-email")}function Ts(a){"email"in a&&Is(a)}function Ss(a){if(!a[ls]){if(a.mfaPendingCredential)throw new P("multi-factor-auth-required",null,Tt(a));throw new P("internal-error")}}function Es(a){if(a.phoneNumber||a.temporaryProof){if(!a.phoneNumber||!a.temporaryProof)throw new P("internal-error")}else{if(!a.sessionInfo)throw new P("missing-verification-id");if(!a.code)throw new P("missing-verification-code")}}us.prototype.s=function(a,b,t,e,n){var r=this;cs.then((function(){window.gapi.client.setApiKey(r.c);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:a,method:t,body:e,headers:n,authType:"none",callback:function(t){window.gapi.auth.setToken(g),b&&b(t)}})})).o((function(g){b&&b({error:{message:g&&g.message||"CORS_UNSUPPORTED"}})}))},us.prototype.zb=function(){return vu(this,ru,{})},us.prototype.Bb=function(a,b){return vu(this,eu,{idToken:a,email:b})},us.prototype.Cb=function(a,b){return vu(this,nu,{idToken:a,password:b})};var Cs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ks(a){if(!a.phoneVerificationInfo)throw new P("internal-error");if(!a.phoneVerificationInfo.sessionInfo)throw new P("missing-verification-id");if(!a.phoneVerificationInfo.code)throw new P("missing-verification-code")}function xs(a){if(!a.requestUri||!a.sessionId&&!a.postBody&&!a.pendingToken)throw new P("internal-error")}function Ns(a,b){return b.oauthIdToken&&b.providerId&&0==b.providerId.indexOf("oidc.")&&!b.pendingToken&&(a.sessionId?b.nonce=a.sessionId:a.postBody&&(cr(a=new or(a.postBody),"nonce")&&(b.nonce=a.get("nonce")))),b}function js(a){var b=null;if(a.needConfirmation?(a.code="account-exists-with-different-credential",b=aa(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",b=aa(a)):"EMAIL_EXISTS"==a.errorMessage?(a.code="email-already-in-use",b=aa(a)):a.errorMessage&&(b=gu(a.errorMessage)),b)throw b;Ss(a)}function As(a,b){return b.returnIdpCredential=!0,vu(a,au,b)}function Ps(a,b){return b.returnIdpCredential=!0,vu(a,uu,b)}function Rs(a,b){return b.returnIdpCredential=!0,b.autoCreate=!1,vu(a,su,b)}function Ds(a){if(!a.oobCode)throw new P("invalid-action-code")}(n=us.prototype).Db=function(a,b){var t={idToken:a},e=[];return Ot(Cs,(function(n,r){var g=b[r];null===g?e.push(n):r in b&&(t[r]=g)})),e.length&&(t.deleteAttribute=e),vu(this,eu,t)},n.vb=function(a,b){return Et(a={requestType:"PASSWORD_RESET",email:a},b),vu(this,Xs,a)},n.wb=function(a,b){return Et(a={requestType:"EMAIL_SIGNIN",email:a},b),vu(this,Gs,a)},n.ub=function(a,b){return Et(a={requestType:"VERIFY_EMAIL",idToken:a},b),vu(this,$s,a)},n.Eb=function(a,b,t){return Et(a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:b},t),vu(this,Ys,a)},n.fb=function(a){return vu(this,hu,a)},n.nb=function(a,b){return vu(this,Zs,{oobCode:a,newPassword:b})},n.Ra=function(a){return vu(this,Ls,{oobCode:a})},n.jb=function(a){return vu(this,Ms,{oobCode:a})};var Ms={endpoint:"setAccountInfo",A:Ds,Z:"email",B:!0},Ls={endpoint:"resetPassword",A:Ds,G:function(a){var b=a.requestType;if(!b||!a.email&&"EMAIL_SIGNIN"!=b&&"VERIFY_AND_CHANGE_EMAIL"!=b)throw new P("internal-error")},B:!0},Fs={endpoint:"signupNewUser",A:function(a){if(Is(a),!a.password)throw new P("weak-password")},G:Ss,V:!0,B:!0},Us={endpoint:"createAuthUri",B:!0},qs={endpoint:"deleteAccount",N:["idToken"]},Vs={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(a){if(!Array.isArray(a.deleteProvider))throw new P("internal-error")}},Bs={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Is,G:Ss,V:!0,B:!0},Ks={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Is,G:Ss,V:!0},Ws={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ks,G:Ss,B:!0,Na:!0},Hs={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ks,G:Ss,B:!0,Na:!0},zs={endpoint:"getAccountInfo"},Gs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(a){if("EMAIL_SIGNIN"!=a.requestType)throw new P("internal-error");Is(a)},Z:"email",B:!0},$s={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new P("internal-error")},Z:"email",B:!0},Ys={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(a){if("VERIFY_AND_CHANGE_EMAIL"!=a.requestType)throw new P("internal-error")},Z:"email",B:!0},Xs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(a){if("PASSWORD_RESET"!=a.requestType)throw new P("internal-error");Is(a)},Z:"email",B:!0},Js={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Qs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(a){if(!a.recaptchaSiteKey)throw new P("internal-error")}},Zs={endpoint:"resetPassword",A:Ds,Z:"email",B:!0},tu={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},eu={endpoint:"setAccountInfo",N:["idToken"],A:Ts,V:!0},nu={endpoint:"setAccountInfo",N:["idToken"],A:function(a){if(Ts(a),!a.password)throw new P("weak-password")},G:Ss,V:!0},ru={endpoint:"signupNewUser",G:Ss,V:!0,B:!0},iu={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(a){if(!a.phoneEnrollmentInfo)throw new P("internal-error");if(!a.phoneEnrollmentInfo.phoneNumber)throw new P("missing-phone-number");if(!a.phoneEnrollmentInfo.recaptchaToken)throw new P("missing-app-credential")},G:function(a){if(!a.phoneSessionInfo||!a.phoneSessionInfo.sessionInfo)throw new P("internal-error")},B:!0,Na:!0},ou={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(a){if(!a.phoneSignInInfo||!a.phoneSignInInfo.recaptchaToken)throw new P("missing-app-credential")},G:function(a){if(!a.phoneResponseInfo||!a.phoneResponseInfo.sessionInfo)throw new P("internal-error")},B:!0,Na:!0},au={endpoint:"verifyAssertion",A:xs,Ya:Ns,G:js,V:!0,B:!0},su={endpoint:"verifyAssertion",A:xs,Ya:Ns,G:function(a){if(a.errorMessage&&"USER_NOT_FOUND"==a.errorMessage)throw new P("user-not-found");if(a.errorMessage)throw gu(a.errorMessage);Ss(a)},V:!0,B:!0},uu={endpoint:"verifyAssertion",A:function(a){if(xs(a),!a.idToken)throw new P("internal-error")},Ya:Ns,G:js,V:!0},cu={endpoint:"verifyCustomToken",A:function(a){if(!a.token)throw new P("invalid-custom-token")},G:Ss,V:!0,B:!0},lu={endpoint:"verifyPassword",A:function(a){if(Is(a),!a.password)throw new P("wrong-password")},G:Ss,V:!0,B:!0},hu={endpoint:"verifyPhoneNumber",A:Es,G:Ss,B:!0},fu={endpoint:"verifyPhoneNumber",A:function(a){if(!a.idToken)throw new P("internal-error");Es(a)},G:function(a){if(a.temporaryProof)throw a.code="credential-already-in-use",aa(a);Ss(a)}},du={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Es,G:Ss,B:!0},pu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(a){if(!!a[ls]^!!a.refreshToken)throw new P("internal-error")},B:!0,Na:!0};function vu(a,b,t){if(!function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var t=0;t<b.length;t++){var e=a[b[t]];if(null==e||""===e)return!1}return!0}(t,b.N))return Fe(new P("internal-error"));var e,n=!!b.Na,r=b.Ub||"POST";return Le(t).then(b.A).then((function(){return b.V&&(t.returnSecureToken=!0),b.B&&a.b&&void 0===t.tenantId&&(t.tenantId=a.b),Os(a,n?a.i:a.h,b.endpoint,r,t,b.Hb,b.lb||!1)})).then((function(g){return e=g,b.Ya?b.Ya(t,e):e})).then(b.G).then((function(){if(!b.Z)return e;if(!(b.Z in e))throw new P("internal-error");return e[b.Z]}))}function gu(a){return mu({error:{errors:[{message:a}],code:400,message:a}})}function mu(a,b){var t=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"",e={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(t=e[t]?new P(e[t]):null)return t;for(var n in t=a.error&&a.error.message||"",Et(e={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},b||{}),b=(b=t.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<b.length?b[1]:void 0,e)if(0===t.indexOf(n))return new P(e[n],b);return!b&&a&&(b=$r(a)),new P("internal-error",b)}function yu(a){this.b=a,this.a=null,this.rb=function(a){return(Ou||(Ou=new Ne((function(a,b){function t(){Zr(),Br("gapi.load")("gapi.iframes",{callback:a,ontimeout:function(){Zr(),b(Error("Network Error"))},timeout:_u.get()})}if(Br("gapi.iframes.Iframe"))a();else if(Br("gapi.load"))t();else{var e="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[e]=function(){Br("gapi.load")?t():b(Error("Network Error"))},Le(es(e=Mt(bu,{onload:e}))).o((function(){b(Error("Network Error"))}))}})).o((function(a){throw Ou=null,a})))).then((function(){return new Ne((function(b,t){Br("gapi.iframes.getContext")().open({where:document.body,url:a.b,messageHandlersFilter:Br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(e){function n(){clearTimeout(r),b()}a.a=e,a.a.restyle({setHideOnLeave:!1});var r=setTimeout((function(){t(Error("Network Error"))}),wu.get());e.ping(n).then(n,(function(){t(Error("Network Error"))}))}))}))}))}(this)}var bu=new kt(At,"https://apis.google.com/js/api.js?onload=%{onload}"),_u=new ti(3e4,6e4),wu=new ti(5e3,15e3),Ou=null;function Iu(a,b,t,e){this.l=a,this.h=b,this.i=t,this.g=e,this.f=null,this.g?a=Yn((a=$n(this.g.url)).c,a.a,a.g,"/emulator/auth/iframe"):a=Yn("https",this.l,null,"/__/auth/iframe"),this.a=a,zn(this.a,"apiKey",this.h),zn(this.a,"appName",this.i),this.b=null,this.c=[]}function Tu(a,b,t,e,n,r){this.u=a,this.s=b,this.c=t,this.m=e,this.v=r,this.i=this.g=this.l=null,this.a=n,this.h=this.f=null}function Su(a){try{return e.a.app(a).auth().Ga()}catch(t){return[]}}function Eu(a,b,t,e,n,r){this.s=a,this.g=b,this.b=t,this.f=r,this.c=e||null,this.i=n||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Cu(a){var b=Or();return function(a){return vu(a,Js,{}).then((function(b){return b.authorizedDomains||[]}))}(a).then((function(t){t:{var e=$n(b),n=e.c;e=e.a;for(var r=0;r<t.length;r++){var g=t[r],o=e,c=n;if(0==g.indexOf("chrome-extension://")?o=$n(g).a==o&&"chrome-extension"==c:"http"!=c&&"https"!=c?o=!1:kr.test(g)?o=o==g:(g=g.split(".").join("\\."),o=new RegExp("^(.+\\."+g+"|"+g+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new ia(Or())}))}function ku(a){return a.m||(a.m=Nr().then((function(){if(!a.u){var b=a.c,t=a.i,e=Su(a.b),n=new Iu(a.s,a.g,a.b,a.f);n.f=b,n.b=t,n.c=at(e||[]),a.u=n.toString()}a.v=new yu(a.u),function(a){if(!a.v)throw Error("IfcHandler must be initialized!");!function(a,b){a.rb.then((function(){a.a.register("authEvent",b,Br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(a.v,(function(b){var t={};if(b&&b.authEvent){var e=!1;for(b=th(b.authEvent),t=0;t<a.h.length;t++)e=a.h[t](b)||e;return(t={}).status=e?"ACK":"ERROR",Le(t)}return t.status="ERROR",Le(t)}))}(a)}))),a.m}function xu(a){return a.l||(a.C=a.c?qr(a.c,Su(a.b)):null,a.l=new us(a.g,U(a.i),a.C),a.f&&gs(a.l,a.f)),a.l}function Nu(a,b,t,e,n,r,g,o,c,p,l,h){return(a=new Tu(a,b,t,e,n,h)).l=r,a.g=g,a.i=o,a.b=Tt(c||null),a.f=p,a.yb(l).toString()}function ju(a){if(this.a=a||e.a.INTERNAL.reactNative&&e.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new P("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Au(a){this.b=a,this.a={},this.f=q(this.c,this)}Iu.prototype.toString=function(){return this.f?zn(this.a,"v",this.f):ur(this.a.b,"v"),this.b?zn(this.a,"eid",this.b):ur(this.a.b,"eid"),this.c.length?zn(this.a,"fw",this.c.join(",")):ur(this.a.b,"fw"),this.a.toString()},Tu.prototype.yb=function(a){return this.h=a,this},Tu.prototype.toString=function(){if(this.v){var a=$n(this.v.url);a=Yn(a.c,a.a,a.g,"/emulator/auth/handler")}else a=Yn("https",this.u,null,"/__/auth/handler");if(zn(a,"apiKey",this.s),zn(a,"appName",this.c),zn(a,"authType",this.m),this.a.isOAuthProvider){var b=this.a;try{var t=e.a.app(this.c).auth().la()}catch(e){t=null}for(var n in b.ob=t,zn(a,"providerId",this.a.providerId),b=Yr((t=this.a).Ib))b[n]=b[n].toString();n=t.Qc,b=Tt(b);for(var r=0;r<n.length;r++){var o=n[r];o in b&&delete b[o]}t.pb&&t.ob&&!b[t.pb]&&(b[t.pb]=t.ob),It(b)||zn(a,"customParameters",$r(b))}if("function"==typeof this.a.Qb&&((t=this.a.Qb()).length&&zn(a,"scopes",t.join(","))),this.l?zn(a,"redirectUrl",this.l):ur(a.b,"redirectUrl"),this.g?zn(a,"eventId",this.g):ur(a.b,"eventId"),this.i?zn(a,"v",this.i):ur(a.b,"v"),this.b)for(var g in this.b)this.b.hasOwnProperty(g)&&!Gn(a,g)&&zn(a,g,this.b[g]);return this.h?zn(a,"tid",this.h):ur(a.b,"tid"),this.f?zn(a,"eid",this.f):ur(a.b,"eid"),(g=Su(this.c)).length&&zn(a,"fw",g.join(",")),a.toString()},(n=Eu.prototype).Ob=function(a,b,t){var e=new P("popup-closed-by-user"),n=new P("web-storage-unsupported"),r=this,g=!1;return this.ma().then((function(){(function(a){var b={type:"webStorageSupport"};return ku(a).then((function(){return function(a,b){return a.rb.then((function(){return new Ne((function(t){a.a.send(b.type,b,t,Br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(a.v,b)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(r).then((function(t){t||(a&&Er(a),b(n),g=!0)}))})).o((function(){})).then((function(){if(!g)return function(a){return new Ne((function(b){return function t(){Dn(2e3).then((function(){if(a&&!a.closed)return t();b()}))}()}))}(a)})).then((function(){if(!g)return Dn(t).then((function(){b(e)}))}))},n.Xb=function(){var a=Vr();return!Gr(a)&&!Qr(a)},n.Tb=function(){return!1},n.Mb=function(a,b,t,e,n,r,g,o){if(!a)return Fe(new P("popup-blocked"));if(g&&!Gr())return this.ma().o((function(p){Er(a),n(p)})),e(),Le();this.a||(this.a=Cu(xu(this)));var c=this;return this.a.then((function(){var p=c.ma().o((function(t){throw Er(a),n(t),t}));return e(),p})).then((function(){(Zo(t),g)||Ir(Nu(c.s,c.g,c.b,b,t,null,r,c.c,void 0,c.i,o,c.f),a)})).o((function(p){throw"auth/network-request-failed"==p.code&&(c.a=null),p}))},n.Nb=function(a,b,t,e){this.a||(this.a=Cu(xu(this)));var n=this;return this.a.then((function(){Zo(b),Ir(Nu(n.s,n.g,n.b,a,b,Or(),t,n.c,void 0,n.i,e,n.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(n.a=null),t}))},n.ma=function(){var a=this;return ku(this).then((function(){return a.v.rb})).o((function(){throw a.a=null,new P("network-request-failed")}))},n.$b=function(){return!0},n.Ea=function(a){this.h.push(a)},n.Sa=function(a){it(this.h,(function(b){return b==a}))},(n=ju.prototype).get=function(a){return Le(this.a.getItem(a)).then((function(b){return b&&Xr(b)}))},n.set=function(a,b){return Le(this.a.setItem(a,$r(b)))},n.U=function(a){return Le(this.a.removeItem(a))},n.ca=function(){},n.ia=function(){};var Pu,Ru=[];function Du(a,b,t){It(a.a)&&a.b.addEventListener("message",a.f),void 0===a.a[b]&&(a.a[b]=[]),a.a[b].push(t)}function Mu(a){this.a=a}function Lu(a){this.c=a,this.b=!1,this.a=[]}function Fu(a,b,t,e){var n,g,r,o,c=t||{},p=null;if(a.b)return Fe(Error("connection_unavailable"));var l=e?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Ne((function(t,e){h?(n=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),r=setTimeout((function(){e(Error("unsupported_event"))}),l),p={messageChannel:h,onMessage:g=function(c){c.data.eventId===n&&("ack"===c.data.status?(clearTimeout(r),o=setTimeout((function(){e(Error("timeout"))}),3e3)):"done"===c.data.status?(clearTimeout(o),void 0!==c.data.response?t(c.data.response):e(Error("unknown_error"))):(clearTimeout(r),clearTimeout(o),e(Error("invalid_response"))))}},a.a.push(p),h.port1.addEventListener("message",g),a.c.postMessage({eventType:b,eventId:n,data:c},[h.port2])):e(Error("connection_unavailable"))})).then((function(t){return Uu(a,p),t})).o((function(t){throw Uu(a,p),t}))}function Uu(a,b){if(b){var t=b.messageChannel,e=b.onMessage;t&&(t.port1.removeEventListener("message",e),t.port1.close()),it(a.a,(function(t){return t==b}))}}function qu(){if(!Wu())throw new P("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var a=this;Pr()&&self?(this.v=function(){var a=Pr()?self:null;if(J(Ru,(function(t){t.b==a&&(b=t)})),!b){var b=new Au(a);Ru.push(b)}return b}(),Du(this.v,"keyChanged",(function(b,t){return Yu(a).then((function(e){return 0<e.length&&J(a.a,(function(t){t(e)})),{keyProcessed:et(e,t.key)}}))})),Du(this.v,"ping",(function(){return Le(["keyChanged"])}))):function(){var a=f.navigator;return a&&a.serviceWorker?Le().then((function(){return a.serviceWorker.ready})).then((function(b){return b.active||null})).o((function(){return null})):Le(null)}().then((function(b){(a.h=b)&&(a.g=new Lu(new Mu(b)),Fu(a.g,"ping",null,!0).then((function(t){t[0].fulfilled&&et(t[0].value,"keyChanged")&&(a.s=!0)})).o((function(){})))}))}function Vu(a){return new Ne((function(b,t){var e=a.m.open("firebaseLocalStorageDb",1);e.onerror=function(e){try{e.preventDefault()}catch(t){}t(Error(e.target.error))},e.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){t(e)}},e.onsuccess=function(e){(e=e.target.result).objectStoreNames.contains("firebaseLocalStorage")?b(e):function(a){return new Ne((function(b,t){var e=a.m.deleteDatabase("firebaseLocalStorageDb");e.onsuccess=function(){b()},e.onerror=function(e){t(Error(e.target.error))}}))}(a).then((function(){return Vu(a)})).then((function(t){b(t)})).o((function(e){t(e)}))}}))}function Bu(a){return a.i||(a.i=Vu(a)),a.i}function Ku(a,b){var t=0;return new Ne((function e(n,r){Bu(a).then(b).then(n).o((function(g){if(!(3<++t))return Bu(a).then((function(t){return t.close(),a.i=void 0,e(n,r)})).o((function(t){r(t)}));r(g)}))}))}function Wu(){try{return!!f.indexedDB}catch(t){return!1}}function Hu(a){return a.objectStore("firebaseLocalStorage")}function zu(a,b){return a.transaction(["firebaseLocalStorage"],b?"readwrite":"readonly")}function Gu(a){return new Ne((function(b,t){a.onsuccess=function(t){t&&t.target?b(t.target.result):b()},a.onerror=function(e){t(e.target.error)}}))}function $u(a,b){return a.g&&a.h&&function(){var a=f.navigator;return a&&a.serviceWorker&&a.serviceWorker.controller||null}()===a.h?Fu(a.g,"keyChanged",{key:b},a.s).then((function(){})).o((function(){})):Le()}function Yu(a){return Bu(a).then((function(b){var t=Hu(zu(b,!1));return t.getAll?Gu(t.getAll()):new Ne((function(e,n){var r=[],g=t.openCursor();g.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},g.onerror=function(t){n(t.target.error)}}))})).then((function(b){var t={},e=[];if(0==a.b){for(e=0;e<b.length;e++)t[b[e].fbase_key]=b[e].value;e=Tr(a.c,t),a.c=t}return e}))}function Xu(a){a.l&&a.l.cancel("STOP_EVENT"),a.f&&(clearTimeout(a.f),a.f=null)}function Ju(a){var b=this,t=null;this.a=[],this.type="indexedDB",this.c=a,this.b=Le().then((function(){if(Wu()){var e=Jr(),n="__sak"+e;return Pu||(Pu=new qu),(t=Pu).set(n,e).then((function(){return t.get(n)})).then((function(r){if(r!==e)throw Error("indexedDB not supported!");return t.U(n)})).then((function(){return t})).o((function(){return b.c}))}return b.c})).then((function(t){return b.type=t.type,t.ca((function(t){J(b.a,(function(e){e(t)}))})),t}))}function Qu(){this.a={},this.type="inMemory"}function Zu(){if(!function(){var a="Node"==Rr();if(!(a=tc()||a&&e.a.INTERNAL.node&&e.a.INTERNAL.node.localStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Rr())throw new P("internal-error","The LocalStorage compatibility library was not found.");throw new P("web-storage-unsupported")}this.a=tc()||e.a.INTERNAL.node.localStorage,this.type="localStorage"}function tc(){try{var a=f.localStorage,b=Jr();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(t){return null}}function ec(){this.type="nullStorage"}function nc(){if(!function(){var a="Node"==Rr();if(!(a=rc()||a&&e.a.INTERNAL.node&&e.a.INTERNAL.node.sessionStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Rr())throw new P("internal-error","The SessionStorage compatibility library was not found.");throw new P("web-storage-unsupported")}this.a=rc()||e.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function rc(){try{var a=f.sessionStorage,b=Jr();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(t){return null}}function ic(){var a={};a.Browser=sc,a.Node=uc,a.ReactNative=cc,a.Worker=lc,this.a=a[Rr()]}Au.prototype.c=function(a){var b=a.data.eventType,t=a.data.eventId,e=this.a[b];if(e&&0<e.length){a.ports[0].postMessage({status:"ack",eventId:t,eventType:b,response:null});var n=[];J(e,(function(t){n.push(Le().then((function(){return t(a.origin,a.data.data)})))})),qe(n).then((function(e){var g=[];J(e,(function(t){g.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),J(g,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),a.ports[0].postMessage({status:"done",eventId:t,eventType:b,response:g})}))}},Mu.prototype.postMessage=function(a,b){this.a.postMessage(a,b)},Lu.prototype.close=function(){for(;0<this.a.length;)Uu(this,this.a[0]);this.b=!0},(n=qu.prototype).set=function(a,b){var t=this,e=!1;return Ku(this,(function(t){return Gu((t=Hu(zu(t,!0))).get(a))})).then((function(n){return Ku(t,(function(r){if(r=Hu(zu(r,!0)),n)return n.value=b,Gu(r.put(n));t.b++,e=!0;var g={};return g.fbase_key=a,g.value=b,Gu(r.add(g))}))})).then((function(){return t.c[a]=b,$u(t,a)})).oa((function(){e&&t.b--}))},n.get=function(a){return Ku(this,(function(b){return Gu(Hu(zu(b,!1)).get(a))})).then((function(b){return b&&b.value}))},n.U=function(a){var b=this,t=!1;return Ku(this,(function(e){return t=!0,b.b++,Gu(Hu(zu(e,!0)).delete(a))})).then((function(){return delete b.c[a],$u(b,a)})).oa((function(){t&&b.b--}))},n.ca=function(a){0==this.a.length&&function(a){function b(){a.f=setTimeout((function(){a.l=Yu(a).then((function(t){0<t.length&&J(a.a,(function(e){e(t)}))})).then((function(){b()})).o((function(t){"STOP_EVENT"!=t.message&&b()}))}),800)}Xu(a),b()}(this),this.a.push(a)},n.ia=function(a){it(this.a,(function(b){return b==a})),0==this.a.length&&Xu(this)},(n=Ju.prototype).get=function(a){return this.b.then((function(b){return b.get(a)}))},n.set=function(a,b){return this.b.then((function(t){return t.set(a,b)}))},n.U=function(a){return this.b.then((function(b){return b.U(a)}))},n.ca=function(a){this.a.push(a)},n.ia=function(a){it(this.a,(function(b){return b==a}))},(n=Qu.prototype).get=function(a){return Le(this.a[a])},n.set=function(a,b){return this.a[a]=b,Le()},n.U=function(a){return delete this.a[a],Le()},n.ca=function(){},n.ia=function(){},(n=Zu.prototype).get=function(a){var b=this;return Le().then((function(){return Xr(b.a.getItem(a))}))},n.set=function(a,b){var t=this;return Le().then((function(){var e=$r(b);null===e?t.U(a):t.a.setItem(a,e)}))},n.U=function(a){var b=this;return Le().then((function(){b.a.removeItem(a)}))},n.ca=function(a){f.window&&yn(f.window,"storage",a)},n.ia=function(a){f.window&&wn(f.window,"storage",a)},(n=ec.prototype).get=function(){return Le(null)},n.set=function(){return Le()},n.U=function(){return Le()},n.ca=function(){},n.ia=function(){},(n=nc.prototype).get=function(a){var b=this;return Le().then((function(){return Xr(b.a.getItem(a))}))},n.set=function(a,b){var t=this;return Le().then((function(){var e=$r(b);null===e?t.U(a):t.a.setItem(a,e)}))},n.U=function(a){var b=this;return Le().then((function(){b.a.removeItem(a)}))},n.ca=function(){},n.ia=function(){};var oc,ac,sc={F:Zu,bb:nc},uc={F:Zu,bb:nc},cc={F:ju,bb:ec},lc={F:Zu,bb:ec},hc={rd:"local",NONE:"none",td:"session"};function fc(){var a=!(Qr(Vr())||!Ar()),b=Gr(),t=Kr();this.m=a,this.h=b,this.l=t,this.a={},oc||(oc=new ic),a=oc;try{this.g=!wr()&&ri()||!f.indexedDB?new a.a.F:new Ju(Pr()?new Qu:new a.a.F)}catch(t){this.g=new Qu,this.h=!0}try{this.i=new a.a.bb}catch(t){this.i=new Qu}this.v=new Qu,this.f=q(this.Yb,this),this.b={}}function dc(){return ac||(ac=new fc),ac}function pc(a,b){switch(b){case"session":return a.i;case"none":return a.v;default:return a.g}}function vc(a,b){return"firebase:"+a.name+(b?":"+b:"")}function gc(a,b,t){return t=vc(b,t),"local"==b.F&&(a.b[t]=null),pc(a,b.F).U(t)}function mc(a){a.c&&(clearInterval(a.c),a.c=null)}function yc(a){this.a=a,this.b=dc()}(n=fc.prototype).get=function(a,b){return pc(this,a.F).get(vc(a,b))},n.set=function(a,b,t){var e=vc(a,t),n=this,r=pc(this,a.F);return r.set(e,b).then((function(){return r.get(e)})).then((function(g){"local"==a.F&&(n.b[e]=g)}))},n.addListener=function(a,b,t){a=vc(a,b),this.l&&(this.b[a]=f.localStorage.getItem(a)),It(this.a)&&(pc(this,"local").ca(this.f),this.h||(wr()||!ri())&&f.indexedDB||!this.l||function(a){mc(a),a.c=setInterval((function(){for(var b in a.a){var t=f.localStorage.getItem(b),e=a.b[b];t!=e&&(a.b[b]=t,t=new un({type:"storage",key:b,target:window,oldValue:e,newValue:t,a:!0}),a.Yb(t))}}),1e3)}(this)),this.a[a]||(this.a[a]=[]),this.a[a].push(t)},n.removeListener=function(a,b,t){a=vc(a,b),this.a[a]&&(it(this.a[a],(function(e){return e==t})),0==this.a[a].length&&delete this.a[a]),It(this.a)&&(pc(this,"local").ia(this.f),mc(this))},n.Yb=function(a){if(a&&a.g){var b=a.a.key;if(null==b)for(var t in this.a){var e=this.b[t];void 0===e&&(e=null);var n=f.localStorage.getItem(t);n!==e&&(this.b[t]=n,this.mb(t))}else if(0==b.indexOf("firebase:")&&this.a[b]){if(void 0!==a.a.a?pc(this,"local").ia(this.f):mc(this),this.m)if(t=f.localStorage.getItem(b),(e=a.a.newValue)!==t)null!==e?f.localStorage.setItem(b,e):f.localStorage.removeItem(b);else if(this.b[b]===e&&void 0===a.a.a)return;var r=this;t=function(){void 0===a.a.a&&r.b[b]===f.localStorage.getItem(b)||(r.b[b]=f.localStorage.getItem(b),r.mb(b))},re&&ge&&10==ge&&f.localStorage.getItem(b)!==a.a.newValue&&a.a.newValue!==a.a.oldValue?setTimeout(t,10):t()}}else J(a,q(this.mb,this))},n.mb=function(a){this.a[a]&&J(this.a[a],(function(b){b()}))};var bc,_c={name:"authEvent",F:"local"};function wc(){this.a=dc()}function Oc(a,b){this.b=Ic,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=a,this.h=b,this.l=f.Int32Array?new Int32Array(64):Array(64),void 0===bc&&(bc=f.Int32Array?new Int32Array(xc):xc),this.reset()}j(Oc,(function(){this.b=-1}));for(var Ic=64,Tc=Ic-1,Sc=[],Ec=0;Ec<Tc;Ec++)Sc[Ec]=0;var Cc=ot(128,Sc);function ol(a){for(var b=a.f,t=a.l,e=0,n=0;n<b.length;)t[e++]=b[n]<<24|b[n+1]<<16|b[n+2]<<8|b[n+3],n=4*e;for(b=16;64>b;b++){n=0|t[b-15],e=0|t[b-2];var r=(0|t[b-16])+((n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3)|0,g=(0|t[b-7])+((e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)|0;t[b]=r+g|0}e=0|a.a[0],n=0|a.a[1];var o=0|a.a[2],c=0|a.a[3],p=0|a.a[4],l=0|a.a[5],h=0|a.a[6];for(r=0|a.a[7],b=0;64>b;b++){var f=((e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10))+(e&n^e&o^n&o)|0;g=(r=r+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))|0)+((g=(g=p&l^~p&h)+(0|bc[b])|0)+(0|t[b])|0)|0,r=h,h=l,l=p,p=c+g|0,c=o,o=n,n=e,e=g+f|0}a.a[0]=a.a[0]+e|0,a.a[1]=a.a[1]+n|0,a.a[2]=a.a[2]+o|0,a.a[3]=a.a[3]+c|0,a.a[4]=a.a[4]+p|0,a.a[5]=a.a[5]+l|0,a.a[6]=a.a[6]+h|0,a.a[7]=a.a[7]+r|0}function kc(a,b,t){void 0===t&&(t=b.length);var e=0,n=a.c;if("string"==typeof b)for(;e<t;)a.f[n++]=b.charCodeAt(e++),n==a.b&&(ol(a),n=0);else{if(!w(b))throw Error("message must be string or array");for(;e<t;){var r=b[e++];if(!("number"==typeof r&&0<=r&&255>=r&&r==(0|r)))throw Error("message must be a byte array");a.f[n++]=r,n==a.b&&(ol(a),n=0)}}a.c=n,a.g+=t}Oc.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):at(this.h)};var xc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Nc(){Oc.call(this,8,jc)}j(Nc,Oc);var jc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ac(a,b,t,e,n,r){this.v=a,this.i=b,this.l=t,this.m=e||null,this.u=n||null,this.s=r,this.h=b+":"+t,this.C=new wc,this.g=new yc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Pc(a){return new P("invalid-cordova-configuration",a)}function Rc(a){var b=new Nc;kc(b,a),a=[];var t=8*b.g;56>b.c?kc(b,Cc,56-b.c):kc(b,Cc,b.b-(b.c-56));for(var e=63;56<=e;e--)b.f[e]=255&t,t/=256;for(ol(b),e=t=0;e<b.i;e++)for(var n=24;0<=n;n-=8)a[t++]=b.a[e]>>n&255;return function(a){return Z(a,(function(b){return 1<(b=b.toString(16)).length?b:"0"+b})).join("")}(a)}function Dc(a,b){for(var t=0;t<a.b.length;t++)try{a.b[t](b)}catch(t){}}function Mc(a){return a.f||(a.f=a.ma().then((function(){return new Ne((function(b){a.Ea((function t(e){return b(e),a.Sa(t),!1})),function(a){function b(g){e=!0,n&&n.cancel(),Lc(a).then((function(e){var n=t;if(e&&g&&g.url){var p=null;-1!=(n=bo(g.url)).indexOf("/__/auth/callback")&&(p=(p="object"==typeof(p=Xr(Gn(p=$n(n),"firebaseError")||null))?R(p):null)?new ta(e.c,e.b,null,null,p,null,e.T()):new ta(e.c,e.b,n,e.f,null,null,e.T())),n=p||t}Dc(a,n)}))}var t=new ta("unknown",null,null,null,new P("no-auth-event")),e=!1,n=Dn(500).then((function(){return Lc(a).then((function(){e||Dc(a,t)}))})),r=f.handleOpenURL;f.handleOpenURL=function(g){if(0==g.toLowerCase().indexOf(Br("BuildInfo.packageName",f).toLowerCase()+"://")&&b({url:g}),"function"==typeof r)try{r(g)}catch(t){console.error(t)}},ra||(ra=new ea),function(a){var b=ra;b.a.push(a),b.b||(b.b=function(t){for(var e=0;e<b.a.length;e++)b.a[e](t)},"function"==typeof(a=Br("universalLinks.subscribe",f))&&a(null,b.b))}(b)}(a)}))}))),a.f}function Lc(a){var b=null;return function(a){return a.b.get(_c,a.a).then((function(b){return th(b)}))}(a.g).then((function(t){return b=t,gc((t=a.g).b,_c,t.a)})).then((function(){return b}))}function Fc(a){this.a=a,this.b=dc()}(n=Ac.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(jr(void 0)?Nr().then((function(){return new Ne((function(a,b){var t=f.document,e=setTimeout((function(){b(Error("Cordova framework is not ready."))}),1e3);t.addEventListener("deviceready",(function(){clearTimeout(e),a()}),!1)}))})):Fe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Br("universalLinks.subscribe",f))throw Pc("cordova-universal-links-plugin-fix is not installed");if(void 0===Br("BuildInfo.packageName",f))throw Pc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Br("cordova.plugins.browsertab.openUrl",f))throw Pc("cordova-plugin-browsertab is not installed");if("function"!=typeof Br("cordova.InAppBrowser.open",f))throw Pc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new P("cordova-not-ready")}))},n.Ob=function(a,b){return b(new P("operation-not-supported-in-this-environment")),Le()},n.Mb=function(){return Fe(new P("operation-not-supported-in-this-environment"))},n.$b=function(){return!1},n.Xb=function(){return!0},n.Tb=function(){return!0},n.Nb=function(a,b,t,e){if(this.c)return Fe(new P("redirect-operation-pending"));var n=this,r=f.document,g=null,o=null,c=null,p=null;return this.c=Le().then((function(){return Zo(b),Mc(n)})).then((function(){return function(a,b,t,e,n){var r=function(){for(var a=20,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}(),g=new ta(b,e,null,r,new P("no-auth-event"),null,n),o=Br("BuildInfo.packageName",f);if("string"!=typeof o)throw new P("invalid-cordova-configuration");var c=Br("BuildInfo.displayName",f),p={};if(Vr().toLowerCase().match(/iphone|ipad|ipod/))p.ibi=o;else{if(!Vr().toLowerCase().match(/android/))return Fe(new P("operation-not-supported-in-this-environment"));p.apn=o}c&&(p.appDisplayName=c),r=Rc(r),p.sessionId=r;var l=Nu(a.v,a.i,a.l,b,t,null,e,a.m,p,a.u,n,a.s);return a.ma().then((function(){var t=a.h;return a.C.a.set(_c,g.w(),t)})).then((function(){var t=Br("cordova.plugins.browsertab.isAvailable",f);if("function"!=typeof t)throw new P("invalid-cordova-configuration");var e=null;t((function(t){if(t){if("function"!=typeof(e=Br("cordova.plugins.browsertab.openUrl",f)))throw new P("invalid-cordova-configuration");e(l)}else{if("function"!=typeof(e=Br("cordova.InAppBrowser.open",f)))throw new P("invalid-cordova-configuration");t=Vr(),a.a=e(l,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(n,a,b,t,e)})).then((function(){return new Ne((function(t,e){o=function(){var e=Br("cordova.plugins.browsertab.close",f);return t(),"function"==typeof e&&e(),n.a&&"function"==typeof n.a.close&&(n.a.close(),n.a=null),!1},n.Ea(o),c=function(){g||(g=Dn(2e3).then((function(){e(new P("redirect-cancelled-by-user"))})))},p=function(){ei()&&c()},r.addEventListener("resume",c,!1),Vr().toLowerCase().match(/android/)||r.addEventListener("visibilitychange",p,!1)})).o((function(t){return Lc(n).then((function(){throw t}))}))})).oa((function(){c&&r.removeEventListener("resume",c,!1),p&&r.removeEventListener("visibilitychange",p,!1),g&&g.cancel(),o&&n.Sa(o),n.c=null}))},n.Ea=function(a){this.b.push(a),Mc(this).o((function(b){"auth/invalid-cordova-configuration"===b.code&&(b=new ta("unknown",null,null,null,new P("no-auth-event")),a(b))}))},n.Sa=function(a){it(this.b,(function(b){return b==a}))};var Uc={name:"pendingRedirect",F:"session"};function qc(a){return gc(a.b,Uc,a.a)}function Vc(a,b,t,e){this.i={},this.u=0,this.D=a,this.v=b,this.m=t,this.J=e,this.h=[],this.f=!1,this.l=q(this.s,this),this.b=new nl,this.C=new cl,this.g=new Fc(tl(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Bc(this.D,this.v,this.m,D,this.J)}function Bc(a,b,t,n,r){var o=e.a.SDK_VERSION||null;return jr()?new Ac(a,b,t,o,n,r):new Eu(a,b,t,o,n,r)}function Kc(a){a.f||(a.f=!0,a.a.Ea(a.l));var b=a.a;return a.a.ma().o((function(t){throw a.a==b&&a.reset(),t}))}function Wc(a){a.a.Xb()&&Kc(a).o((function(b){var t=new ta("unknown",null,null,null,new P("operation-not-supported-in-this-environment"));Xc(b)&&a.s(t)})),a.a.Tb()||rl(a.b)}function Hc(a,b){et(a.h,b)||a.h.push(b),a.f||function(a){return a.b.get(Uc,a.a).then((function(b){return"pending"==b}))}(a.g).then((function(t){t?qc(a.g).then((function(){Kc(a).o((function(t){var e=new ta("unknown",null,null,null,new P("operation-not-supported-in-this-environment"));Xc(t)&&a.s(e)}))})):Wc(a)})).o((function(){Wc(a)}))}function zc(a,b){it(a.h,(function(t){return t==b}))}Vc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Bc(this.D,this.v,this.m,null,this.J),this.i={}},Vc.prototype.s=function(a){if(!a)throw new P("invalid-auth-event");if(6e5<=N()-this.u&&(this.i={},this.u=0),a&&a.getUid()&&this.i.hasOwnProperty(a.getUid()))return!1;for(var b=!1,t=0;t<this.h.length;t++){var e=this.h[t];if(e.Fb(a.c,a.b)){(b=this.c[a.c])&&(b.h(a,e),a&&(a.f||a.b)&&(this.i[a.getUid()]=!0,this.u=N())),b=!0;break}}return rl(this.b),b};var Gc=new ti(2e3,1e4),$c=new ti(3e4,6e4);function Yc(a,b,t,e,n,r,g){return a.a.Mb(b,t,e,(function(){a.f||(a.f=!0,a.a.Ea(a.l))}),(function(){a.reset()}),n,r,g)}function Xc(a){return!(!a||"auth/cordova-not-ready"!=a.code)}function Jc(a,b,t,e,n){var r;return function(a){return a.b.set(Uc,"pending",a.a)}(a.g).then((function(){return a.a.Nb(b,t,e,n).o((function(g){if(Xc(g))throw new P("operation-not-supported-in-this-environment");return r=g,qc(a.g).then((function(){throw r}))})).then((function(){return a.a.$b()?new Ne((function(){})):qc(a.g).then((function(){return a.qa()})).then((function(){})).o((function(){}))}))}))}function Qc(a,b,t,e,n){return a.a.Ob(e,(function(e){b.na(t,null,e,n)}),Gc.get())}Vc.prototype.qa=function(){return this.b.qa()};var Zc={};function tl(a,b,t){return a=a+":"+b,t&&(a=a+":"+t.url),a}function el(a,b,t,e){var n=tl(b,t,e);return Zc[n]||(Zc[n]=new Vc(a,b,t,e)),Zc[n]}function nl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function rl(a){a.g||(a.g=!0,sl(a,!1,null,null))}function il(a){a.g&&!a.i&&sl(a,!1,null,null)}function al(a,b){if(a.b=function(){return Le(b)},a.f.length)for(var t=0;t<a.f.length;t++)a.f[t](b)}function sl(a,b,t,e){b?e?function(a,b){if(a.b=function(){return Fe(b)},a.c.length)for(var t=0;t<a.c.length;t++)a.c[t](b)}(a,e):al(a,t):al(a,{user:null}),a.f=[],a.c=[]}function cl(){}function em(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(a){this.ib=a},enumerable:!1})}function ll(a,b){this.a=b,ui(this,"verificationId",a)}function hl(a,b,t,e){return new Xo(a).fb(b,t).then((function(t){return new ll(t,e)}))}function fl(a){var b=io(a);if(!(b&&b.exp&&b.auth_time&&b.iat))throw new P("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ci(this,{token:a,expirationTime:ni(1e3*b.exp),authTime:ni(1e3*b.auth_time),issuedAtTime:ni(1e3*b.iat),signInProvider:b.firebase&&b.firebase.sign_in_provider?b.firebase.sign_in_provider:null,signInSecondFactor:b.firebase&&b.firebase.sign_in_second_factor?b.firebase.sign_in_second_factor:null,claims:b})}function pl(a,b,t){var e=b&&b[gl];if(!e)throw new P("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=a,this.f=Tt(b),this.g=t,this.c=new _o(null,e),this.b=[];var n=this;J(b[vl]||[],(function(t){(t=pi(t))&&n.b.push(t)})),ui(this,"auth",this.a),ui(this,"session",this.c),ui(this,"hints",this.b)}nl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},nl.prototype.h=function(a,b){if(a){this.reset(),this.g=!0;var t=a.c,e=a.b,n=a.a&&"auth/web-storage-unsupported"==a.a.code,r=a.a&&"auth/operation-not-supported-in-this-environment"==a.a.code;this.i=!(!n&&!r),"unknown"!=t||n||r?a.a?(sl(this,!0,null,a.a),Le()):b.Fa(t,e)?function(a,b,t){t=t.Fa(b.c,b.b);var e=b.g,n=b.f,r=b.i,g=b.T(),o=!!b.c.match(/Redirect$/);t(e,n,g,r).then((function(t){sl(a,o,t,null)})).o((function(t){sl(a,o,null,t)}))}(this,a,b):Fe(new P("invalid-auth-event")):(sl(this,!1,null,null),Le())}else Fe(new P("invalid-auth-event"))},nl.prototype.qa=function(){var a=this;return new Ne((function(b,t){a.b?a.b().then(b,t):(a.f.push(b),a.c.push(t),function(a){var b=new P("timeout");a.a&&a.a.cancel(),a.a=Dn($c.get()).then((function(){a.b||(a.g=!0,sl(a,!0,null,b))}))}(a))}))},cl.prototype.h=function(a,b){if(a){var t=a.c,e=a.b;a.a?(b.na(a.c,null,a.a,a.b),Le()):b.Fa(t,e)?function(a,b){var t=a.b,e=a.c;b.Fa(e,t)(a.g,a.f,a.T(),a.i).then((function(n){b.na(e,n,null,t)})).o((function(n){b.na(e,null,n,t)}))}(a,b):Fe(new P("invalid-auth-event"))}else Fe(new P("invalid-auth-event"))},ll.prototype.confirm=function(a){return a=Jo(this.verificationId,a),this.a(a)};var vl="mfaInfo",gl="mfaPendingCredential";function ml(a,b,t,e){P.call(this,"multi-factor-auth-required",e,b),this.b=new pl(a,b,t),ui(this,"resolver",this.b)}function yl(a,b,t){if(a&&I(a.serverResponse)&&"auth/multi-factor-auth-required"===a.code)try{return new ml(b,a.serverResponse,t,a.message)}catch(t){}return null}function bl(){}function _l(a){ui(this,"factorId",a.fa),this.a=a}function wl(a){if(_l.call(this,a),this.a.fa!=Xo.PROVIDER_ID)throw new P("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Ol(a,b){for(var t in sn.call(this,a),b)this[t]=b[t]}function Il(a,b){this.a=a,this.b=[],this.c=q(this.yc,this),yn(this.a,"userReloaded",this.c);var t=[];b&&b.multiFactor&&b.multiFactor.enrolledFactors&&J(b.multiFactor.enrolledFactors,(function(e){var n=null,r={};if(e){e.uid&&(r[mi]=e.uid),e.displayName&&(r[vi]=e.displayName),e.enrollmentTime&&(r[gi]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[yi]=e.phoneNumber);try{n=new bi(r)}catch(t){}e=n}else e=null;e&&t.push(e)})),Tl(this,t)}function Tl(a,b){a.b=b,ui(a,"enrolledFactors",b)}function Sl(a,b,t){if(this.h=a,this.i=b,this.g=t,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function El(a,b){a.stop(),a.b=Dn(function(a,b){return b?(a.a=a.c,a.g()):(b=a.a,a.a*=2,a.a>a.f&&(a.a=a.f),b)}(a,b)).then((function(){return function(){var a=f.document,b=null;return ei()||!a?Le():new Ne((function(t){b=function(){ei()&&(a.removeEventListener("visibilitychange",b,!1),t())},a.addEventListener("visibilitychange",b,!1)})).o((function(t){throw a.removeEventListener("visibilitychange",b,!1),t}))}()})).then((function(){return a.h()})).then((function(){El(a,!0)})).o((function(t){a.i(t)&&El(a,!1)}))}function Cl(a){this.f=a,this.b=this.a=null,this.c=Date.now()}function kl(a,b){void 0===b&&(a.b?b=(b=a.b).a-b.g:b=0),a.c=Date.now()+1e3*b}function xl(a,b){a.b=ro(b[ls]||""),a.a=b.refreshToken,kl(a,void 0!==(b=b.expiresIn)?Number(b):void 0)}function Nl(a,b){return function(a,b){return new Ne((function(t,e){"refresh_token"==b.grant_type&&b.refresh_token||"authorization_code"==b.grant_type&&b.code?bs(a,a.l+"?key="+encodeURIComponent(a.c),(function(n){n?n.error?e(mu(n)):n.access_token&&n.refresh_token?t(n):e(new P("internal-error")):e(new P("network-request-failed"))}),"POST",sr(b).toString(),a.g,a.m.get()):e(new P("internal-error"))}))}(a.f,b).then((function(t){return a.b=ro(t.access_token),a.a=t.refresh_token,kl(a,t.expires_in),{accessToken:a.b.toString(),refreshToken:a.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(a.a=null),t}))}function jl(a,b){this.a=a||null,this.b=b||null,ci(this,{lastSignInTime:ni(b||null),creationTime:ni(a||null)})}function Al(a,b,t,e,n,r){ci(this,{uid:a,displayName:e||null,photoURL:n||null,email:t||null,phoneNumber:r||null,providerId:b})}function Pl(a,b,t){this.J=[],this.l=a.apiKey,this.m=a.appName,this.s=a.authDomain||null;var n=e.a.SDK_VERSION?qr(e.a.SDK_VERSION):null;this.a=new us(this.l,U(D),n),a.emulatorConfig&&gs(this.a,a.emulatorConfig),this.b=new Cl(this.a),Vl(this,b[ls]),xl(this.b,b),ui(this,"refreshToken",this.b.a),Wl(this,t||{}),Nn.call(this),this.R=!1,this.s&&Wr()&&(this.i=el(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(a){return new Sl((function(){return a.I(!0)}),(function(b){return!(!b||"auth/network-request-failed"!=b.code)}),(function(){var b=a.b.c-Date.now()-3e5;return 0<b?b:0}))}(this),this.aa=q(this.hb,this);var r=this;this.ya=null,this.Oa=function(t){r.wa(t.h)},this.ja=null,this.Aa=function(t){gs(r.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Ml(r,t.f)},this.ba=null,this.O=new Il(this,t),ui(this,"multiFactor",this.O)}function Rl(a,b){a.ja&&wn(a.ja,"languageCodeChanged",a.Oa),(a.ja=b)&&yn(b,"languageCodeChanged",a.Oa)}function Dl(a,b){a.X&&wn(a.X,"emulatorConfigChanged",a.Aa),(a.X=b)&&yn(b,"emulatorConfigChanged",a.Aa)}function Ml(a,b){a.$=b,ys(a.a,e.a.SDK_VERSION?qr(e.a.SDK_VERSION,a.$):null)}function Ll(a,b){a.ba&&wn(a.ba,"frameworkChanged",a.Ba),(a.ba=b)&&yn(b,"frameworkChanged",a.Ba)}function Fl(a){try{return e.a.app(a.m).auth()}catch(t){throw new P("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+a.m+"'!")}}function Ul(a){a.D||a.u.b||(a.u.start(),wn(a,"tokenChanged",a.aa),yn(a,"tokenChanged",a.aa))}function ql(a){wn(a,"tokenChanged",a.aa),a.u.stop()}function Vl(a,b){a.za=b,ui(a,"_lat",b)}function Bl(a){for(var b=[],t=0;t<a.S.length;t++)b.push(a.S[t](a));return qe(b).then((function(){return a}))}function Kl(a){a.i&&!a.R&&(a.R=!0,Hc(a.i,a))}function Wl(a,b){ci(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,phoneNumber:b.phoneNumber||null,isAnonymous:b.isAnonymous||!1,tenantId:b.tenantId||null,metadata:new jl(b.createdAt,b.lastLoginAt),providerData:[]}),a.a.b=a.tenantId}function Hl(){}function zl(a){return Le().then((function(){if(a.D)throw new P("app-deleted")}))}function Gl(a){return Z(a.providerData,(function(b){return b.providerId}))}function $l(a,b){b&&(Yl(a,b.providerId),a.providerData.push(b))}function Yl(a,b){it(a.providerData,(function(t){return t.providerId==b}))}function Xl(a,b,t){("uid"!=b||t)&&a.hasOwnProperty(b)&&ui(a,b,t)}function Jl(a,b){a!=b&&(ci(a,{uid:b.uid,displayName:b.displayName,photoURL:b.photoURL,email:b.email,emailVerified:b.emailVerified,phoneNumber:b.phoneNumber,isAnonymous:b.isAnonymous,tenantId:b.tenantId,providerData:[]}),b.metadata?ui(a,"metadata",function(a){return new jl(a.a,a.b)}(b.metadata)):ui(a,"metadata",new jl),J(b.providerData,(function(t){$l(a,t)})),function(a,b){a.b=b.b,a.a=b.a,a.c=b.c}(a.b,b.b),ui(a,"refreshToken",a.b.a),Tl(a.O,b.O.b))}function Ql(a){return a.I().then((function(b){var t=a.isAnonymous;return function(a,b){return vu(a.a,zs,{idToken:b}).then(q(a.Kc,a))}(a,b).then((function(){return t||Xl(a,"isAnonymous",!1),b}))}))}function Zl(a,b){b[ls]&&a.za!=b[ls]&&(xl(a.b,b),a.dispatchEvent(new Ol("tokenChanged")),Vl(a,b[ls]),Xl(a,"refreshToken",a.b.a))}function eh(a,b){return Ql(a).then((function(){if(et(Gl(a),b))return Bl(a).then((function(){throw new P("provider-already-linked")}))}))}function nh(a,b,t){return hi({user:a,credential:Qo(b),additionalUserInfo:b=co(b),operationType:t})}function rh(a,b){return Zl(a,b),a.reload().then((function(){return a}))}function ih(a,b,t,n,r){if(!Wr())return Fe(new P("operation-not-supported-in-this-environment"));if(a.h&&!r)return Fe(a.h);var o=uo(t.providerId),g=Jr(a.uid+":::"),c=null;(!Gr()||Ar())&&a.s&&t.isOAuthProvider&&(c=Nu(a.s,a.l,a.m,b,t,null,g,e.a.SDK_VERSION||null,null,null,a.tenantId));var l=Cr(c,o&&o.ua,o&&o.ta);return n=n().then((function(){if(ah(a),!r)return a.I().then((function(){}))})).then((function(){return Yc(a.i,l,b,t,g,!!c,a.tenantId)})).then((function(){return new Ne((function(p,t){a.na(b,null,new P("cancelled-popup-request"),a.g||null),a.f=p,a.C=t,a.g=g,a.c=Qc(a.i,a,b,l,g)}))})).then((function(p){return l&&Er(l),p?hi(p):null})).o((function(p){throw l&&Er(l),p})),sh(a,n,r)}function oh(a,b,t,e,n){if(!Wr())return Fe(new P("operation-not-supported-in-this-environment"));if(a.h&&!n)return Fe(a.h);var r=null,g=Jr(a.uid+":::");return e=e().then((function(){if(ah(a),!n)return a.I().then((function(){}))})).then((function(){return a.ga=g,Bl(a)})).then((function(t){return a.ha&&(t=(t=a.ha).b.set(lh,a.w(),t.a)),t})).then((function(){return Jc(a.i,b,t,g,a.tenantId)})).o((function(t){if(r=t,a.ha)return hh(a.ha);throw r})).then((function(){if(r)throw r})),sh(a,e,n)}function ah(a){if(!a.i||!a.R){if(a.i&&!a.R)throw new P("internal-error");throw new P("auth-domain-config-required")}}function sh(a,b,t){var e=function(a,b,t){return a.h&&!t?(b.cancel(),Fe(a.h)):b.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(a.h||a.dispatchEvent(new Ol("userInvalidated")),a.h=t),t}))}(a,b,t);return a.J.push(e),e.oa((function(){nt(a.J,e)})),e.o((function(t){var e=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(e=yl(t.w(),Fl(a),q(a.jc,a))),e||t}))}function uh(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName,emulatorConfig:a.emulatorConfig},t={};if(!a.stsTokenManager||!a.stsTokenManager.accessToken)return null;t[ls]=a.stsTokenManager.accessToken,t.refreshToken=a.stsTokenManager.refreshToken||null;var e=a.stsTokenManager.expirationTime;e&&(t.expiresIn=(e-Date.now())/1e3);var n=new Pl(b,t,a);return a.providerData&&J(a.providerData,(function(t){t&&$l(n,hi(t))})),a.redirectEventId&&(n.ga=a.redirectEventId),n}function ch(a){this.a=a,this.b=dc()}pl.prototype.Rc=function(a){var b=this;return a.sb(this.a.a,this.c).then((function(t){var e=Tt(b.f);return delete e[vl],delete e[gl],Et(e,t),b.g(e)}))},j(ml,P),bl.prototype.sb=function(a,b,t){return b.type==wo?function(a,b,t,e){return t.Ha().then((function(t){return t={idToken:t},void 0!==e&&(t.displayName=e),Et(t,{phoneVerificationInfo:Yo(a.a)}),vu(b,Ws,t)}))}(this,a,b,t):function(a,b,t){return t.Ha().then((function(t){return Et(t={mfaPendingCredential:t},{phoneVerificationInfo:Yo(a.a)}),vu(b,Hs,t)}))}(this,a,b)},j(_l,bl),j(wl,_l),j(Ol,sn),(n=Il.prototype).yc=function(a){Tl(this,function(a){var b=[];return J(a.mfaInfo||[],(function(t){(t=pi(t))&&b.push(t)})),b}(a.hd))},n.Rb=function(){return this.a.I().then((function(a){return new _o(a,null)}))},n.fc=function(a,b){var t=this,e=this.a.a;return this.Rb().then((function(t){return a.sb(e,t,b)})).then((function(e){return Zl(t.a,e),t.a.reload()}))},n.bd=function(a){var b=this,t="string"==typeof a?a:a.uid,e=this.a.a;return this.a.I().then((function(n){return vu(e,pu,{idToken:n,mfaEnrollmentId:t})})).then((function(e){var n=Q(b.b,(function(g){return g.uid!=t}));return Tl(b,n),Zl(b.a,e),b.a.reload().o((function(g){if("auth/user-token-expired"!=g.code)throw g}))}))},n.w=function(){return{multiFactor:{enrolledFactors:Z(this.b,(function(a){return a.w()}))}}},Sl.prototype.start=function(){this.a=this.c,El(this,!0)},Sl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Cl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Cl.prototype.getToken=function(a){return a=!!a,this.b&&!this.a?Fe(new P("user-token-expired")):a||!this.b||Date.now()>this.c-3e4?this.a?Nl(this,{grant_type:"refresh_token",refresh_token:this.a}):Le(null):Le({accessToken:this.b.toString(),refreshToken:this.a})},jl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},j(Pl,Nn),Pl.prototype.wa=function(a){this.ya=a,vs(this.a,a)},Pl.prototype.la=function(){return this.ya},Pl.prototype.Ga=function(){return at(this.$)},Pl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},ui(Pl.prototype,"providerId","firebase"),(n=Pl.prototype).reload=function(){var a=this;return sh(this,zl(this).then((function(){return Ql(a).then((function(){return Bl(a)})).then(Hl)})))},n.oc=function(a){return this.I(a).then((function(b){return new fl(b)}))},n.I=function(a){var b=this;return sh(this,zl(this).then((function(){return b.b.getToken(a)})).then((function(t){if(!t)throw new P("internal-error");return t.accessToken!=b.za&&(Vl(b,t.accessToken),b.dispatchEvent(new Ol("tokenChanged"))),Xl(b,"refreshToken",t.refreshToken),t.accessToken})))},n.Kc=function(a){if(!(a=a.users)||!a.length)throw new P("internal-error");Wl(this,{uid:(a=a[0]).localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified,phoneNumber:a.phoneNumber,lastLoginAt:a.lastLoginAt,createdAt:a.createdAt,tenantId:a.tenantId});for(var b=function(a){return(a=a.providerUserInfo)&&a.length?Z(a,(function(b){return new Al(b.rawId,b.providerId,b.email,b.displayName,b.photoUrl,b.phoneNumber)})):[]}(a),t=0;t<b.length;t++)$l(this,b[t]);Xl(this,"isAnonymous",!(this.email&&a.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Ol("userReloaded",{hd:a}))},n.Lc=function(a){return ai("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(a)},n.tb=function(a){var b=this,t=null;return sh(this,a.c(this.a,this.uid).then((function(e){return Zl(b,e),t=nh(b,e,"reauthenticate"),b.h=null,b.reload()})).then((function(){return t})),!0)},n.Cc=function(a){return ai("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(a)},n.qb=function(a){var b=this,t=null;return sh(this,eh(this,a.providerId).then((function(){return b.I()})).then((function(t){return a.b(b.a,t)})).then((function(e){return t=nh(b,e,"link"),rh(b,e)})).then((function(){return t})))},n.Dc=function(a,b){var t=this;return sh(this,eh(this,"phone").then((function(){return hl(Fl(t),a,b,q(t.qb,t))})))},n.Mc=function(a,b){var t=this;return sh(this,Le().then((function(){return hl(Fl(t),a,b,q(t.tb,t))})),!0)},n.Bb=function(a){var b=this;return sh(this,this.I().then((function(t){return b.a.Bb(t,a)})).then((function(t){return Zl(b,t),b.reload()})))},n.ed=function(a){var b=this;return sh(this,this.I().then((function(t){return a.b(b.a,t)})).then((function(t){return Zl(b,t),b.reload()})))},n.Cb=function(a){var b=this;return sh(this,this.I().then((function(t){return b.a.Cb(t,a)})).then((function(t){return Zl(b,t),b.reload()})))},n.Db=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return zl(this);var b=this;return sh(this,this.I().then((function(t){return b.a.Db(t,{displayName:a.displayName,photoUrl:a.photoURL})})).then((function(t){return Zl(b,t),Xl(b,"displayName",t.displayName||null),Xl(b,"photoURL",t.photoUrl||null),J(b.providerData,(function(t){"password"===t.providerId&&(ui(t,"displayName",b.displayName),ui(t,"photoURL",b.photoURL))})),Bl(b)})).then(Hl))},n.cd=function(a){var b=this;return sh(this,Ql(this).then((function(t){return et(Gl(b),a)?function(a,b,t){return vu(a,Vs,{idToken:b,deleteProvider:t})}(b.a,t,[a]).then((function(t){var e={};return J(t.providerUserInfo||[],(function(t){e[t.providerId]=!0})),J(Gl(b),(function(t){e[t]||Yl(b,t)})),e[Xo.PROVIDER_ID]||ui(b,"phoneNumber",null),Bl(b)})):Bl(b).then((function(){throw new P("no-such-provider")}))})))},n.delete=function(){var a=this;return sh(this,this.I().then((function(b){return vu(a.a,qs,{idToken:b})})).then((function(){a.dispatchEvent(new Ol("userDeleted"))}))).then((function(){for(var b=0;b<a.J.length;b++)a.J[b].cancel("app-deleted");Rl(a,null),Dl(a,null),Ll(a,null),a.J=[],a.D=!0,ql(a),ui(a,"refreshToken",null),a.i&&zc(a.i,a)}))},n.Fb=function(a,b){return!!("linkViaPopup"==a&&(this.g||null)==b&&this.f||"reauthViaPopup"==a&&(this.g||null)==b&&this.f||"linkViaRedirect"==a&&(this.ga||null)==b||"reauthViaRedirect"==a&&(this.ga||null)==b)},n.na=function(a,b,t,e){"linkViaPopup"!=a&&"reauthViaPopup"!=a||e!=(this.g||null)||(t&&this.C?this.C(t):b&&!t&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(a,b){return"linkViaPopup"==a&&b==(this.g||null)?q(this.Kb,this):"reauthViaPopup"==a&&b==(this.g||null)?q(this.Lb,this):"linkViaRedirect"==a&&(this.ga||null)==b?q(this.Kb,this):"reauthViaRedirect"==a&&(this.ga||null)==b?q(this.Lb,this):null},n.Ec=function(a){var b=this;return ih(this,"linkViaPopup",a,(function(){return eh(b,a.providerId).then((function(){return Bl(b)}))}),!1)},n.Nc=function(a){return ih(this,"reauthViaPopup",a,(function(){return Le()}),!0)},n.Fc=function(a){var b=this;return oh(this,"linkViaRedirect",a,(function(){return eh(b,a.providerId)}),!1)},n.Oc=function(a){return oh(this,"reauthViaRedirect",a,(function(){return Le()}),!0)},n.Kb=function(a,b,t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return sh(this,this.I().then((function(g){return Ps(n.a,{requestUri:a,postBody:e,sessionId:b,idToken:g})})).then((function(g){return r=nh(n,g,"link"),rh(n,g)})).then((function(){return r})))},n.Lb=function(a,b,t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return sh(this,Le().then((function(){return To(Rs(n.a,{requestUri:a,sessionId:b,postBody:e,tenantId:t}),n.uid)})).then((function(t){return r=nh(n,t,"reauthenticate"),Zl(n,t),n.h=null,n.reload()})).then((function(){return r})),!0)},n.ub=function(a){var b=this,t=null;return sh(this,this.I().then((function(e){return t=e,void 0===a||It(a)?{}:Zi(new Ki(a))})).then((function(e){return b.a.ub(t,e)})).then((function(t){if(b.email!=t)return b.reload()})).then((function(){})))},n.Eb=function(a,b){var t=this,e=null;return sh(this,this.I().then((function(t){return e=t,void 0===b||It(b)?{}:Zi(new Ki(b))})).then((function(n){return t.a.Eb(e,a,n)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},n.jc=function(a){var b=null,t=this;return sh(this,a=To(Le(a),t.uid).then((function(e){return b=nh(t,e,"reauthenticate"),Zl(t,e),t.h=null,t.reload()})).then((function(){return b})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Et(a,this.metadata.w()),J(this.providerData,(function(b){a.providerData.push(function(a){var t,b={};for(t in a)a.hasOwnProperty(t)&&(b[t]=a[t]);return b}(b))})),Et(a,this.O.w()),a};var lh={name:"redirectUser",F:"session"};function hh(a){return gc(a.b,lh,a.a)}function fh(a){this.a=a,this.b=dc(),this.c=null,this.f=function(a){var b=vh("local"),t=vh("session"),e=vh("none");return function(a,b,t){var e=vc(b,t),n=pc(a,b.F);return a.get(b,t).then((function(r){var g=null;try{g=Xr(f.localStorage.getItem(e))}catch(t){}if(g&&!r)return f.localStorage.removeItem(e),a.set(b,g,t);g&&r&&"localStorage"!=n.type&&f.localStorage.removeItem(e)}))}(a.b,b,a.a).then((function(){return a.b.get(t,a.a)})).then((function(n){return n?t:a.b.get(e,a.a).then((function(t){return t?e:a.b.get(b,a.a).then((function(g){return g?b:a.b.get(ph,a.a).then((function(t){return t?vh(t):b}))}))}))})).then((function(t){return a.c=t,dh(a,t.F)})).o((function(){a.c||(a.c=b)}))}(this),this.b.addListener(vh("local"),this.a,q(this.g,this))}function dh(a,b){var t,e=[];for(t in hc)hc[t]!==b&&e.push(gc(a.b,vh(hc[t]),a.a));return e.push(gc(a.b,ph,a.a)),function(a){return new Ne((function(b,t){var e=a.length,n=[];if(e)for(var r=function(p,t){e--,n[p]=t,0==e&&b(n)},g=function(p){t(p)},o=0;o<a.length;o++)Ue(a[o],x(r,o),g);else b(n)}))}(e)}fh.prototype.g=function(){var a=this,b=vh("local");bh(this,(function(){return Le().then((function(){return a.c&&"local"!=a.c.F?a.b.get(b,a.a):null})).then((function(t){if(t)return dh(a,"local").then((function(){a.c=b}))}))}))};var ph={name:"persistence",F:"session"};function vh(a){return{name:"authUser",F:a}}function gh(a,b){return bh(a,(function(){return a.b.set(a.c,b.w(),a.a)}))}function mh(a){return bh(a,(function(){return gc(a.b,a.c,a.a)}))}function yh(a,b,t){return bh(a,(function(){return a.b.get(a.c,a.a).then((function(e){return e&&b&&(e.authDomain=b),e&&t&&(e.emulatorConfig=t),uh(e||{})}))}))}function bh(a,b){return a.f=a.f.then(b,b),a.f}function _h(a){if(this.l=!1,ui(this,"settings",new em),ui(this,"app",a),!xh(this).options||!xh(this).options.apiKey)throw new P("invalid-api-key");a=e.a.SDK_VERSION?qr(e.a.SDK_VERSION):null,this.a=new us(xh(this).options&&xh(this).options.apiKey,U(D),a),this.R=[],this.s=[],this.O=[],this.hb=e.a.INTERNAL.createSubscribe(q(this.zc,this)),this.X=void 0,this.bc=e.a.INTERNAL.createSubscribe(q(this.Ac,this)),Ch(this,null),this.i=new fh(xh(this).options.apiKey+":"+xh(this).name),this.D=new ch(xh(this).options.apiKey+":"+xh(this).name),this.$=Ph(this,function(a){var b=xh(a).options.authDomain,t=function(a){var b=function(a,b){return a.b.get(lh,a.a).then((function(t){return t&&b&&(t.authDomain=b),uh(t||{})}))}(a.D,xh(a).options.authDomain).then((function(t){return(a.m=t)&&(t.ha=a.D),hh(a.D)}));return Ph(a,b)}(a).then((function(){return yh(a.i,b,a.P)})).then((function(t){return t?(t.ha=a.D,a.m&&(a.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return gh(a.i,t).then((function(){return t}))})).o((function(e){return"auth/network-request-failed"==e.code?t:mh(a.i)}))):null})).then((function(t){Ch(a,t||null)}));return Ph(a,t)}(this)),this.h=Ph(this,function(a){return a.$.then((function(){return Sh(a)})).o((function(){})).then((function(){if(!a.l)return a.ja()})).o((function(){})).then((function(){if(!a.l){a.ba=!0;var b=a.i;b.b.addListener(vh("local"),b.a,a.ja)}}))}(this)),this.ba=!1,this.ja=q(this.Zc,this),this.Ba=q(this.da,this),this.ya=q(this.mc,this),this.za=q(this.wc,this),this.Aa=q(this.xc,this),this.b=null,function(a){var b=xh(a).options.authDomain,t=xh(a).options.apiKey;b&&Wr()&&(a.Oa=a.$.then((function(){if(!a.l){if(a.b=el(b,t,xh(a).name,a.P),Hc(a.b,a),Nh(a)&&Kl(Nh(a)),a.m){Kl(a.m);var e=a.m;e.wa(a.la()),Rl(e,a),Ml(e=a.m,a.J),Ll(e,a),gs((e=a.m).a,a.P),Dl(e,a),a.m=null}return a.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=q(this.delete,this),this.INTERNAL.logFramework=q(this.Gc,this),this.u=0,Nn.call(this),function(a){Object.defineProperty(a,"lc",{get:function(){return this.la()},set:function(b){this.wa(b)},enumerable:!1}),a.aa=null,Object.defineProperty(a,"ti",{get:function(){return this.T()},set:function(b){this.yb(b)},enumerable:!1}),a.S=null,Object.defineProperty(a,"emulatorConfig",{get:function(){if(this.P){var b=$n(this.P.url);b=hi({protocol:b.c,host:b.a,port:b.g,options:hi({disableWarnings:this.P.ec})})}else b=null;return b},enumerable:!1})}(this),this.J=[],this.P=null}function wh(a){sn.call(this,"languageCodeChanged"),this.h=a}function Oh(a){sn.call(this,"emulatorConfigChanged"),this.c=a}function Ih(a){sn.call(this,"frameworkChanged"),this.f=a}function Th(a){return a.Oa||Fe(new P("auth-domain-config-required"))}function Sh(a){if(!Wr())return Fe(new P("operation-not-supported-in-this-environment"));var b=Th(a).then((function(){return a.b.qa()})).then((function(t){return t?hi(t):null}));return Ph(a,b)}function Eh(a,b){var t={};return t.apiKey=xh(a).options.apiKey,t.authDomain=xh(a).options.authDomain,t.appName=xh(a).name,a.P&&(t.emulatorConfig=a.P),a.$.then((function(){return function(a,b,t,e){var n=new Pl(a,b);return t&&(n.ha=t),e&&Ml(n,e),n.reload().then((function(){return n}))}(t,b,a.D,a.Ga())})).then((function(t){return Nh(a)&&t.uid==Nh(a).uid?(Jl(Nh(a),t),a.da(t)):(Ch(a,t),Kl(t),a.da(t))})).then((function(){Ah(a)}))}function Ch(a,b){Nh(a)&&(function(a,b){it(a.S,(function(t){return t==b}))}(Nh(a),a.Ba),wn(Nh(a),"tokenChanged",a.ya),wn(Nh(a),"userDeleted",a.za),wn(Nh(a),"userInvalidated",a.Aa),ql(Nh(a))),b&&(b.S.push(a.Ba),yn(b,"tokenChanged",a.ya),yn(b,"userDeleted",a.za),yn(b,"userInvalidated",a.Aa),0<a.u&&Ul(b)),ui(a,"currentUser",b),b&&(b.wa(a.la()),Rl(b,a),Ml(b,a.J),Ll(b,a),gs(b.a,a.P),Dl(b,a))}function kh(a,b){var t=null,e=null;return Ph(a,b.then((function(n){return t=Qo(n),e=co(n),Eh(a,n)}),(function(t){var e=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(e=yl(t.w(),a,q(a.kc,a))),e||t})).then((function(){return hi({user:Nh(a),credential:t,additionalUserInfo:e,operationType:"signIn"})})))}function xh(a){return a.app}function Nh(a){return a.currentUser}function jh(a){return Nh(a)&&Nh(a)._lat||null}function Ah(a){if(a.ba){for(var b=0;b<a.s.length;b++)a.s[b]&&a.s[b](jh(a));if(a.X!==a.getUid()&&a.O.length)for(a.X=a.getUid(),b=0;b<a.O.length;b++)a.O[b]&&a.O[b](jh(a))}}function Ph(a,b){return a.R.push(b),b.oa((function(){nt(a.R,b)})),b}function Rh(){}function Dh(){this.a={},this.b=1e12}fh.prototype.xb=function(a){var b=null,t=this;return function(a){var b=new P("invalid-persistence-type"),t=new P("unsupported-persistence-type");t:{for(e in hc)if(hc[e]==a){var e=!0;break t}e=!1}if(!e||"string"!=typeof a)throw b;switch(Rr()){case"ReactNative":if("session"===a)throw t;break;case"Node":if("none"!==a)throw t;break;case"Worker":if("session"===a||!Wu()&&"none"!==a)throw t;break;default:if(!Kr()&&"none"!==a)throw t}}(a),bh(this,(function(){return a!=t.c.F?t.b.get(t.c,t.a).then((function(e){return b=e,dh(t,a)})).then((function(){if(t.c=vh(a),b)return t.b.set(t.c,b,t.a)})):Le()}))},j(_h,Nn),j(wh,sn),j(Oh,sn),j(Ih,sn),(n=_h.prototype).xb=function(a){return Ph(this,a=this.i.xb(a))},n.wa=function(a){this.aa===a||this.l||(this.aa=a,vs(this.a,this.aa),this.dispatchEvent(new wh(this.la())))},n.la=function(){return this.aa},n.fd=function(){var a=f.navigator;this.wa(a&&(a.languages&&a.languages[0]||a.language||a.userLanguage)||null)},n.gd=function(a,b){if(!this.P){if(!/^https?:\/\//.test(a))throw new P("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(a){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!a&&Nr().then((function(){var b=f.document.createElement("div");b.innerText="Running in emulator mode. Do not use with production credentials.",b.style.position="fixed",b.style.width="100%",b.style.backgroundColor="#ffffff",b.style.border=".1em solid #000000",b.style.color="#ff0000",b.style.bottom="0px",b.style.left="0px",b.style.margin="0px",b.style.zIndex=1e4,b.style.textAlign="center",b.classList.add("firebase-emulator-warning"),f.document.body.appendChild(b)}))})(b=!!b&&!!b.disableWarnings),this.P={url:a,ec:b},this.settings.ib=!0,gs(this.a,this.P),this.dispatchEvent(new Oh(this.P))}},n.Gc=function(a){this.J.push(a),ys(this.a,e.a.SDK_VERSION?qr(e.a.SDK_VERSION,this.J):null),this.dispatchEvent(new Ih(this.J))},n.Ga=function(){return at(this.J)},n.yb=function(a){this.S===a||this.l||(this.S=a,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:xh(this).options.apiKey,authDomain:xh(this).options.authDomain,appName:xh(this).name,currentUser:Nh(this)&&Nh(this).w()}},n.Fb=function(a,b){switch(a){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==b&&!!this.f;default:return!1}},n.na=function(a,b,t,e){"signInViaPopup"==a&&this.g==e&&(t&&this.C?this.C(t):b&&!t&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(a,b){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.g==b&&this.f?q(this.ic,this):null},n.ic=function(a,b,t,e){var n=this,r={requestUri:a,postBody:e,sessionId:b,tenantId:t};return this.c&&(this.c.cancel(),this.c=null),n.$.then((function(){return kh(n,As(n.a,r))}))},n.Xc=function(a){if(!Wr())return Fe(new P("operation-not-supported-in-this-environment"));var b=this,t=uo(a.providerId),n=Jr(),r=null;(!Gr()||Ar())&&xh(this).options.authDomain&&a.isOAuthProvider&&(r=Nu(xh(this).options.authDomain,xh(this).options.apiKey,xh(this).name,"signInViaPopup",a,null,n,e.a.SDK_VERSION||null,null,null,this.T(),this.P));var o=Cr(r,t&&t.ua,t&&t.ta);return Ph(this,t=Th(this).then((function(g){return Yc(g,o,"signInViaPopup",a,n,!!r,b.T())})).then((function(){return new Ne((function(g,t){b.na("signInViaPopup",null,new P("cancelled-popup-request"),b.g),b.f=g,b.C=t,b.g=n,b.c=Qc(b.b,b,"signInViaPopup",o,n)}))})).then((function(g){return o&&Er(o),g?hi(g):null})).o((function(g){throw o&&Er(o),g})))},n.Yc=function(a){if(!Wr())return Fe(new P("operation-not-supported-in-this-environment"));var b=this;return Ph(this,Th(this).then((function(){return function(a){return bh(a,(function(){return a.b.set(ph,a.c.F,a.a)}))}(b.i)})).then((function(){return Jc(b.b,"signInViaRedirect",a,void 0,b.T())})))},n.qa=function(){var a=this;return Sh(this).then((function(b){return a.b&&il(a.b.b),b})).o((function(b){throw a.b&&il(a.b.b),b}))},n.dd=function(a){if(!a)return Fe(new P("null-user"));if(this.S!=a.tenantId)return Fe(new P("tenant-id-mismatch"));var b=this,t={};t.apiKey=xh(this).options.apiKey,t.authDomain=xh(this).options.authDomain,t.appName=xh(this).name;var e=function(a,b,t,e){var n=a.b,r={};return r[ls]=n.b&&n.b.toString(),r.refreshToken=n.a,b=new Pl(b||{apiKey:a.l,authDomain:a.s,appName:a.m},r),t&&(b.ha=t),e&&Ml(b,e),Jl(b,a),b}(a,t,b.D,b.Ga());return Ph(this,this.h.then((function(){if(xh(b).options.apiKey!=a.l)return e.reload()})).then((function(){return Nh(b)&&a.uid==Nh(b).uid?(Jl(Nh(b),a),b.da(a)):(Ch(b,e),Kl(e),b.da(e))})).then((function(){Ah(b)})))},n.Ab=function(){var a=this;return Ph(this,this.h.then((function(){return a.b&&il(a.b.b),Nh(a)?(Ch(a,null),mh(a.i).then((function(){Ah(a)}))):Le()})))},n.Zc=function(){var a=this;return yh(this.i,xh(this).options.authDomain).then((function(b){if(!a.l){var t;if(t=Nh(a)&&b){t=Nh(a).uid;var e=b.uid;t=null!=t&&""!==t&&null!=e&&""!==e&&t==e}if(t)return Jl(Nh(a),b),Nh(a).I();(Nh(a)||b)&&(Ch(a,b),b&&(Kl(b),b.ha=a.D),a.b&&Hc(a.b,a),Ah(a))}}))},n.da=function(a){return gh(this.i,a)},n.mc=function(){Ah(this),this.da(Nh(this))},n.wc=function(){this.Ab()},n.xc=function(){this.Ab()},n.kc=function(a){var b=this;return this.h.then((function(){return kh(b,Le(a))}))},n.zc=function(a){var b=this;this.addAuthTokenListener((function(){a.next(Nh(b))}))},n.Ac=function(a){var b=this;!function(a,b){a.O.push(b),Ph(a,a.h.then((function(){!a.l&&et(a.O,b)&&a.X!==a.getUid()&&(a.X=a.getUid(),b(jh(a)))})))}(this,(function(){a.next(Nh(b))}))},n.Ic=function(a,b,t){var e=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof a?a(Nh(e)):"function"==typeof a.next&&a.next(Nh(e))})),this.hb(a,b,t)},n.Hc=function(a,b,t){var e=this;return this.ba&&Promise.resolve().then((function(){e.X=e.getUid(),"function"==typeof a?a(Nh(e)):"function"==typeof a.next&&a.next(Nh(e))})),this.bc(a,b,t)},n.nc=function(a){var b=this;return Ph(this,this.h.then((function(){return Nh(b)?Nh(b).I(a).then((function(t){return{accessToken:t}})):null})))},n.Tc=function(a){var b=this;return this.h.then((function(){return kh(b,vu(b.a,cu,{token:a}))})).then((function(t){var e=t.user;return Xl(e,"isAnonymous",!1),b.da(e),t}))},n.Uc=function(a,b){var t=this;return this.h.then((function(){return kh(t,vu(t.a,lu,{email:a,password:b}))}))},n.dc=function(a,b){var t=this;return this.h.then((function(){return kh(t,vu(t.a,Fs,{email:a,password:b}))}))},n.$a=function(a){var b=this;return this.h.then((function(){return kh(b,a.ka(b.a))}))},n.Sc=function(a){return ai("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(a)},n.zb=function(){var a=this;return this.h.then((function(){var b=Nh(a);if(b&&b.isAnonymous){var t=hi({providerId:null,isNewUser:!1});return hi({user:b,credential:null,additionalUserInfo:t,operationType:"signIn"})}return kh(a,a.a.zb()).then((function(t){var e=t.user;return Xl(e,"isAnonymous",!0),a.da(e),t}))}))},n.getUid=function(){return Nh(this)&&Nh(this).uid||null},n.cc=function(a){this.addAuthTokenListener(a),this.u++,0<this.u&&Nh(this)&&Ul(Nh(this))},n.Pc=function(a){var b=this;J(this.s,(function(t){t==a&&b.u--})),0>this.u&&(this.u=0),0==this.u&&Nh(this)&&ql(Nh(this)),this.removeAuthTokenListener(a)},n.addAuthTokenListener=function(a){var b=this;this.s.push(a),Ph(this,this.h.then((function(){b.l||et(b.s,a)&&a(jh(b))})))},n.removeAuthTokenListener=function(a){it(this.s,(function(b){return b==a}))},n.delete=function(){this.l=!0;for(var a=0;a<this.R.length;a++)this.R[a].cancel("app-deleted");return this.R=[],this.i&&(a=this.i).b.removeListener(vh("local"),a.a,this.ja),this.b&&(zc(this.b,this),il(this.b.b)),Promise.resolve()},n.hc=function(a){return Ph(this,function(a,b){return vu(a,Us,{identifier:b,continueUri:Hr()?Or():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,a))},n.Bc=function(a){return!!zo(a)},n.wb=function(a,b){var t=this;return Ph(this,Le().then((function(){var t=new Ki(b);if(!t.c)throw new P("argument-error",zi+" must be true when sending sign in link to email");return Zi(t)})).then((function(e){return t.a.wb(a,e)})).then((function(){})))},n.jd=function(a){return this.Ra(a).then((function(b){return b.data.email}))},n.nb=function(a,b){return Ph(this,this.a.nb(a,b).then((function(){})))},n.Ra=function(a){return Ph(this,this.a.Ra(a).then((function(b){return new _i(b)})))},n.jb=function(a){return Ph(this,this.a.jb(a).then((function(){})))},n.vb=function(a,b){var t=this;return Ph(this,Le().then((function(){return void 0===b||It(b)?{}:Zi(new Ki(b))})).then((function(e){return t.a.vb(a,e)})).then((function(){})))},n.Wc=function(a,b){return Ph(this,hl(this,a,b,q(this.$a,this)))},n.Vc=function(a,b){var t=this;return Ph(this,Le().then((function(){var e=b||Or(),n=Ho(a,e);if(!(e=zo(e)))throw new P("argument-error","Invalid email link!");if(e.tenantId!==t.T())throw new P("tenant-id-mismatch");return t.$a(n)})))},Rh.prototype.render=function(){},Rh.prototype.reset=function(){},Rh.prototype.getResponse=function(){},Rh.prototype.execute=function(){};var Mh=null;function Lh(a,b){return(b=Fh(b))&&a.a[b]||null}function Fh(a){return(a=void 0===a?1e12:a)?a.toString():null}function Uh(a,b){this.g=!1,this.c=b,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ye(a);var t=this;this.i=function(){t.execute()},this.h?this.execute():yn(this.f,"click",this.i)}function qh(a){if(a.g)throw Error("reCAPTCHA mock was already deleted!")}function Vh(){}function Bh(){}Dh.prototype.render=function(a,b){return this.a[this.b.toString()]=new Uh(a,b),this.b++},Dh.prototype.reset=function(a){var b=Lh(this,a);a=Fh(a),b&&a&&(b.delete(),delete this.a[a])},Dh.prototype.getResponse=function(a){return(a=Lh(this,a))?a.getResponse():null},Dh.prototype.execute=function(a){(a=Lh(this,a))&&a.execute()},Uh.prototype.getResponse=function(){return qh(this),this.b},Uh.prototype.execute=function(){qh(this);var a=this;this.a||(this.a=setTimeout((function(){a.b=function(){for(var a=50,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}();var b=a.c.callback,t=a.c["expired-callback"];if(b)try{b(a.b)}catch(t){}a.a=setTimeout((function(){if(a.a=null,a.b=null,t)try{t()}catch(t){}a.h&&a.execute()}),6e4)}),500))},Uh.prototype.delete=function(){qh(this),this.g=!0,clearTimeout(this.a),this.a=null,wn(this.f,"click",this.i)},ui(Vh,"FACTOR_ID","phone"),Bh.prototype.g=function(){return Mh||(Mh=new Dh),Le(Mh)},Bh.prototype.c=function(){};var Kh=null;function Wh(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Hh=new kt(At,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),zh=new ti(3e4,6e4);Wh.prototype.g=function(a){var b=this;return new Ne((function(t,e){var n=setTimeout((function(){e(new P("network-request-failed"))}),zh.get());!f.grecaptcha||a!==b.f&&!b.b?(f[b.a]=function(){if(f.grecaptcha){b.f=a;var g=f.grecaptcha.render;f.grecaptcha.render=function(t,e){return t=g(t,e),b.b++,t},clearTimeout(n),t(f.grecaptcha)}else clearTimeout(n),e(new P("internal-error"));delete f[b.a]},Le(es(Mt(Hh,{onload:b.a,hl:a||""}))).o((function(){clearTimeout(n),e(new P("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(n),t(f.grecaptcha))}))},Wh.prototype.c=function(){this.b--};var Gh=null;function $h(a,b,t,e,n,r,g){if(ui(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=b,this.g=null,g?(Kh||(Kh=new Bh),g=Kh):(Gh||(Gh=new Wh),g=Gh),this.m=g,this.a=t||{theme:"light",type:"image"},this.h=[],this.a[Jh])throw new P("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Qh],!f.document)throw new P("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ye(b)||!this.i&&ye(b).hasChildNodes())throw new P("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new us(a,r||null,n||null),this.u=e||function(){return null};var o=this;this.l=[];var c=this.a[Yh];this.a[Yh]=function(t){if(Zh(o,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Br(c,f);"function"==typeof e&&e(t)}};var p=this.a[Xh];this.a[Xh]=function(){if(Zh(o,null),"function"==typeof p)p();else if("string"==typeof p){var t=Br(p,f);"function"==typeof t&&t()}}}var Yh="callback",Xh="expired-callback",Jh="sitekey",Qh="size";function Zh(a,b){for(var t=0;t<a.l.length;t++)try{a.l[t](b)}catch(t){}}function tf(a,b){return a.h.push(b),b.oa((function(){nt(a.h,b)})),b}function ef(a){if(a.D)throw new P("internal-error","RecaptchaVerifier instance has been destroyed.")}function nf(a,b,t){var n=!1;try{this.b=t||e.a.app()}catch(t){throw new P("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new P("invalid-api-key");t=this.b.options.apiKey;var r=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{n=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=e.a.SDK_VERSION?qr(e.a.SDK_VERSION,o):null,$h.call(this,t,a,b,(function(){try{var g=r.b.auth().la()}catch(t){g=null}return g}),o,U(D),n)}function rf(a,b,t,e){t:{t=Array.prototype.slice.call(t);for(var n=0,r=!1,g=0;g<b.length;g++)if(b[g].optional)r=!0;else{if(r)throw new P("internal-error","Argument validator encountered a required argument after an optional argument.");n++}if(r=b.length,t.length<n||r<t.length)e="Expected "+(n==r?1==n?"1 argument":n+" arguments":n+"-"+r+" arguments")+" but got "+t.length+".";else{for(n=0;n<t.length;n++)if(r=b[n].optional&&void 0===t[n],!b[n].M(t[n])&&!r){if(b=b[n],0>n||n>=of.length)throw new P("internal-error","Argument validator received an unsupported number of arguments.");t=of[n],e=(e?"":t+" argument ")+(b.name?'"'+b.name+'" ':"")+"must be "+b.K+".";break t}e=null}}if(e)throw new P("argument-error",a+" failed: "+e)}(n=$h.prototype).Ia=function(){var a=this;return this.f?this.f:this.f=tf(this,Le().then((function(){if(Hr()&&!Pr())return Nr();throw new P("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return a.m.g(a.u())})).then((function(b){return a.g=b,vu(a.s,Qs,{})})).then((function(b){a.a[Jh]=b.recaptchaSiteKey})).o((function(b){throw a.f=null,b})))},n.render=function(){ef(this);var a=this;return tf(this,this.Ia().then((function(){if(null===a.c){var b=a.v;if(!a.i){var t=ye(b);b=function(a,b,t){var e=arguments,n=document,r=String(e[0]),g=e[1];if(!me&&g&&(g.name||g.type)){if(r=["<",r],g.name&&r.push(' name="',Zt(g.name),'"'),g.type){r.push(' type="',Zt(g.type),'"');var o={};Et(o,g),delete o.type,g=o}r.push(">"),r=r.join("")}return r=Te(n,r),g&&("string"==typeof g?r.className=g:Array.isArray(g)?r.className=g.join(" "):be(r,g)),2<e.length&&Ie(n,r,e),r}("DIV"),t.appendChild(b)}a.c=a.g.render(b,a.a)}return a.c})))},n.verify=function(){ef(this);var a=this;return tf(this,this.render().then((function(b){return new Ne((function(t){var e=a.g.getResponse(b);if(e)t(e);else{var n=function(e){e&&(function(a,b){it(a.l,(function(t){return t==b}))}(a,n),t(e))};a.l.push(n),a.i&&a.g.execute(a.c)}}))})))},n.reset=function(){ef(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){ef(this),this.D=!0,this.m.c();for(var a=0;a<this.h.length;a++)this.h[a].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){a=ye(this.v);for(var b;b=a.firstChild;)a.removeChild(b)}},j(nf,$h);var of="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function af(a,b){return{name:a||"",K:"a valid string",optional:!!b,M:function(t){return"string"==typeof t}}}function sf(a,b){return{name:a||"",K:"a boolean",optional:!!b,M:function(t){return"boolean"==typeof t}}}function uf(a,b){return{name:a||"",K:"a valid object",optional:!!b,M:I}}function cf(a,b){return{name:a||"",K:"a function",optional:!!b,M:function(t){return"function"==typeof t}}}function lf(a,b){return{name:a||"",K:"null",optional:!!b,M:function(t){return null===t}}}function hf(a){return{name:a?a+"Credential":"credential",K:a?"a valid "+a+" credential":"a valid credential",optional:!1,M:function(b){if(!b)return!1;var t=!a||b.providerId===a;return!(!b.ka||!t)}}}function ff(a,b){return I(a)&&"string"==typeof a.type&&a.type===b&&"function"==typeof a.Ha}function df(a){return I(a)&&"string"==typeof a.uid}function pf(a,b,t,e){return{name:t||"",K:a.K+" or "+b.K,optional:!!e,M:function(t){return a.M(t)||b.M(t)}}}function vf(a,b){for(var t in b){var e=b[t].name;a[e]=yf(e,a[t],b[t].j)}}function gf(a,b){for(var t in b){var e=b[t].name;e!==t&&Object.defineProperty(a,e,{get:x((function(t){return this[t]}),t),set:x((function(t,e,g,n){rf(t,[g],[n],!0),this[e]=n}),e,t,b[t].kb),enumerable:!0})}}function mf(a,b,t,e){a[b]=yf(b,t,e)}function yf(a,b,t){function e(){var g=Array.prototype.slice.call(arguments);return rf(r,t,g),b.apply(this,g)}if(!t)return b;var n,r=function(a){return(a=a.split("."))[a.length-1]}(a);for(n in b)e[n]=b[n];for(n in b.prototype)e.prototype[n]=b.prototype[n];return e}vf(_h.prototype,{jb:{name:"applyActionCode",j:[af("code")]},Ra:{name:"checkActionCode",j:[af("code")]},nb:{name:"confirmPasswordReset",j:[af("code"),af("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[af("email"),af("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[af("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[af("emailLink")]},Hc:{name:"onAuthStateChanged",j:[pf(uf(),cf(),"nextOrObserver"),cf("opt_error",!0),cf("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[pf(uf(),cf(),"nextOrObserver"),cf("opt_error",!0),cf("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[af("email"),pf(uf("opt_actionCodeSettings",!0),lf(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[af("email"),uf("actionCodeSettings")]},xb:{name:"setPersistence",j:[af("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[hf()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[hf()]},Tc:{name:"signInWithCustomToken",j:[af("token")]},Uc:{name:"signInWithEmailAndPassword",j:[af("email"),af("password")]},Vc:{name:"signInWithEmailLink",j:[af("email"),af("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[af("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[pf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(b){return!!(b&&b instanceof Pl)}},lf(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[af(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[af("url"),uf("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[af("code")]}}),gf(_h.prototype,{lc:{name:"languageCode",kb:pf(af(),lf(),"languageCode")},ti:{name:"tenantId",kb:pf(af(),lf(),"tenantId")}}),_h.Persistence=hc,_h.Persistence.LOCAL="local",_h.Persistence.SESSION="session",_h.Persistence.NONE="none",vf(Pl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[sf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[sf("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[hf()]},qb:{name:"linkWithCredential",j:[hf()]},Dc:{name:"linkWithPhoneNumber",j:[af("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[hf()]},tb:{name:"reauthenticateWithCredential",j:[hf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[af("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[pf(uf("opt_actionCodeSettings",!0),lf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[af(null,!0)]},cd:{name:"unlink",j:[af("provider")]},Bb:{name:"updateEmail",j:[af("email")]},Cb:{name:"updatePassword",j:[af("password")]},ed:{name:"updatePhoneNumber",j:[hf("phone")]},Db:{name:"updateProfile",j:[uf("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[af("email"),pf(uf("opt_actionCodeSettings",!0),lf(null,!0),"opt_actionCodeSettings",!0)]}}),vf(Dh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vf(Rh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vf(Ne.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),gf(em.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:sf("appVerificationDisabledForTesting")}}),vf(ll.prototype,{confirm:{name:"confirm",j:[af("verificationCode")]}}),mf(Io,"fromJSON",(function(a){a="string"==typeof a?JSON.parse(a):a;for(var b,t=[No,Ko,$o,Co],e=0;e<t.length;e++)if(b=t[e](a))return b;return null}),[pf(af(),uf(),"json")]),mf(Wo,"credential",(function(a,b){return new Bo(a,b)}),[af("email"),af("password")]),vf(Bo.prototype,{w:{name:"toJSON",j:[af(null,!0)]}}),vf(Ro.prototype,{Ca:{name:"addScope",j:[af("scope")]},Ka:{name:"setCustomParameters",j:[uf("customOAuthParameters")]}}),mf(Ro,"credential",Do,[pf(af(),uf(),"token")]),mf(Wo,"credentialWithLink",Ho,[af("email"),af("emailLink")]),vf(Mo.prototype,{Ca:{name:"addScope",j:[af("scope")]},Ka:{name:"setCustomParameters",j:[uf("customOAuthParameters")]}}),mf(Mo,"credential",Lo,[pf(af(),uf(),"token")]),vf(Fo.prototype,{Ca:{name:"addScope",j:[af("scope")]},Ka:{name:"setCustomParameters",j:[uf("customOAuthParameters")]}}),mf(Fo,"credential",Uo,[pf(af(),pf(uf(),lf()),"idToken"),pf(af(),lf(),"accessToken",!0)]),vf(qo.prototype,{Ka:{name:"setCustomParameters",j:[uf("customOAuthParameters")]}}),mf(qo,"credential",Vo,[pf(af(),uf(),"token"),af("secret",!0)]),vf(Po.prototype,{Ca:{name:"addScope",j:[af("scope")]},credential:{name:"credential",j:[pf(af(),pf(uf(),lf()),"optionsOrIdToken"),pf(af(),lf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[uf("customOAuthParameters")]}}),vf(ko.prototype,{w:{name:"toJSON",j:[af(null,!0)]}}),vf(So.prototype,{w:{name:"toJSON",j:[af(null,!0)]}}),mf(Xo,"credential",Jo,[af("verificationId"),af("verificationCode")]),vf(Xo.prototype,{fb:{name:"verifyPhoneNumber",j:[pf(af(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?ff(t.session,wo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?ff(t.session,Oo)&&df(t.multiFactorHint):t.session&&t.multiFactorUid?ff(t.session,Oo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]}}),vf(Go.prototype,{w:{name:"toJSON",j:[af(null,!0)]}}),vf(P.prototype,{toJSON:{name:"toJSON",j:[af(null,!0)]}}),vf(oa.prototype,{toJSON:{name:"toJSON",j:[af(null,!0)]}}),vf(ia.prototype,{toJSON:{name:"toJSON",j:[af(null,!0)]}}),vf(ml.prototype,{toJSON:{name:"toJSON",j:[af(null,!0)]}}),vf(pl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(a){return!!a&&!!a.sb}}]}}),vf(Il.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(a){return!!a&&!!a.sb}},af("displayName",!0)]},bd:{name:"unenroll",j:[pf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:df},af(),"multiFactorInfoIdentifier")]}}),vf(nf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),mf(Ri,"parseLink",Bi,[af("link")]),mf(Vh,"assertion",(function(a){return new wl(a)}),[hf("phone")]),function(){if(void 0===e.a||!e.a.INTERNAL||!e.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var a={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:wi,VERIFY_AND_CHANGE_EMAIL:Ii,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:_h,AuthCredential:Io,Error:P};mf(a,"EmailAuthProvider",Wo,[]),mf(a,"FacebookAuthProvider",Ro,[]),mf(a,"GithubAuthProvider",Mo,[]),mf(a,"GoogleAuthProvider",Fo,[]),mf(a,"TwitterAuthProvider",qo,[]),mf(a,"OAuthProvider",Po,[af("providerId")]),mf(a,"SAMLAuthProvider",Ao,[af("providerId")]),mf(a,"PhoneAuthProvider",Xo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(a){return!!(a&&a instanceof _h)}}]),mf(a,"RecaptchaVerifier",nf,[pf(af(),{name:"",K:"an HTML element",optional:!1,M:function(a){return!!(a&&a instanceof Element)}},"recaptchaContainer"),uf("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(a){return!!(a&&a instanceof e.a.app.App)}}]),mf(a,"ActionCodeURL",Ri,[]),mf(a,"PhoneMultiFactorGenerator",Vh,[]),e.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(b){return new _h(b=b.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:a,instantiationMode:"LAZY",type:"PUBLIC"}),e.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(b){return{getUid:q((b=b.getProvider("auth").getImmediate()).getUid,b),getToken:q(b.nc,b),addAuthTokenListener:q(b.cc,b),removeAuthTokenListener:q(b.Pc,b)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.a.registerVersion("@firebase/auth","0.16.4"),e.a.INTERNAL.extendNamespace({User:Pl})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(14))},1027:function(t,e,n){"use strict";(function(t,e){var r,o=n(76),c=n(69),l=n(3),h=n(0),f=n(38),d=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(l.K)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(l.E)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),v=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(l.k)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),m=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new d(e)}}catch(t){}return new v},y=m("localStorage"),_=m("sessionStorage"),w=new f.b("@firebase/database"),O=(r=1,function(){return r++}),I=function(t){var e=Object(l.J)(t),n=new l.d;n.update(e);var r=n.digest();return l.h.encodeByteArray(r)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++){var r=t[i];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?n+=T.apply(null,r):n+="object"==typeof r?Object(l.K)(r):r,n+=" "}return n},S=null,E=!0,C=function(t,e){Object(l.f)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(w.logLevel=f.a.VERBOSE,S=w.log.bind(w),e&&_.set("logging_enabled",!0)):"function"==typeof t?S=t:(S=null,_.remove("logging_enabled"))},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===E&&(E=!1,null===S&&!0===_.get("logging_enabled")&&C(!0)),S){var n=T.apply(null,t);S(n)}},x=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];k.apply(void 0,Object(h.f)([t],Object(h.e)(e)))}},N=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+T.apply(void 0,Object(h.f)([],Object(h.e)(t)));w.error(n)},j=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+T.apply(void 0,Object(h.f)([],Object(h.e)(t)));throw w.error(n),new Error(n)},A=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+T.apply(void 0,Object(h.f)([],Object(h.e)(t)));w.warn(n)},P=function(data){return"number"==typeof data&&(data!=data||data===Number.POSITIVE_INFINITY||data===Number.NEGATIVE_INFINITY)},R="[MIN_NAME]",D="[MAX_NAME]",M=function(a,b){if(a===b)return 0;if(a===R||b===D)return-1;if(b===R||a===D)return 1;var t=G(a),e=G(b);return null!==t?null!==e?t-e==0?a.length-b.length:t-e:-1:null!==e?1:a<b?-1:1},L=function(a,b){return a===b?0:a<b?-1:1},F=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(l.K)(e))},U=function(t){if("object"!=typeof t||null===t)return Object(l.K)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Object(l.K)(e[i]),r+=":",r+=U(t[e[i]]);return r+="}"},V=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function B(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var K=function(t){Object(l.f)(!P(t),"Invalid JSON number");var s,e,n,r,i,o=1023;0===t?(e=0,n=0,s=1/t==-1/0?1:0):(s=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(e=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),o))+o,n=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(e=0,n=Math.round(t/Math.pow(2,-1074))));var c=[];for(i=52;i;i-=1)c.push(n%2?1:0),n=Math.floor(n/2);for(i=11;i;i-=1)c.push(e%2?1:0),e=Math.floor(e/2);c.push(s?1:0),c.reverse();var h=c.join(""),f="";for(i=0;i<64;i+=8){var d=parseInt(h.substr(i,8),2).toString(16);1===d.length&&(d="0"+d),f+=d}return f.toLowerCase()};var W=new RegExp("^-?(0*)\\d{1,10}$"),H=-2147483648,z=2147483647,G=function(t){if(W.test(t)){var e=Number(t);if(e>=H&&e<=z)return e}return null},$=function(t){try{t()}catch(t){setTimeout((function(){var e=t.stack||"";throw A("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Y=function(t,time){var e=setTimeout(t,time);return"object"==typeof e&&e.unref&&e.unref(),e},X=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then((function(t){return r.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(k("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',A(t)},t}(),J=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),Q="5",Z=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tt="websocket",et="long_polling",nt=function(){function t(t,e,n,r,o,c,l){void 0===o&&(o=!1),void 0===c&&(c=""),void 0===l&&(l=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=y.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&y.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();function it(t,e,n){var r;if(Object(l.f)("string"==typeof e,"typeof type must == string"),Object(l.f)("object"==typeof n,"typeof params must == object"),e===tt)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==et)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var o=[];return B(n,(function(t,e){o.push(t+"="+e)})),r+o.join("&")}var ot=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(l.k)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(l.m)(this.counters_)},t}(),at={},st={};function ut(t){var e=t.toString();return at[e]||(at[e]=new ot),at[e]}var ct=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,data){var e=this;this.pendingResponses[t]=data;for(var n=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var n=function(i){t[i]&&$((function(){e.onMessage_(t[i])}))},i=0;i<t.length;++i)n(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum];){if("break"===n())break}},t}(),lt="start",ht="close",ft=function(){function t(t,e,n,r,o){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=x(t),this.stats_=ut(e),this.urlFn=function(t){return it(e,et,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ct(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(l.A)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new pt((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(h.e)(t,5),o=r[0],c=r[1],l=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===lt)n.id=c,n.password=l;else{if(o!==ht)throw new Error("Unrecognized command received: "+o);c?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(c,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(h.e)(t,2),o=r[0],data=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,data)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v=Q,n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&Z.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!Object(l.A)()&&(!!t.forceAllow_||!(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(data){var t=Object(l.K)(data);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var e=Object(l.i)(t),n=V(e,1840),i=0;i<n.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(l.A)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(l.K)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),pt=function(){function t(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(l.A)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=O(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var script="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))script='<script>document.domain="'+document.domain+'";<\/script>';var c="<html><body>"+script+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(t){k("frame writing exception"),t.stack&&k(t.stack),k(t)}}}return t.createIFrame_=function(){var iframe=document.createElement("iframe");if(iframe.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(iframe);try{iframe.contentWindow.document||k("No IE domain setting required")}catch(e){var t=document.domain;iframe.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return iframe.contentDocument?iframe.doc=iframe.contentDocument:iframe.contentWindow?iframe.doc=iframe.contentWindow.document:iframe.document&&(iframe.doc=iframe.document),iframe},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,data){this.pendingSegs.push({seg:t,ts:e,d:data}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(o),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(l.A)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){k("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},t}(),vt="";function gt(t){vt=t}var mt=null;"undefined"!=typeof MozWebSocket?mt=MozWebSocket:"undefined"!=typeof WebSocket&&(mt=WebSocket);var yt=function(){function e(t,n,r,o,c){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=x(this.connId),this.stats_=ut(n),this.connURL=e.connectionURL_(n,o,c),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,e,n){var r={};return r.v=Q,!Object(l.A)()&&"undefined"!=typeof location&&location.hostname&&Z.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),it(t,tt,r)},e.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,y.set("previous_websocket_failure",!0);try{if(Object(l.A)()){var o=this.nodeAdmin?"AdminNode":"Node",c={headers:{"User-Agent":"Firebase/5/"+vt+"/"+t.platform+"/"+o,"X-Firebase-GMPID":this.applicationId||""}},h=t.env,f=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;f&&(c.proxy={origin:f}),this.mySock=new mt(this.connURL,[],c)}else{c={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new mt(this.connURL,[],c)}}catch(t){this.log_("Error instantiating WebSocket.");var d=t.message||t.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==mt&&!e.forceDisallow_},e.previouslyFailed=function(){return y.isInMemoryStorage||!0===y.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){y.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(data){if(this.frames.push(data),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var e=Object(l.E)(t);this.onMessage(e)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(data){if(Object(l.f)(null===this.frames,"We already have a frame buffer"),data.length<=6){var t=Number(data);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),data},e.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var data=t.data;if(this.bytesReceived+=data.length,this.stats_.incrementCounter("bytes_received",data.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(data);else{var e=this.extractFrameCount_(data);null!==e&&this.appendFrame_(e)}}},e.prototype.send=function(data){this.resetKeepAlive();var t=Object(l.K)(data);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var e=V(t,16384);e.length>1&&this.sendString_(String(e.length));for(var i=0;i<e.length;i++)this.sendString_(e[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),bt=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[ft,yt]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=yt&&yt.isAvailable(),c=o&&!yt.previouslyFailed();if(e.webSocketOnly&&(o||A("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),c=!0),c)this.transports_=[yt];else{var l=this.transports_=[];try{for(var f=Object(h.g)(t.ALL_TRANSPORTS),d=f.next();!d.done;d=f.next()){var v=d.value;v&&v.isAvailable()&&l.push(v)}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),_t=function(){function t(t,e,n,r,o,c,l,h){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=o,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=x("c:"+this.id+":"),this.transportManager_=new bt(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Y((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=F("t",t),data=F("d",t);if("c"===e)this.onSecondaryControl_(data);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(data)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=F("t",t),data=F("d",t);"c"===e?this.onControl_(data):"d"===e&&this.onDataMessage_(data)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=F("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?N("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):N("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),Q!==n&&A("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Y((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Y((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(y.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(data){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(data)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),wt=function(){function t(){}return t.prototype.put=function(t,data,e,n){},t.prototype.merge=function(t,data,e,n){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,data,e){},t.prototype.onDisconnectMerge=function(t,data,e){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Ot=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(l.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(h.f)([],Object(h.e)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(l.f)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),It=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(l.y)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(h.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(l.f)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Ot),Tt=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",i=this.pieceNum_;i<this.pieces_.length;i++)""!==this.pieces_[i]&&(t+="/"+this.pieces_[i]);return t||"/"},t}();function St(){return new Tt("")}function Et(path){return path.pieceNum_>=path.pieces_.length?null:path.pieces_[path.pieceNum_]}function Ct(path){return path.pieces_.length-path.pieceNum_}function kt(path){var t=path.pieceNum_;return t<path.pieces_.length&&t++,new Tt(path.pieces_,t)}function xt(path){return path.pieceNum_<path.pieces_.length?path.pieces_[path.pieces_.length-1]:null}function Nt(path,t){return void 0===t&&(t=0),path.pieces_.slice(path.pieceNum_+t)}function jt(path){if(path.pieceNum_>=path.pieces_.length)return null;for(var t=[],i=path.pieceNum_;i<path.pieces_.length-1;i++)t.push(path.pieces_[i]);return new Tt(t,0)}function At(path,t){for(var e=[],i=path.pieceNum_;i<path.pieces_.length;i++)e.push(path.pieces_[i]);if(t instanceof Tt)for(i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{var n=t.split("/");for(i=0;i<n.length;i++)n[i].length>0&&e.push(n[i])}return new Tt(e,0)}function Pt(path){return path.pieceNum_>=path.pieces_.length}function Rt(t,e){var n=Et(t),r=Et(e);if(null===n)return e;if(n===r)return Rt(kt(t),kt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Dt(t,e){for(var n=Nt(t,0),r=Nt(e,0),i=0;i<n.length&&i<r.length;i++){var o=M(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Mt(path,t){if(Ct(path)!==Ct(t))return!1;for(var i=path.pieceNum_,e=t.pieceNum_;i<=path.pieces_.length;i++,e++)if(path.pieces_[i]!==t.pieces_[e])return!1;return!0}function Lt(path,t){var i=path.pieceNum_,e=t.pieceNum_;if(Ct(path)>Ct(t))return!1;for(;i<path.pieces_.length;){if(path.pieces_[i]!==t.pieces_[e])return!1;++i,++e}return!0}var Ft=function(path,t){this.errorPrefix_=t,this.parts_=Nt(path,0),this.byteLength_=Math.max(1,this.parts_.length);for(var i=0;i<this.parts_.length;i++)this.byteLength_+=Object(l.I)(this.parts_[i]);Ut(this)};function Ut(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+qt(t))}function qt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var Vt,Bt,Kt=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(h.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(l.f)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Ot),Wt=1e3,Ht=function(t){function e(n,r,o,c,h,f,d){var v=t.call(this)||this;if(v.repoInfo_=n,v.applicationId_=r,v.onDataUpdate_=o,v.onConnectStatus_=c,v.onServerInfoUpdate_=h,v.authTokenProvider_=f,v.authOverride_=d,v.id=e.nextPersistentConnectionId_++,v.log_=x("p:"+v.id+":"),v.interruptReasons_={},v.listens=new Map,v.outstandingPuts_=[],v.outstandingGets_=[],v.outstandingPutCount_=0,v.outstandingGetCount_=0,v.onDisconnectRequestQueue_=[],v.connected_=!1,v.reconnectDelay_=Wt,v.maxReconnectDelay_=3e5,v.securityDebugCallback_=null,v.lastSessionId=null,v.establishConnectionTimer_=null,v.visible_=!1,v.requestCBHash_={},v.requestNumber_=0,v.realtime_=null,v.authToken_=null,v.forceTokenRefresh_=!1,v.invalidAuthTokenCount_=0,v.firstConnection_=!0,v.lastConnectionAttemptTime_=null,v.lastConnectionEstablishedTime_=null,d&&!Object(l.A)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return v.scheduleConnect_(0),Kt.getInstance().on("visible",v.onVisible_,v),-1===n.host.indexOf("fblocal")&&It.getInstance().on("online",v.onOnline_,v),v}return Object(h.c)(e,t),e.prototype.sendRequest=function(t,body,e){var n=++this.requestNumber_,r={r:n,a:t,b:body};this.log_(Object(l.K)(r)),Object(l.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),e&&(this.requestCBHash_[n]=e)},e.prototype.get=function(t){var e=this,n=new l.a,r={p:t._path.toString(),q:t._queryObject},o={action:"g",request:r,onComplete:function(t){var o=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,o,!1,null),n.resolve(o)):n.reject(o)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var c=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[c];void 0!==t&&o===t&&(delete e.outstandingGets_[c],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+c+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(c),n.promise},e.prototype.listen=function(t,e,n,r){var o=t._queryIdentifier,c=t._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),Object(l.f)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(l.f)(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");var h={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,o=r._path.toString(),c=r._queryIdentifier;this.log_("Listen on "+o+" for "+c);var l={p:o};t.tag&&(l.q=r._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,(function(l){var h=l.d,f=l.s;e.warnOnListenWarnings_(h,r),(n.listens.get(o)&&n.listens.get(o).get(c))===t&&(n.log_("listen response",l),"ok"!==f&&n.removeListen_(o,c),t.onComplete&&t.onComplete(f,h))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(l.k)(t,"w")){var n=Object(l.H)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();A("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(l.r)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(l.D)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,data=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,data))}))}},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(l.f)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var o={p:t};r&&(o.q=n,o.t=r),this.sendRequest("n",o)},e.prototype.onDisconnectPut=function(t,data,e){this.connected_?this.sendOnDisconnect_("o",t,data,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:data,onComplete:e})},e.prototype.onDisconnectMerge=function(t,data,e){this.connected_?this.sendOnDisconnect_("om",t,data,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:data,onComplete:e})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,data,n){var r={p:e,d:data};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,(function(t){n&&setTimeout((function(){n(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,data,e,n){this.putInternal("p",t,data,e,n)},e.prototype.merge=function(t,data,e,n){this.putInternal("m",t,data,e,n)},e.prototype.putInternal=function(t,e,data,n,r){var o={p:e,d:data};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:t,request:o,onComplete:n}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),o&&o(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(l.K)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,body){this.log_("handleServerMessage",t,body),"d"===t?this.onDataUpdate_(body.p,body.d,!1,body.t):"m"===t?this.onDataUpdate_(body.p,body.d,!0,body.t):"c"===t?this.onListenRevoked_(body.p,body.q):"ac"===t?this.onAuthRevoked_(body.s,body.d):"sd"===t?this.onSecurityDebugPacket_(body):N("Unrecognized action received from server: "+Object(l.K)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(l.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wt,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Wt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Wt),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+e.nextConnectionId_++,h=this,f=this.lastSessionId,d=!1,v=null,m=function(){v?v.close():(d=!0,o())};this.realtime_={close:m,sendRequest:function(t){Object(l.f)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(t)}};var y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(y).then((function(t){d?k("getToken() completed but was canceled"):(k("getToken() completed. Creating connection."),h.authToken_=t&&t.accessToken,v=new _t(c,h.repoInfo_,h.applicationId_,n,r,o,(function(t){A(t+" ("+h.repoInfo_.toString()+")"),h.interrupt("server_kill")}),f))})).then(null,(function(e){h.log_("Failed to get token: "+e),d||(t.repoInfo_.nodeAdmin&&A(e),m())}))}},e.prototype.interrupt=function(t){k("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){k("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(l.v)(this.interruptReasons_)&&(this.reconnectDelay_=Wt,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var i=0;i<this.outstandingPuts_.length;i++){var t=this.outstandingPuts_[i];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[i],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(q){return U(q)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Tt(t).toString();if(this.listens.has(r)){var map=this.listens.get(r);n=map.get(e),map.delete(e),0===map.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){k("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(body){this.securityDebugCallback_?this.securityDebugCallback_(body):"msg"in body&&console.log("FIREBASE: "+body.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=Object(h.g)(this.listens.values()),c=o.next();!c.done;c=o.next()){var l=c.value;try{for(var f=(n=void 0,Object(h.g)(l.values())),d=f.next();!d.done;d=f.next()){var v=d.value;this.sendListen_(v)}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var i=0;i<this.outstandingPuts_.length;i++)this.outstandingPuts_[i]&&this.sendPut_(i);for(;this.onDisconnectRequestQueue_.length;){var m=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(m.action,m.pathString,m.data,m.onComplete)}for(i=0;i<this.outstandingGets_.length;i++)this.outstandingGets_[i]&&this.sendGet_(i)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(l.A)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+vt.replace(/\./g,"-")]=1,Object(l.y)()?t["framework.cordova"]=1:Object(l.B)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=It.getInstance().currentlyOnline();return Object(l.v)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(wt),zt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Gt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new zt(R,t),r=new zt(R,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return zt.MIN},t}(),$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Vt},set:function(t){Vt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(a,b){return M(a.name,b.name)},e.prototype.isDefinedOn=function(t){throw Object(l.g)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return zt.MIN},e.prototype.maxPost=function(){return new zt(D,Vt)},e.prototype.makePost=function(t,e){return Object(l.f)("string"==typeof t,"KeyIndex indexValue must always be a string."),new zt(t,Vt)},e.prototype.toString=function(){return".key"},e}(Gt),Yt=new $t,Xt=function(){function t(t,e,n,r,o){void 0===o&&(o=null),this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];for(var c=1;!t.isEmpty();)if(t=t,c=e?n(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Jt=function(){function t(e,n,r,o,c){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:Zt.EMPTY_NODE,this.right=null!=c?c:Zt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,o,c){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,o=n(t,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Zt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Zt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Qt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,o){return this},t.prototype.insert=function(t,e,n){return new Jt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Zt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Jt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Jt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Xt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Xt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Xt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Xt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Qt,t}();function te(t,e){return M(t.name,e.name)}function ee(t,e){return M(t,e)}var ne,re,ie,oe=function(t){return"number"==typeof t?"number:"+K(t):"string:"+t},ae=function(t){if(t.isLeafNode()){var e=t.val();Object(l.f)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(l.k)(e,".sv"),"Priority must be a string or number.")}else Object(l.f)(t===Bt||t.isEmpty(),"priority of unexpected type.");Object(l.f)(t===Bt||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},se=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(l.f)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ae(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return ne},set:function(t){ne=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(path){return Pt(path)?this:".priority"===Et(path)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(path,e){var n=Et(path);return null===n?e:e.isEmpty()&&".priority"!==n?this:(Object(l.f)(".priority"!==n||1===Ct(path),".priority must be the last token in a path"),this.updateImmediateChild(n,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(kt(path),e)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+oe(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?K(this.value_):this.value_,this.lazyHash_=I(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(l.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),c=t.VALUE_TYPE_ORDER.indexOf(r);return Object(l.f)(o>=0,"Unknown leaf type: "+n),Object(l.f)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var ue,ce,le=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h.c)(e,t),e.prototype.compare=function(a,b){var t=a.node.getPriority(),e=b.node.getPriority(),n=t.compareTo(e);return 0===n?M(a.name,b.name):n},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return zt.MIN},e.prototype.maxPost=function(){return new zt(D,new se("[PRIORITY-POST]",ie))},e.prototype.makePost=function(t,e){var n=re(t);return new zt(e,new se("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Gt)),he=Math.log(2),fe=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/he,10)),this.current_=this.count-1;var n,mask=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&mask}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),de=function(t,e,n,r){t.sort(e);var o=function(e,r){var c,l,h=r-e;if(0===h)return null;if(1===h)return c=t[e],l=n?n(c):c,new Jt(l,c.node,Jt.BLACK,null,null);var f=parseInt(h/2,10)+e,d=o(e,f),v=o(f+1,r);return c=t[f],l=n?n(c):c,new Jt(l,c.node,Jt.BLACK,d,v)},c=function(e){for(var r=null,c=null,l=t.length,h=function(e,r){var c=l-e,h=l;l-=e;var d=o(c+1,h),v=t[c],m=n?n(v):v;f(new Jt(m,v.node,r,null,d))},f=function(t){r?(r.left=t,r=t):(c=t,r=t)},i=0;i<e.count;++i){var d=e.nextBitIsOne(),v=Math.pow(2,e.count-(i+1));d?h(v,Jt.BLACK):(h(v,Jt.BLACK),h(v,Jt.RED))}return c}(new fe(t.length));return new Zt(r||e,c)},pe={},ve=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(l.f)(pe&&le,"ChildrenNode.ts has not been loaded"),ue=ue||new t({".priority":pe},{".priority":le})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(l.H)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Zt?e:null},t.prototype.hasIndex=function(t){return Object(l.k)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(l.f)(e!==Yt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,o=[],c=!1,f=n.getIterator(zt.Wrap),d=f.getNext();d;)c=c||e.isDefinedOn(d.node),o.push(d),d=f.getNext();r=c?de(o,e.getCompare()):pe;var v=e.toString(),m=Object(h.a)({},this.indexSet_);m[v]=e;var y=Object(h.a)({},this.indexes_);return y[v]=r,new t(y,m)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(l.F)(this.indexes_,(function(t,o){var c=Object(l.H)(r.indexSet_,o);if(Object(l.f)(c,"Missing index implementation for "+o),t===pe){if(c.isDefinedOn(e.node)){for(var h=[],f=n.getIterator(zt.Wrap),d=f.getNext();d;)d.name!==e.name&&h.push(d),d=f.getNext();return h.push(e),de(h,c.getCompare())}return pe}var v=n.get(e.name),m=t;return v&&(m=m.remove(new zt(e.name,v))),m.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(l.F)(this.indexes_,(function(t){if(t===pe)return t;var r=n.get(e.name);return r?t.remove(new zt(e.name,r)):t})),this.indexSet_)},t}(),ge=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ae(this.priorityNode_),this.children_.isEmpty()&&Object(l.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return ce||(ce=new t(new Zt(ee),null,ve.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||ce},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?ce:e},t.prototype.getChild=function(path){var t=Et(path);return null===t?this:this.getImmediateChild(t).getChild(kt(path))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(l.f)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new zt(e,n),o=void 0,c=void 0;n.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),c=this.indexMap_.addToIndexes(r,this.children_));var h=o.isEmpty()?ce:this.priorityNode_;return new t(o,h,c)},t.prototype.updateChild=function(path,t){var e=Et(path);if(null===e)return t;Object(l.f)(".priority"!==Et(path)||1===Ct(path),".priority must be the last token in a path");var n=this.getImmediateChild(e).updateChild(kt(path),t);return this.updateImmediateChild(e,n)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,o=0,c=!0;if(this.forEachChild(le,(function(l,h){n[l]=h.val(e),r++,c&&t.INTEGER_REGEXP_.test(l)?o=Math.max(o,Number(l)):c=!1})),!e&&c&&o<2*r){var l=[];for(var h in n)l[h]=n[h];return l}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+oe(this.getPriority().val())+":"),this.forEachChild(le,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":I(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var o=r.getPredecessorKey(new zt(t,e));return o?o.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new zt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new zt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,zt.Wrap),o=r.peek();null!=o&&e.compare(o,t)<0;)r.getNext(),o=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,zt.Wrap),o=r.peek();null!=o&&e.compare(o,t)>0;)r.getNext(),o=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===me?-1:0},t.prototype.withIndex=function(e){if(e===Yt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Yt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(le),r=e.getIterator(le),o=n.getNext(),c=r.getNext();o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=n.getNext(),c=r.getNext()}return null===o&&null===c}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Yt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),me=new(function(t){function e(){return t.call(this,new Zt(ee),ge.EMPTY_NODE,ve.Default)||this}return Object(h.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return ge.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ge));Object.defineProperties(zt,{MIN:{value:new zt(R,ge.EMPTY_NODE)},MAX:{value:new zt(D,me)}}),$t.__EMPTY_NODE=ge.EMPTY_NODE,se.__childrenNodeConstructor=ge,Bt=me,function(t){ie=t}(me);function ye(t,e){if(void 0===e&&(e=null),null===t)return ge.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(l.f)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new se(t,ye(e));if(t instanceof Array){var n=ge.EMPTY_NODE;return B(t,(function(e,r){if(Object(l.k)(t,e)&&"."!==e.substring(0,1)){var o=ye(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(e,o))}})),n.updatePriority(ye(e))}var r=[],o=!1;if(B(t,(function(t,e){if("."!==t.substring(0,1)){var n=ye(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new zt(t,n)))}})),0===r.length)return ge.EMPTY_NODE;var c=de(r,te,(function(t){return t.name}),ee);if(o){var h=de(r,le.getCompare());return new ge(c,ye(e),new ve({".priority":h},{".priority":le}))}return new ge(c,ye(e),ve.Default)}!function(t){re=t}(ye);var be,_e,we=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(l.f)(!Pt(e)&&".priority"!==Et(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(h.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(a,b){var t=this.extractChild(a.node),e=this.extractChild(b.node),n=t.compareTo(e);return 0===n?M(a.name,b.name):n},e.prototype.makePost=function(t,e){var n=ye(t),r=ge.EMPTY_NODE.updateChild(this.indexPath_,n);return new zt(e,r)},e.prototype.maxPost=function(){var t=ge.EMPTY_NODE.updateChild(this.indexPath_,me);return new zt(D,t)},e.prototype.toString=function(){return Nt(this.indexPath_,0).join("/")},e}(Gt),Oe=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h.c)(e,t),e.prototype.compare=function(a,b){var t=a.node.compareTo(b.node);return 0===t?M(a.name,b.name):t},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return zt.MIN},e.prototype.maxPost=function(){return zt.MAX},e.prototype.makePost=function(t,e){var n=ye(t);return new zt(e,n)},e.prototype.toString=function(){return".value"},e}(Gt)),Ie="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Te=(be=0,_e=[],function(t){var i,e=t===be;be=t;var n=new Array(8);for(i=7;i>=0;i--)n[i]=Ie.charAt(t%64),t=Math.floor(t/64);Object(l.f)(0===t,"Cannot push at time == 0");var r=n.join("");if(e){for(i=11;i>=0&&63===_e[i];i--)_e[i]=0;_e[i]++}else for(i=0;i<12;i++)_e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)r+=Ie.charAt(_e[i]);return Object(l.f)(20===r.length,"nextPushId: Length should be 20."),r}),Se=function(t){if("2147483647"===t)return"-";var e=G(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return D;var source=n[i],o=Ie.charAt(Ie.indexOf(source)+1);return n[i]=o,n.slice(0,i+1).join("")},Ee=function(t){if("-2147483648"===t)return R;var e=G(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),i=0;i<n.length;i++)n[i]=t.charAt(i);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=Ie.charAt(Ie.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function Ce(t){return{type:"value",snapshotNode:t}}function ke(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function xe(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ne(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var je=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,source,o){Object(l.f)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var c=t.getImmediateChild(e);return c.getChild(r).equals(n.getChild(r))&&c.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(xe(e,c)):Object(l.f)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(ke(e,n)):o.trackChildChange(Ne(e,n,c))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(le,(function(t,r){e.hasChild(t)||n.trackChildChange(xe(t,r))})),e.isLeafNode()||e.forEachChild(le,(function(e,r){if(t.hasChild(e)){var o=t.getImmediateChild(e);o.equals(r)||n.trackChildChange(Ne(e,r,o))}else n.trackChildChange(ke(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?ge.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Ae=function(){function t(e){this.indexedFilter_=new je(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,source,o){return this.matches(new zt(e,n))||(n=ge.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,source,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=ge.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(ge.EMPTY_NODE);var o=this;return e.forEachChild(le,(function(t,e){o.matches(new zt(t,e))||(r=r.updateImmediateChild(t,ge.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Pe=function(){function t(t){this.rangedFilter_=new Ae(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,source,o){return this.rangedFilter_.matches(new zt(e,n))||(n=ge.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,source,o):this.fullLimitUpdateChild_(t,e,n,source,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=ge.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=ge.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var c=0;o.hasNext()&&c<this.limit_;){var l=o.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:this.index_.compare(l,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(l.name,l.node),c++}}else{r=(r=e.withIndex(this.index_)).updatePriority(ge.EMPTY_NODE);var h=void 0,f=void 0,d=void 0;o=void 0;if(this.reverse_){o=r.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();var v=this.index_.getCompare();d=function(a,b){return v(b,a)}}else o=r.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();c=0;for(var m=!1;o.hasNext();){l=o.getNext();!m&&d(h,l)<=0&&(m=!0),m&&c<this.limit_&&d(l,f)<=0?c++:r=r.updateImmediateChild(l.name,ge.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,source,r){var o;if(this.reverse_){var c=this.index_.getCompare();o=function(a,b){return c(b,a)}}else o=this.index_.getCompare();var h=t;Object(l.f)(h.numChildren()===this.limit_,"");var f=new zt(e,n),d=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),v=this.rangedFilter_.matches(f);if(h.hasChild(e)){for(var m=h.getImmediateChild(e),y=source.getChildAfterChild(this.index_,d,this.reverse_);null!=y&&(y.name===e||h.hasChild(y.name));)y=source.getChildAfterChild(this.index_,y,this.reverse_);var _=null==y?1:o(y,f);if(v&&!n.isEmpty()&&_>=0)return null!=r&&r.trackChildChange(Ne(e,n,m)),h.updateImmediateChild(e,n);null!=r&&r.trackChildChange(xe(e,m));var w=h.updateImmediateChild(e,ge.EMPTY_NODE);return null!=y&&this.rangedFilter_.matches(y)?(null!=r&&r.trackChildChange(ke(y.name,y.node)),w.updateImmediateChild(y.name,y.node)):w}return n.isEmpty()?t:v&&o(d,f)>=0?(null!=r&&(r.trackChildChange(xe(d.name,d.node)),r.trackChildChange(ke(e,n))),h.updateImmediateChild(e,n).updateImmediateChild(d.name,ge.EMPTY_NODE)):t},t}(),Re=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=le}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(l.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(l.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:R},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(l.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(l.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:D},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(l.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===le},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function De(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Me(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Le(t,e){var n=t.copy();return n.index_=e,n}function Fe(t){var e,n={};return t.isDefault()||(t.index_===le?e="$priority":t.index_===Oe?e="$value":t.index_===Yt?e="$key":(Object(l.f)(t.index_ instanceof we,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(l.K)(e),t.startSet_&&(n.startAt=Object(l.K)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(l.K)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(l.K)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(l.K)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function Ue(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==le&&(e.i=t.index_.toString()),e}var qe=function(t){function e(e,n,r){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.log_=x("p:rest:"),o.listens_={},o}return Object(h.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(l.f)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,o){var c=this,h=t._path.toString();this.log_("Listen called for "+h+" "+t._queryIdentifier);var f=e.getListenId_(t,r),d={};this.listens_[f]=d;var v=Fe(t._queryParams);this.restRequest_(h+".json",v,(function(t,e){var data=e;(404===t&&(data=null,t=null),null===t&&c.onDataUpdate_(h,data,!1,r),Object(l.H)(c.listens_,f)===d)&&o(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Fe(t._queryParams),r=t._path.toString(),o=new l.a;return this.restRequest_(r+".json",n,(function(t,n){var data=n;404===t&&(data=null,t=null),null===t?(e.onDataUpdate_(r,data,!1,null),o.resolve(data)):o.reject(new Error(data))})),o.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(o){var c=o&&o.accessToken;c&&(e.auth=c);var h=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(l.G)(e);r.log_("Sending REST request for "+h);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(n&&4===f.readyState){r.log_("REST Response for "+h+" received. status:",f.status,"response:",f.responseText);var t=null;if(f.status>=200&&f.status<300){try{t=Object(l.E)(f.responseText)}catch(t){A("Failed to parse JSON response for "+h+": "+f.responseText)}n(null,t)}else 401!==f.status&&404!==f.status&&A("Got unsuccessful REST response for "+h+" Status: "+f.status),n(f.status);n=null}},f.open("GET",h,!0),f.send()}))},e}(wt),Ve=function(){function t(){this.rootNode_=ge.EMPTY_NODE}return t.prototype.getNode=function(path){return this.rootNode_.getChild(path)},t.prototype.updateSnapshot=function(path,t){this.rootNode_=this.rootNode_.updateChild(path,t)},t}();function Be(){return{value:null,children:new Map}}function Ke(t,path,data){if(Pt(path))t.value=data,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(path,data);else{var e=Et(path);t.children.has(e)||t.children.set(e,Be()),Ke(t.children.get(e),path=kt(path),data)}}function We(t,path){if(Pt(path))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var e=t.value;return t.value=null,e.forEachChild(le,(function(e,n){Ke(t,new Tt(e),n)})),We(t,path)}if(t.children.size>0){var n=Et(path);if(path=kt(path),t.children.has(n))We(t.children.get(n),path)&&t.children.delete(n);return 0===t.children.size}return!0}function He(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((function(t,n){e(n,t)}))}(t,(function(t,r){He(r,new Tt(e.toString()+"/"+t),n)}))}var ze,Ge=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(h.a)({},t);return this.last_&&B(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),$e=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ge(t);var n=1e4+2e4*Math.random();Y(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;B(e,(function(e,o){o>0&&Object(l.k)(t.statsToReport_,e)&&(n[e]=o,r=!0)})),r&&this.server_.reportStats(n),Y(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}();function Ye(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ze||(ze={}));var Xe,Je=function(){function t(path,t,e){this.path=path,this.affectedTree=t,this.revert=e,this.type=ze.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(Pt(this.path)){if(null!=this.affectedTree.value)return Object(l.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Tt(e));return new t(St(),n,this.revert)}return Object(l.f)(Et(this.path)===e,"operationForChild called for unrelated child."),new t(kt(this.path),this.affectedTree,this.revert)},t}(),Qe=function(){function t(source,path){this.source=source,this.path=path,this.type=ze.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Pt(this.path)?new t(this.source,St()):new t(this.source,kt(this.path))},t}(),Ze=function(){function t(source,path,t){this.source=source,this.path=path,this.snap=t,this.type=ze.OVERWRITE}return t.prototype.operationForChild=function(e){return Pt(this.path)?new t(this.source,St(),this.snap.getImmediateChild(e)):new t(this.source,kt(this.path),this.snap)},t}(),tn=function(){function t(source,path,t){this.source=source,this.path=path,this.children=t,this.type=ze.MERGE}return t.prototype.operationForChild=function(e){if(Pt(this.path)){var n=this.children.subtree(new Tt(e));return n.isEmpty()?null:n.value?new Ze(this.source,St(),n.value):new t(this.source,St(),n)}return Object(l.f)(Et(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,kt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),en=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(path){if(Pt(path))return this.isFullyInitialized()&&!this.filtered_;var t=Et(path);return this.isCompleteForChild(t)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),nn=function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()};function rn(t,e,n,r,o,c){var h=r.filter((function(t){return t.type===n}));h.sort((function(a,b){return function(t,a,b){if(null==a.childName||null==b.childName)throw Object(l.g)("Should only compare child_ events.");var e=new zt(a.childName,a.snapshotNode),n=new zt(b.childName,b.snapshotNode);return t.index_.compare(e,n)}(t,a,b)})),h.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,c);o.forEach((function(o){o.respondsTo(n.type)&&e.push(o.createEvent(r,t.query_))}))}))}function on(t,e){return{eventCache:t,serverCache:e}}function an(t,e,n,r){return on(new en(e,n,r),t.serverCache)}function sn(t,e,n,r){return on(t.eventCache,new en(e,n,r))}function un(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function cn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var ln=function(){function t(t,e){void 0===e&&(Xe||(Xe=new Zt(L)),e=Xe),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return B(e,(function(t,e){n=n.set(new Tt(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:St(),value:this.value};if(Pt(t))return null;var n=Et(t),r=this.children.get(n);if(null!==r){var o=r.findRootMostMatchingPathAndValue(kt(t),e);return null!=o?{path:At(new Tt(n),o.path),value:o.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(Pt(e))return this;var n=Et(e),r=this.children.get(n);return null!==r?r.subtree(kt(e)):new t(null)},t.prototype.set=function(e,n){if(Pt(e))return new t(n,this.children);var r=Et(e),o=(this.children.get(r)||new t(null)).set(kt(e),n),c=this.children.insert(r,o);return new t(this.value,c)},t.prototype.remove=function(e){if(Pt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=Et(e),r=this.children.get(n);if(r){var o=r.remove(kt(e)),c=void 0;return c=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&c.isEmpty()?new t(null):new t(this.value,c)}return this},t.prototype.get=function(t){if(Pt(t))return this.value;var e=Et(t),n=this.children.get(e);return n?n.get(kt(t)):null},t.prototype.setTree=function(e,n){if(Pt(e))return n;var r=Et(e),o=(this.children.get(r)||new t(null)).setTree(kt(e),n),c=void 0;return c=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,c)},t.prototype.fold=function(t){return this.fold_(St(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,o){n[r]=o.fold_(At(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(path,t){return this.findOnPath_(path,St(),t)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(Pt(t))return null;var o=Et(t),c=this.children.get(o);return c?c.findOnPath_(kt(t),At(e,o),n):null},t.prototype.foreachOnPath=function(path,t){return this.foreachOnPath_(path,St(),t)},t.prototype.foreachOnPath_=function(e,n,r){if(Pt(e))return this;this.value&&r(n,this.value);var o=Et(e),c=this.children.get(o);return c?c.foreachOnPath_(kt(e),At(n,o),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(St(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(At(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),hn=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new ln(null))},t}();function fn(t,path,e){if(Pt(path))return new hn(new ln(e));var n=t.writeTree_.findRootMostValueAndPath(path);if(null!=n){var r=n.path,o=n.value,c=Rt(r,path);return o=o.updateChild(c,e),new hn(t.writeTree_.set(r,o))}var l=new ln(e),h=t.writeTree_.setTree(path,l);return new hn(h)}function dn(t,path,e){var n=t;return B(e,(function(t,e){n=fn(n,At(path,t),e)})),n}function pn(t,path){if(Pt(path))return hn.empty();var e=t.writeTree_.setTree(path,new ln(null));return new hn(e)}function vn(t,path){return null!=gn(t,path)}function gn(t,path){var e=t.writeTree_.findRootMostValueAndPath(path);return null!=e?t.writeTree_.get(e.path).getChild(Rt(e.path,path)):null}function mn(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(le,(function(t,n){e.push(new zt(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new zt(t,n.value))})),e}function yn(t,path){if(Pt(path))return t;var e=gn(t,path);return new hn(null!=e?new ln(e):t.writeTree_.subtree(path))}function bn(t){return t.writeTree_.isEmpty()}function _n(t,e){return wn(St(),t.writeTree_,e)}function wn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal((function(e,o){".priority"===e?(Object(l.f)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=wn(At(t,e),o,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(At(t,".priority"),r)),n}function On(t,path){return Dn(path,t)}function In(t,e){var n=t.allWrites.findIndex((function(s){return s.writeId===e}));Object(l.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var o=r.visible,c=!1,i=t.allWrites.length-1;o&&i>=0;){var h=t.allWrites[i];h.visible&&(i>=n&&Tn(h,r.path)?o=!1:Lt(r.path,h.path)&&(c=!0)),i--}if(o){if(c)return function(t){t.visibleWrites=En(t.allWrites,Sn,St()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}(t),!0;r.snap?t.visibleWrites=pn(t.visibleWrites,r.path):B(r.children,(function(e){t.visibleWrites=pn(t.visibleWrites,At(r.path,e))}));return!0}return!1}function Tn(t,path){if(t.snap)return Lt(t.path,path);for(var e in t.children)if(t.children.hasOwnProperty(e)&&Lt(At(t.path,e),path))return!0;return!1}function Sn(t){return t.visible}function En(t,filter,e){for(var n=hn.empty(),i=0;i<t.length;++i){var r=t[i];if(filter(r)){var o=r.path,c=void 0;if(r.snap)Lt(e,o)?n=fn(n,c=Rt(e,o),r.snap):Lt(o,e)&&(c=Rt(o,e),n=fn(n,St(),r.snap.getChild(c)));else{if(!r.children)throw Object(l.g)("WriteRecord should have .snap or .children");if(Lt(e,o))n=dn(n,c=Rt(e,o),r.children);else if(Lt(o,e))if(Pt(c=Rt(o,e)))n=dn(n,St(),r.children);else{var h=Object(l.H)(r.children,Et(c));if(h){var f=h.getChild(kt(c));n=fn(n,St(),f)}}}}}return n}function Cn(t,e,n,r,o){if(r||o){var c=yn(t.visibleWrites,e);if(!o&&bn(c))return n;if(o||null!=n||vn(c,St())){return _n(En(t.allWrites,(function(t){return(t.visible||o)&&(!r||!~r.indexOf(t.writeId))&&(Lt(t.path,e)||Lt(e,t.path))}),e),n||ge.EMPTY_NODE)}return null}var l=gn(t.visibleWrites,e);if(null!=l)return l;var h=yn(t.visibleWrites,e);return bn(h)?n:null!=n||vn(h,St())?_n(h,n||ge.EMPTY_NODE):null}function kn(t,e,n,r){return Cn(t.writeTree,t.treePath,e,n,r)}function xn(t,e){return function(t,e,n){var r=ge.EMPTY_NODE,o=gn(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(le,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var c=yn(t.visibleWrites,e);return n.forEachChild(le,(function(t,e){var n=_n(yn(c,new Tt(t)),e);r=r.updateImmediateChild(t,n)})),mn(c).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}return mn(yn(t.visibleWrites,e)).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}(t.writeTree,t.treePath,e)}function Nn(t,path,e,n){return function(t,e,n,r,o){Object(l.f)(r||o,"Either existingEventSnap or existingServerSnap must exist");var path=At(e,n);if(vn(t.visibleWrites,path))return null;var c=yn(t.visibleWrites,path);return bn(c)?o.getChild(n):_n(c,o.getChild(n))}(t.writeTree,t.treePath,path,e,n)}function jn(t,path){return function(t,path){return gn(t.visibleWrites,path)}(t.writeTree,At(t.treePath,path))}function An(t,e,n,r,o,c){return function(t,e,n,r,o,c,l){var h,f=yn(t.visibleWrites,e),d=gn(f,St());if(null!=d)h=d;else{if(null==n)return[];h=_n(f,n)}if((h=h.withIndex(l)).isEmpty()||h.isLeafNode())return[];for(var v=[],m=l.getCompare(),y=c?h.getReverseIteratorFrom(r,l):h.getIteratorFrom(r,l),_=y.getNext();_&&v.length<o;)0!==m(_,r)&&v.push(_),_=y.getNext();return v}(t.writeTree,t.treePath,e,n,r,o,c)}function Pn(t,e,n){return function(t,e,n,r){var path=At(e,n),o=gn(t.visibleWrites,path);return null!=o?o:r.isCompleteForChild(n)?_n(yn(t.visibleWrites,path),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function Rn(t,e){return Dn(At(t.treePath,e),t.writeTree)}function Dn(path,t){return{treePath:path,writeTree:t}}var Mn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(l.f)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(l.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(n,Ne(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(n,xe(n,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(n,ke(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw Object(l.g)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Ne(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Ln=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Fn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new en(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:cn(this.viewCache_),o=An(this.writes_,r,e,1,n,t);return 0===o.length?null:o[0]},t}();function Un(t,e,n,r,o){var c,h,f=new Mn;if(n.type===ze.OVERWRITE){var d=n;d.source.fromUser?c=Bn(t,e,d.path,d.snap,r,o,f):(Object(l.f)(d.source.fromServer,"Unknown source."),h=d.source.tagged||e.serverCache.isFiltered()&&!Pt(d.path),c=Vn(t,e,d.path,d.snap,r,o,h,f))}else if(n.type===ze.MERGE){var v=n;v.source.fromUser?c=function(t,e,path,n,r,o,c){var l=e;return n.foreach((function(n,h){var f=At(path,n);Kn(e,Et(f))&&(l=Bn(t,l,f,h,r,o,c))})),n.foreach((function(n,h){var f=At(path,n);Kn(e,Et(f))||(l=Bn(t,l,f,h,r,o,c))})),l}(t,e,v.path,v.children,r,o,f):(Object(l.f)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered(),c=Hn(t,e,v.path,v.children,r,o,h,f))}else if(n.type===ze.ACK_USER_WRITE){var m=n;c=m.revert?function(t,e,path,n,r,o){var c;if(null!=jn(n,path))return e;var source=new Fn(n,e,r),h=e.eventCache.getNode(),f=void 0;if(Pt(path)||".priority"===Et(path)){var d=void 0;if(e.serverCache.isFullyInitialized())d=kn(n,cn(e));else{var v=e.serverCache.getNode();Object(l.f)(v instanceof ge,"serverChildren would be complete if leaf node"),d=xn(n,v)}d=d,f=t.filter.updateFullNode(h,d,o)}else{var m=Et(path),y=Pn(n,m,e.serverCache);null==y&&e.serverCache.isCompleteForChild(m)&&(y=h.getImmediateChild(m)),(f=null!=y?t.filter.updateChild(h,m,y,kt(path),source,o):e.eventCache.getNode().hasChild(m)?t.filter.updateChild(h,m,ge.EMPTY_NODE,kt(path),source,o):h).isEmpty()&&e.serverCache.isFullyInitialized()&&(c=kn(n,cn(e))).isLeafNode()&&(f=t.filter.updateFullNode(f,c,o))}return c=e.serverCache.isFullyInitialized()||null!=jn(n,St()),an(e,f,c,t.filter.filtersNodes())}(t,e,m.path,r,o,f):function(t,e,n,r,o,c,l){if(null!=jn(o,n))return e;var h=e.serverCache.isFiltered(),f=e.serverCache;if(null!=r.value){if(Pt(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return Vn(t,e,n,f.getNode().getChild(n),o,c,h,l);if(Pt(n)){var d=new ln(null);return f.getNode().forEachChild(Yt,(function(t,e){d=d.set(new Tt(t),e)})),Hn(t,e,n,d,o,c,h,l)}return e}var v=new ln(null);return r.foreach((function(t,e){var r=At(n,t);f.isCompleteForPath(r)&&(v=v.set(t,f.getNode().getChild(r)))})),Hn(t,e,n,v,o,c,h,l)}(t,e,m.path,m.affectedTree,r,o,f)}else{if(n.type!==ze.LISTEN_COMPLETE)throw Object(l.g)("Unknown operation type: "+n.type);c=function(t,e,path,n,r){var o=e.serverCache,c=sn(e,o.getNode(),o.isFullyInitialized()||Pt(path),o.isFiltered());return qn(t,c,path,n,Ln,r)}(t,e,n.path,r,f)}var y=f.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=un(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&n.push(Ce(un(e)))}}(e,c,y),{viewCache:c,changes:y}}function qn(t,e,n,r,source,o){var c=e.eventCache;if(null!=jn(r,n))return e;var h=void 0,f=void 0;if(Pt(n))if(Object(l.f)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var d=cn(e),v=xn(r,d instanceof ge?d:ge.EMPTY_NODE);h=t.filter.updateFullNode(e.eventCache.getNode(),v,o)}else{var m=kn(r,cn(e));h=t.filter.updateFullNode(e.eventCache.getNode(),m,o)}else{var y=Et(n);if(".priority"===y){Object(l.f)(1===Ct(n),"Can't have a priority with additional path components");var _=c.getNode(),w=Nn(r,n,_,f=e.serverCache.getNode());h=null!=w?t.filter.updatePriority(_,w):c.getNode()}else{var O=kt(n),I=void 0;if(c.isCompleteForChild(y)){f=e.serverCache.getNode();var T=Nn(r,n,c.getNode(),f);I=null!=T?c.getNode().getImmediateChild(y).updateChild(O,T):c.getNode().getImmediateChild(y)}else I=Pn(r,y,e.serverCache);h=null!=I?t.filter.updateChild(c.getNode(),y,I,O,source,o):c.getNode()}}return an(e,h,c.isFullyInitialized()||Pt(n),t.filter.filtersNodes())}function Vn(t,e,n,r,o,c,l,h){var f,d=e.serverCache,v=l?t.filter:t.filter.getIndexedFilter();if(Pt(n))f=v.updateFullNode(d.getNode(),r,null);else if(v.filtersNodes()&&!d.isFiltered()){var m=d.getNode().updateChild(n,r);f=v.updateFullNode(d.getNode(),m,null)}else{var y=Et(n);if(!d.isCompleteForPath(n)&&Ct(n)>1)return e;var _=kt(n),w=d.getNode().getImmediateChild(y).updateChild(_,r);f=".priority"===y?v.updatePriority(d.getNode(),w):v.updateChild(d.getNode(),y,w,_,Ln,null)}var O=sn(e,f,d.isFullyInitialized()||Pt(n),v.filtersNodes());return qn(t,O,n,o,new Fn(o,O,c),h)}function Bn(t,e,n,r,o,c,l){var h,f,d=e.eventCache,source=new Fn(o,e,c);if(Pt(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,l),h=an(e,f,!0,t.filter.filtersNodes());else{var v=Et(n);if(".priority"===v)f=t.filter.updatePriority(e.eventCache.getNode(),r),h=an(e,f,d.isFullyInitialized(),d.isFiltered());else{var m=kt(n),y=d.getNode().getImmediateChild(v),_=void 0;if(Pt(m))_=r;else{var w=source.getCompleteChild(v);_=null!=w?".priority"===xt(m)&&w.getChild(jt(m)).isEmpty()?w:w.updateChild(m,r):ge.EMPTY_NODE}if(y.equals(_))h=e;else h=an(e,t.filter.updateChild(d.getNode(),v,_,m,source,l),d.isFullyInitialized(),t.filter.filtersNodes())}}return h}function Kn(t,e){return t.eventCache.isCompleteForChild(e)}function Wn(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function Hn(t,e,path,n,r,o,c,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var h,f=e;h=Pt(path)?n:new ln(null).setTree(path,n);var d=e.serverCache.getNode();return h.children.inorderTraversal((function(n,h){if(d.hasChild(n)){var v=Wn(0,e.serverCache.getNode().getImmediateChild(n),h);f=Vn(t,f,new Tt(n),v,r,o,c,l)}})),h.children.inorderTraversal((function(n,h){var v=!e.serverCache.isCompleteForChild(n)&&void 0===h.value;if(!d.hasChild(n)&&!v){var m=Wn(0,e.serverCache.getNode().getImmediateChild(n),h);f=Vn(t,f,new Tt(n),m,r,o,c,l)}})),f}var zn,Gn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,o=new je(r.getIndex()),filter=(n=r).loadsAllData()?new je(n.getIndex()):n.hasLimit()?new Pe(n):new Ae(n);this.processor_=function(filter){return{filter:filter}}(filter);var c=e.serverCache,l=e.eventCache,h=o.updateFullNode(ge.EMPTY_NODE,c.getNode(),null),f=filter.updateFullNode(ge.EMPTY_NODE,l.getNode(),null),d=new en(h,c.isFullyInitialized(),o.filtersNodes()),v=new en(f,l.isFullyInitialized(),filter.filtersNodes());this.viewCache_=on(v,d),this.eventGenerator_=new nn(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function $n(view,path){var t=cn(view.viewCache_);return t&&(view.query._queryParams.loadsAllData()||!Pt(path)&&!t.getImmediateChild(Et(path)).isEmpty())?t.getChild(path):null}function Yn(view){return 0===view.eventRegistrations_.length}function Xn(view,t,e){var n=[];if(e){Object(l.f)(null==t,"A cancel should cancel all event registrations.");var r=view.query._path;view.eventRegistrations_.forEach((function(t){var o=t.createCancelEvent(e,r);o&&n.push(o)}))}if(t){for(var o=[],i=0;i<view.eventRegistrations_.length;++i){var c=view.eventRegistrations_[i];if(c.matches(t)){if(t.hasAnyCallback()){o=o.concat(view.eventRegistrations_.slice(i+1));break}}else o.push(c)}view.eventRegistrations_=o}else view.eventRegistrations_=[];return n}function Jn(view,t,e,n){t.type===ze.MERGE&&null!==t.source.queryId&&(Object(l.f)(cn(view.viewCache_),"We should always have a full cache before handling merges"),Object(l.f)(un(view.viewCache_),"Missing event cache, even though we have a server cache"));var r,o,c=view.viewCache_,h=Un(view.processor_,c,t,e,n);return r=view.processor_,o=h.viewCache,Object(l.f)(o.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),Object(l.f)(o.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed"),Object(l.f)(h.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),view.viewCache_=h.viewCache,Qn(view,h.changes,h.viewCache.eventCache.getNode(),null)}function Qn(view,t,e,n){var r=n?[n]:view.eventRegistrations_;return function(t,e,n,r){var o=[],c=[];return e.forEach((function(e){var n;"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&c.push((n=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:n}))})),rn(t,o,"child_removed",e,r,n),rn(t,o,"child_added",e,r,n),rn(t,o,"child_moved",c,r,n),rn(t,o,"child_changed",e,r,n),rn(t,o,"value",e,r,n),o}(view.eventGenerator_,t,e,r)}var Zn,er=function(){this.views=new Map};function nr(t,e,n,r){var o,c,f=e.source.queryId;if(null!==f){var view=t.views.get(f);return Object(l.f)(null!=view,"SyncTree gave us an op for an invalid query."),Jn(view,e,n,r)}var d=[];try{for(var v=Object(h.g)(t.views.values()),m=v.next();!m.done;m=v.next()){view=m.value;d=d.concat(Jn(view,e,n,r))}}catch(t){o={error:t}}finally{try{m&&!m.done&&(c=v.return)&&c.call(v)}finally{if(o)throw o.error}}return d}function rr(t,e,n,r,o){var c=e._queryIdentifier,view=t.views.get(c);if(!view){var l=kn(n,o?r:null),h=!1;l?h=!0:r instanceof ge?(l=xn(n,r),h=!1):(l=ge.EMPTY_NODE,h=!1);var f=on(new en(l,h,!1),new en(r,o,!1));return new Gn(e,f)}return view}function ir(t,e,n,r,o,c){var view=rr(t,e,r,o,c);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,view),function(view,t){view.eventRegistrations_.push(t)}(view,n),function(view,t){var e=view.viewCache_.eventCache,n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(le,(function(t,e){n.push(ke(t,e))})),e.isFullyInitialized()&&n.push(Ce(e.getNode())),Qn(view,n,e.getNode(),t)}(view,n)}function or(t,e,n,r){var o,c,f=e._queryIdentifier,d=[],v=[],m=lr(t);if("default"===f)try{for(var y=Object(h.g)(t.views.entries()),_=y.next();!_.done;_=y.next()){var w=Object(h.e)(_.value,2),O=w[0],view=w[1];v=v.concat(Xn(view,n,r)),Yn(view)&&(t.views.delete(O),view.query._queryParams.loadsAllData()||d.push(view.query))}}catch(t){o={error:t}}finally{try{_&&!_.done&&(c=y.return)&&c.call(y)}finally{if(o)throw o.error}}else(view=t.views.get(f))&&(v=v.concat(Xn(view,n,r)),Yn(view)&&(t.views.delete(f),view.query._queryParams.loadsAllData()||d.push(view.query)));return m&&!lr(t)&&d.push(new(Object(l.f)(zn,"Reference.ts has not been loaded"),zn)(e._repo,e._path)),{removed:d,events:v}}function ar(t){var e,n,r=[];try{for(var o=Object(h.g)(t.views.values()),c=o.next();!c.done;c=o.next()){var view=c.value;view.query._queryParams.loadsAllData()||r.push(view)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}function sr(t,path){var e,n,r=null;try{for(var o=Object(h.g)(t.views.values()),c=o.next();!c.done;c=o.next()){var view=c.value;r=r||$n(view,path)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}function ur(t,e){if(e._queryParams.loadsAllData())return fr(t);var n=e._queryIdentifier;return t.views.get(n)}function cr(t,e){return null!=ur(t,e)}function lr(t){return null!=fr(t)}function fr(t){var e,n;try{for(var r=Object(h.g)(t.views.values()),o=r.next();!o.done;o=r.next()){var view=o.value;if(view.query._queryParams.loadsAllData())return view}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var dr=1,pr=function(t){this.listenProvider_=t,this.syncPointTree_=new ln(null),this.pendingWriteTree_={visibleWrites:hn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function vr(t,path,e,n,r){return function(t,path,e,n,r){Object(l.f)(n>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),t.allWrites.push({path:path,snap:e,writeId:n,visible:r}),r&&(t.visibleWrites=fn(t.visibleWrites,path,e)),t.lastWriteId=n}(t.pendingWriteTree_,path,e,n,r),r?Tr(t,new Ze({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},path,e)):[]}function gr(t,path,e,n){!function(t,path,e,n){Object(l.f)(n>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:path,children:e,writeId:n,visible:!0}),t.visibleWrites=dn(t.visibleWrites,path,e),t.lastWriteId=n}(t.pendingWriteTree_,path,e,n);var r=ln.fromObject(e);return Tr(t,new tn({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},path,r))}function mr(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var i=0;i<t.allWrites.length;i++){var n=t.allWrites[i];if(n.writeId===e)return n}return null}(t.pendingWriteTree_,e);if(In(t.pendingWriteTree_,e)){var o=new ln(null);return null!=r.snap?o=o.set(St(),!0):B(r.children,(function(t){o=o.set(new Tt(t),!0)})),Tr(t,new Je(r.path,o,n))}return[]}function yr(t,path,e){return Tr(t,new Ze({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},path,e))}function _r(t,e,n,r){var path=e._path,o=t.syncPointTree_.get(path),c=[];if(o&&("default"===e._queryIdentifier||cr(o,e))){var l=or(o,e,n,r);0===o.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(path));var h=l.removed;c=l.events;var f=-1!==h.findIndex((function(t){return t._queryParams.loadsAllData()})),d=t.syncPointTree_.findOnPath(path,(function(t,e){return lr(e)}));if(f&&!d){var v=t.syncPointTree_.subtree(path);if(!v.isEmpty())for(var m=function(t){return t.fold((function(t,e,n){if(e&&lr(e))return[fr(e)];var r=[];return e&&(r=ar(e)),B(n,(function(t,e){r=r.concat(e)})),r}))}(v),i=0;i<m.length;++i){var view=m[i],y=view.query,_=Cr(t,view);t.listenProvider_.startListening(Pr(y),kr(t,y),_.hashFn,_.onComplete)}}if(!d&&h.length>0&&!r)if(f){t.listenProvider_.stopListening(Pr(e),null)}else h.forEach((function(e){var n=t.queryToTagMap.get(xr(e));t.listenProvider_.stopListening(Pr(e),n)}));!function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var o=xr(r),c=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(c)}}}(t,h)}return c}function wr(t,e,n){var path=e._path,r=null,o=!1;t.syncPointTree_.foreachOnPath(path,(function(t,e){var n=Rt(t,path);r=r||sr(e,n),o=o||lr(e)}));var c,h=t.syncPointTree_.get(path);(h?(o=o||lr(h),r=r||sr(h,St())):(h=new er,t.syncPointTree_=t.syncPointTree_.set(path,h)),null!=r)?c=!0:(c=!1,r=ge.EMPTY_NODE,t.syncPointTree_.subtree(path).foreachChild((function(t,e){var n=sr(e,St());n&&(r=r.updateImmediateChild(t,n))})));var f=cr(h,e);if(!f&&!e._queryParams.loadsAllData()){var d=xr(e);Object(l.f)(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");var v=dr++;t.queryToTagMap.set(d,v),t.tagToQueryMap.set(v,d)}var m=ir(h,e,n,On(t.pendingWriteTree_,path),r,c);if(!f&&!o){var view=ur(h,e);m=m.concat(function(t,e,view){var path=e._path,n=kr(t,e),r=Cr(t,view),o=t.listenProvider_.startListening(Pr(e),n,r.hashFn,r.onComplete),c=t.syncPointTree_.subtree(path);if(n)Object(l.f)(!lr(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var h=c.fold((function(t,e,n){if(!Pt(t)&&e&&lr(e))return[fr(e).query];var r=[];return e&&(r=r.concat(ar(e).map((function(view){return view.query})))),B(n,(function(t,e){r=r.concat(e)})),r})),i=0;i<h.length;++i){var f=h[i];t.listenProvider_.stopListening(Pr(f),kr(t,f))}return o}(t,e,view))}return m}function Or(t,path,e){var n=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(path,(function(t,e){var n=sr(e,Rt(t,path));if(n)return n}));return Cn(n,path,r,e,!0)}function Ir(t,e){var path=e._path,n=null;t.syncPointTree_.foreachOnPath(path,(function(t,e){var r=Rt(t,path);n=n||sr(e,r)}));var r=t.syncPointTree_.get(path);r?n=n||sr(r,St()):(r=new er,t.syncPointTree_=t.syncPointTree_.set(path,r));var o=null!=n,c=o?new en(n,!0,!1):null;return function(view){return un(view.viewCache_)}(rr(r,e,On(t.pendingWriteTree_,e._path),o?c.getNode():ge.EMPTY_NODE,o))}function Tr(t,e){return Sr(e,t.syncPointTree_,null,On(t.pendingWriteTree_,St()))}function Sr(t,e,n,r){if(Pt(t.path))return Er(t,e,n,r);var o=e.get(St());null==n&&null!=o&&(n=sr(o,St()));var c=[],l=Et(t.path),h=t.operationForChild(l),f=e.children.get(l);if(f&&h){var d=n?n.getImmediateChild(l):null,v=Rn(r,l);c=c.concat(Sr(h,f,d,v))}return o&&(c=c.concat(nr(o,t,r,n))),c}function Er(t,e,n,r){var o=e.get(St());null==n&&null!=o&&(n=sr(o,St()));var c=[];return e.children.inorderTraversal((function(e,o){var l=n?n.getImmediateChild(e):null,h=Rn(r,e),f=t.operationForChild(e);f&&(c=c.concat(Er(f,o,l,h)))})),o&&(c=c.concat(nr(o,t,r,n))),c}function Cr(t,view){var e=view.query,n=kr(t,e);return{hashFn:function(){return(function(view){return view.viewCache_.serverCache.getNode()}(view)||ge.EMPTY_NODE).hash()},onComplete:function(r){if("ok"===r)return n?function(t,path,e){var n=Nr(t,e);if(n){var r=jr(n),o=r.path,c=r.queryId,l=Rt(o,path);return Ar(t,o,new Qe(Ye(c),l))}return[]}(t,e._path,n):function(t,path){return Tr(t,new Qe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},path))}(t,e._path);var o=function(code,t){var e="Unknown Error";"too_big"===code?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===code?e="Client doesn't have permission to access the desired data.":"unavailable"===code&&(e="The service is unavailable");var n=new Error(code+" at "+t._path.toString()+": "+e);return n.code=code.toUpperCase(),n}(r,e);return _r(t,e,null,o)}}}function kr(t,e){var n=xr(e);return t.queryToTagMap.get(n)}function xr(t){return t._path.toString()+"$"+t._queryIdentifier}function Nr(t,e){return t.tagToQueryMap.get(e)}function jr(t){var e=t.indexOf("$");return Object(l.f)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Tt(t.substr(0,e))}}function Ar(t,e,n){var r=t.syncPointTree_.get(e);return Object(l.f)(r,"Missing sync point for query tag that we're tracking"),nr(r,n,On(t.pendingWriteTree_,e),null)}function Pr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(l.f)(Zn,"Reference.ts has not been loaded"),Zn)(t._repo,t._path):t}var Rr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Dr=function(){function t(t,path){this.syncTree_=t,this.path_=path}return t.prototype.getImmediateChild=function(e){var n=At(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Or(this.syncTree_,this.path_)},t}(),Mr=function(t,e,n){return t&&"object"==typeof t?(Object(l.f)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Lr(t[".sv"],e,n):"object"==typeof t[".sv"]?Fr(t[".sv"],e):void Object(l.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Lr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(l.f)(!1,"Unexpected server value: "+t)}},Fr=function(t,e,n){t.hasOwnProperty("increment")||Object(l.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(l.f)(!1,"Unexpected increment value: "+r);var o=e.node();if(Object(l.f)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var c=o.getValue();return"number"!=typeof c?r:c+r},Ur=function(path,t,e,n){return Vr(t,new Dr(e,path),n)},qr=function(t,e,n){return Vr(t,new Rr(e),n)};function Vr(t,e,n){var r,o=t.getPriority().val(),c=Mr(o,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var l=t,h=Mr(l.getValue(),e,n);return h!==l.getValue()||c!==l.getPriority().val()?new se(h,ye(c)):t}var f=t;return r=f,c!==f.getPriority().val()&&(r=r.updatePriority(new se(c))),f.forEachChild(le,(function(t,o){var c=Vr(o,e.getImmediateChild(t),n);c!==o&&(r=r.updateImmediateChild(t,c))})),r}var Br=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n};function Kr(t,e){for(var path=e instanceof Tt?e:new Tt(e),n=t,r=Et(path);null!==r;){var o=Object(l.H)(n.node.children,r)||{children:{},childCount:0};n=new Br(r,n,o),r=Et(path=kt(path))}return n}function Wr(t){return t.node.value}function Hr(t,e){t.node.value=e,Xr(t)}function zr(t){return t.node.childCount>0}function Gr(t,e){B(t.node.children,(function(n,r){e(new Br(n,t,r))}))}function $r(t,e,n,r){n&&!r&&e(t),Gr(t,(function(t){$r(t,e,!0,r)})),n&&r&&e(t)}function Yr(t){return new Tt(null===t.parent?t.name:Yr(t.parent)+"/"+t.name)}function Xr(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===Wr(t)&&!zr(t)}(n),o=Object(l.k)(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,Xr(t)):r||o||(t.node.children[e]=n.node,t.node.childCount++,Xr(t))}(t.parent,t.name,t)}var Jr=/[\[\].#$\/\u0000-\u001F\u007F]/,Qr=/[\[\].#$\u0000-\u001F\u007F]/,Zr=10485760,ti=function(t){return"string"==typeof t&&0!==t.length&&!Jr.test(t)},ei=function(t){return"string"==typeof t&&0!==t.length&&!Qr.test(t)},ni=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!P(t)||t&&"object"==typeof t&&Object(l.k)(t,".sv")},ri=function(t,e,path,n){n&&void 0===e||ii(Object(l.o)(t,"value"),e,path)},ii=function(t,data,e){var path=e instanceof Tt?new Ft(e,t):e;if(void 0===data)throw new Error(t+"contains undefined "+qt(path));if("function"==typeof data)throw new Error(t+"contains a function "+qt(path)+" with contents = "+data.toString());if(P(data))throw new Error(t+"contains "+data.toString()+" "+qt(path));if("string"==typeof data&&data.length>Zr/3&&Object(l.I)(data)>Zr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+qt(path)+" ('"+data.substring(0,50)+"...')");if(data&&"object"==typeof data){var n=!1,r=!1;if(B(data,(function(e,o){if(".value"===e)n=!0;else if(".priority"!==e&&".sv"!==e&&(r=!0,!ti(e)))throw new Error(t+" contains an invalid key ("+e+") "+qt(path)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var c,h;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(l.I)(e),Ut(t)}(path,e),ii(t,o,path),h=(c=path).parts_.pop(),c.byteLength_-=Object(l.I)(h),c.parts_.length>0&&(c.byteLength_-=1)})),n&&r)throw new Error(t+' contains ".value" child '+qt(path)+" in addition to actual children.")}},oi=function(t,data,path,e){if(!e||void 0!==data){var n=Object(l.o)(t,"values");if(!data||"object"!=typeof data||Array.isArray(data))throw new Error(n+" must be an object containing the children to replace.");var r=[];B(data,(function(t,e){var o=new Tt(t);if(ii(n,e,At(path,o)),".priority"===xt(o)&&!ni(e))throw new Error(n+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(o)})),function(t,e){var i,n;for(i=0;i<e.length;i++)for(var r=Nt(n=e[i]),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!ti(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Dt);var c=null;for(i=0;i<e.length;i++){if(n=e[i],null!==c&&Lt(c,n))throw new Error(t+"contains a path "+c.toString()+" that is ancestor of another path "+n.toString());c=n}}(n,r)}},ai=function(t,e,n){if(!n||void 0!==e){if(P(e))throw new Error(Object(l.o)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ni(e))throw new Error(Object(l.o)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},si=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(l.o)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ui=function(t,e,n,r){if(!(r&&void 0===n||ti(n)))throw new Error(Object(l.o)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ci=function(t,e,n,r){if(!(r&&void 0===n||ei(n)))throw new Error(Object(l.o)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},hi=function(t,path){if(".info"===Et(path))throw new Error(t+" failed = Can't modify data under /.info/")},fi=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!ti(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ei(t)}(n))throw new Error(Object(l.o)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},di=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(l.o)(t,e)+"must be a boolean.")},pi=function(){this.eventLists_=[],this.recursionDepth_=0};function vi(t,e){for(var n=null,i=0;i<e.length;i++){var data=e[i],path=data.getPath();null===n||Mt(path,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:path}),n.events.push(data)}n&&t.eventLists_.push(n)}function gi(t,path,e){vi(t,e),yi(t,(function(t){return Mt(t,path)}))}function mi(t,e,n){vi(t,n),yi(t,(function(t){return Lt(t,e)||Lt(e,t)}))}function yi(t,e){t.recursionDepth_++;for(var n=!0,i=0;i<t.eventLists_.length;i++){var r=t.eventLists_[i];if(r)e(r.path)?(bi(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}n&&(t.eventLists_=[]),t.recursionDepth_--}function bi(t){for(var i=0;i<t.events.length;i++){var e=t.events[i];if(null!==e){t.events[i]=null;var n=e.getEventRunner();S&&k("event: "+e.toString()),$(n)}}}var _i="repo_interrupt",wi=function(){function t(t,e,n){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pi,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Be(),this.transactionQueueTree_=new Br,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Oi(t,e,n){if(t.stats_=ut(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new qe(t.repoInfo_,(function(e,data,n,r){Si(t,e,data,n,r)}),t.authTokenProvider_),setTimeout((function(){return Ei(t,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(l.K)(n)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}t.persistentConnection_=new Ht(t.repoInfo_,e,(function(e,data,n,r){Si(t,e,data,n,r)}),(function(e){Ei(t,e)}),(function(e){!function(t,e){B(e,(function(e,n){Ci(t,e,n)}))}(t,e)}),t.authTokenProvider_,n),t.server_=t.persistentConnection_}var r,o,c;t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.statsReporter_=(r=t.repoInfo_,o=function(){return new $e(t.stats_,t.server_)},c=r.toString(),st[c]||(st[c]=o()),st[c]),t.infoData_=new Ve,t.infoSyncTree_=new pr({startListening:function(e,n,r,o){var c=[],l=t.infoData_.getNode(e._path);return l.isEmpty()||(c=yr(t.infoSyncTree_,e._path,l),setTimeout((function(){o("ok")}),0)),c},stopListening:function(){}}),Ci(t,"connected",!1),t.serverSyncTree_=new pr({startListening:function(e,n,r,o){return t.server_.listen(e,r,n,(function(n,data){var r=o(n,data);mi(t.eventQueue_,e._path,r)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}function Ii(t){var e=t.infoData_.getNode(new Tt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Ti(t){return(e=(e={timestamp:Ii(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Si(t,e,data,n,r){t.dataUpdateCount++;var path=new Tt(e);data=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,data):data;var o=[];if(r)if(n){var c=Object(l.F)(data,(function(t){return ye(t)}));o=function(t,path,e,n){var r=Nr(t,n);if(r){var o=jr(r),c=o.path,l=o.queryId,h=Rt(c,path),f=ln.fromObject(e);return Ar(t,c,new tn(Ye(l),h,f))}return[]}(t.serverSyncTree_,path,c,r)}else{var h=ye(data);o=function(t,path,e,n){var r=Nr(t,n);if(null!=r){var o=jr(r),c=o.path,l=o.queryId,h=Rt(c,path);return Ar(t,c,new Ze(Ye(l),h,e))}return[]}(t.serverSyncTree_,path,h,r)}else if(n){var f=Object(l.F)(data,(function(t){return ye(t)}));o=function(t,path,e){var n=ln.fromObject(e);return Tr(t,new tn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},path,n))}(t.serverSyncTree_,path,f)}else{var d=ye(data);o=yr(t.serverSyncTree_,path,d)}var v=path;o.length>0&&(v=Fi(t,path)),mi(t.eventQueue_,v,o)}function Ei(t,e){Ci(t,"connected",e),!1===e&&function(t){Ri(t,"onDisconnectEvents");var e=Ti(t),n=Be();He(t.onDisconnect_,St(),(function(path,r){var o=Ur(path,r,t.serverSyncTree_,e);Ke(n,path,o)}));var r=[];He(n,St(),(function(path,e){r=r.concat(yr(t.serverSyncTree_,path,e));var n=Ki(t,path);Fi(t,n)})),t.onDisconnect_=Be(),mi(t.eventQueue_,St(),r)}(t)}function Ci(t,e,n){var path=new Tt("/.info/"+e),r=ye(n);t.infoData_.updateSnapshot(path,r);var o=yr(t.infoSyncTree_,path,r);mi(t.eventQueue_,path,o)}function ki(t){return t.nextWriteId_++}function xi(t,path,e,n,r){Ri(t,"set",{path:path.toString(),value:e,priority:n});var o=Ti(t),c=ye(e,n),l=Or(t.serverSyncTree_,path),h=qr(c,l,o),f=ki(t),d=vr(t.serverSyncTree_,path,h,f,!0);vi(t.eventQueue_,d),t.server_.put(path.toString(),c.val(!0),(function(e,n){var o="ok"===e;o||A("set at "+path+" failed: "+e);var c=mr(t.serverSyncTree_,f,!o);mi(t.eventQueue_,path,c),Di(t,r,e,n)}));var v=Ki(t,path);Fi(t,v),mi(t.eventQueue_,v,[])}function Ni(t,path,e){t.server_.onDisconnectCancel(path.toString(),(function(n,r){"ok"===n&&We(t.onDisconnect_,path),Di(t,e,n,r)}))}function ji(t,path,e,n){var r=ye(e);t.server_.onDisconnectPut(path.toString(),r.val(!0),(function(e,o){"ok"===e&&Ke(t.onDisconnect_,path,r),Di(t,n,e,o)}))}function Ai(t,e,n){var r;r=".info"===Et(e._path)?_r(t.infoSyncTree_,e,n):_r(t.serverSyncTree_,e,n),gi(t.eventQueue_,e._path,r)}function Pi(t){t.persistentConnection_&&t.persistentConnection_.interrupt(_i)}function Ri(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),k.apply(void 0,Object(h.f)([r],Object(h.e)(e)))}function Di(t,e,n,r){e&&$((function(){if("ok"===n)e(null);else{var code=(n||"error").toUpperCase(),t=code;r&&(t+=": "+r);var o=new Error(t);o.code=code,e(o)}}))}function Mi(t,path,e){return Or(t.serverSyncTree_,path,e)||ge.EMPTY_NODE}function Li(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||Bi(t,e),Wr(e)){var n=qi(t,e);Object(l.f)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return 0===t.status}))&&function(t,path,e){for(var n=e.map((function(t){return t.currentWriteId})),r=Mi(t,path,n),o=r,c=r.hash(),i=0;i<e.length;i++){var h=e[i];Object(l.f)(0===h.status,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;var f=Rt(path,h.path);o=o.updateChild(f,h.currentOutputSnapshotRaw)}var d=o.val(!0),v=path;t.server_.put(v.toString(),d,(function(n){Ri(t,"transaction put response",{path:v.toString(),status:n});var r=[];if("ok"===n){for(var o=[],c=function(i){e[i].status=2,r=r.concat(mr(t.serverSyncTree_,e[i].currentWriteId)),e[i].onComplete&&o.push((function(){return e[i].onComplete(null,!0,e[i].currentOutputSnapshotResolved)})),e[i].unwatcher()},i=0;i<e.length;i++)c(i);Bi(t,Kr(t.transactionQueueTree_,path)),Li(t,t.transactionQueueTree_),mi(t.eventQueue_,path,r);for(i=0;i<o.length;i++)$(o[i])}else{if("datastale"===n)for(i=0;i<e.length;i++)3===e[i].status?e[i].status=4:e[i].status=0;else{A("transaction at "+v.toString()+" failed: "+n);for(i=0;i<e.length;i++)e[i].status=4,e[i].abortReason=n}Fi(t,path)}}),c)}(t,Yr(e),n)}else zr(e)&&Gr(e,(function(e){Li(t,e)}))}function Fi(t,e){var n=Ui(t,e),path=Yr(n);return function(t,e,path){if(0===e.length)return;for(var n=[],r=[],o=e.filter((function(q){return 0===q.status})).map((function(q){return q.currentWriteId})),c=function(i){var c,h,f=e[i],d=Rt(path,f.path),v=!1;if(Object(l.f)(null!==d,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)v=!0,c=f.abortReason,r=r.concat(mr(t.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)v=!0,c="maxretry",r=r.concat(mr(t.serverSyncTree_,f.currentWriteId,!0));else{var m=Mi(t,f.path,o);f.currentInputSnapshot=m;var y=e[i].update(m.val());if(void 0!==y){ii("transaction failed: Data returned ",y,f.path);var _=ye(y);"object"==typeof y&&null!=y&&Object(l.k)(y,".priority")||(_=_.updatePriority(m.getPriority()));var w=f.currentWriteId,O=Ti(t),I=qr(_,m,O);f.currentOutputSnapshotRaw=_,f.currentOutputSnapshotResolved=I,f.currentWriteId=ki(t),o.splice(o.indexOf(w),1),r=(r=r.concat(vr(t.serverSyncTree_,f.path,I,f.currentWriteId,f.applyLocally))).concat(mr(t.serverSyncTree_,w,!0))}else v=!0,c="nodata",r=r.concat(mr(t.serverSyncTree_,f.currentWriteId,!0))}mi(t.eventQueue_,path,r),r=[],v&&(e[i].status=2,h=e[i].unwatcher,setTimeout(h,Math.floor(0)),e[i].onComplete&&("nodata"===c?n.push((function(){return e[i].onComplete(null,!1,e[i].currentInputSnapshot)})):n.push((function(){return e[i].onComplete(new Error(c),!1,null)}))))},i=0;i<e.length;i++)c(i);Bi(t,t.transactionQueueTree_);for(i=0;i<n.length;i++)$(n[i]);Li(t,t.transactionQueueTree_)}(t,qi(t,n),path),path}function Ui(t,path){var e,n=t.transactionQueueTree_;for(e=Et(path);null!==e&&void 0===Wr(n);)n=Kr(n,e),e=Et(path=kt(path));return n}function qi(t,e){var n=[];return Vi(t,e,n),n.sort((function(a,b){return a.order-b.order})),n}function Vi(t,e,n){var r=Wr(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Gr(e,(function(e){Vi(t,e,n)}))}function Bi(t,e){var n=Wr(e);if(n){for(var r=0,o=0;o<n.length;o++)2!==n[o].status&&(n[r]=n[o],r++);n.length=r,Hr(e,n.length>0?n:void 0)}Gr(e,(function(e){Bi(t,e)}))}function Ki(t,path){var e=Yr(Ui(t,path)),n=Kr(t.transactionQueueTree_,path);return function(t,e,n){for(var r=n?t:t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(n,(function(e){Wi(t,e)})),Wi(t,n),$r(n,(function(e){Wi(t,e)})),e}function Wi(t,e){var n=Wr(e);if(n){for(var r=[],o=[],c=-1,i=0;i<n.length;i++)3===n[i].status||(1===n[i].status?(Object(l.f)(c===i-1,"All SENT items should be at beginning of queue."),c=i,n[i].status=3,n[i].abortReason="set"):(Object(l.f)(0===n[i].status,"Unexpected transaction status in abort"),n[i].unwatcher(),o=o.concat(mr(t.serverSyncTree_,n[i].currentWriteId,!0)),n[i].onComplete&&r.push(n[i].onComplete.bind(null,new Error("set"),!1,null))));-1===c?Hr(e,void 0):n.length=c+1,mi(t.eventQueue_,Yr(e),o);for(i=0;i<r.length;i++)$(r[i])}}var Hi=function(t,e){var n=zi(t),r=n.namespace;"firebase.com"===n.domain&&j(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||j("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&A("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var o="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new nt(n.host,n.secure,r,e,o,"",r!==n.subdomain),path:new Tt(n.pathString)}},zi=function(t){var e="",n="",r="",o="",c="",l=!0,f="https",d=443;if("string"==typeof t){var v=t.indexOf("//");v>=0&&(f=t.substring(0,v-1),t=t.substring(v+2));var m=t.indexOf("/");-1===m&&(m=t.length);var y=t.indexOf("?");-1===y&&(y=t.length),e=t.substring(0,Math.min(m,y)),m<y&&(o=function(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(t){}e+="/"+r}return e}(t.substring(m,y)));var _=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=Object(h.g)(t.split("&")),c=o.next();!c.done;c=o.next()){var l=c.value;if(0!==l.length){var f=l.split("=");2===f.length?r[decodeURIComponent(f[0])]=decodeURIComponent(f[1]):A("Invalid query segment '"+l+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,y)));(v=e.indexOf(":"))>=0?(l="https"===f||"wss"===f,d=parseInt(e.substring(v+1),10)):v=e.length;var w=e.slice(0,v);if("localhost"===w.toLowerCase())n="localhost";else if(w.split(".").length<=2)n=w;else{var O=e.indexOf(".");r=e.substring(0,O).toLowerCase(),n=e.substring(O+1),c=r}"ns"in _&&(c=_.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:l,scheme:f,pathString:o,namespace:c}},Gi=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(l.K)(this.snapshot.exportVal())},t}(),$i=function(){function t(t,e,path){this.eventRegistration=t,this.error=e,this.path=path}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Yi=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(l.f)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),Xi=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new l.a;return Ni(this._repo,this._path,t.wrapCallback((function(){}))),t.promise},t.prototype.remove=function(){hi("OnDisconnect.remove",this._path);var t=new l.a;return ji(this._repo,this._path,null,t.wrapCallback((function(){}))),t.promise},t.prototype.set=function(t){hi("OnDisconnect.set",this._path),ri("OnDisconnect.set",t,this._path,!1);var e=new l.a;return ji(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t.prototype.setWithPriority=function(t,e){hi("OnDisconnect.setWithPriority",this._path),ri("OnDisconnect.setWithPriority",t,this._path,!1),ai("OnDisconnect.setWithPriority",e,!1);var n=new l.a;return function(t,path,e,n,r){var o=ye(e,n);t.server_.onDisconnectPut(path.toString(),o.val(!0),(function(e,n){"ok"===e&&Ke(t.onDisconnect_,path,o),Di(0,r,e,n)}))}(this._repo,this._path,t,e,n.wrapCallback((function(){}))),n.promise},t.prototype.update=function(t){hi("OnDisconnect.update",this._path),oi("OnDisconnect.update",t,this._path,!1);var e=new l.a;return function(t,path,e,n){if(Object(l.v)(e))return k("onDisconnect().update() called with empty data.  Don't do anything."),void Di(0,n,"ok",void 0);t.server_.onDisconnectMerge(path.toString(),e,(function(r,o){"ok"===r&&B(e,(function(e,n){var r=ye(n);Ke(t.onDisconnect_,At(path,e),r)})),Di(0,n,r,o)}))}(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t}(),Ji=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return Pt(this._path)?null:xt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new eo(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=Ue(this._queryParams),e=U(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Ue(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(l.p)(e))instanceof t))return!1;var n=this._repo===e._repo,r=Mt(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&r&&o},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(path){for(var t="",i=path.pieceNum_;i<path.pieces_.length;i++)""!==path.pieces_[i]&&(t+="/"+encodeURIComponent(String(path.pieces_[i])));return t||"/"}(this._path)},t}();function Qi(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Zi(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Yt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==R)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==D)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===le){if(null!=e&&!ni(e)||null!=n&&!ni(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(l.f)(t.getIndex()instanceof we||t.getIndex()===Oe,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function to(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var eo=function(t){function e(e,path){return t.call(this,e,path,new Re,!1)||this}return Object(h.c)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=jt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(Ji),no=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(path){var e=new Tt(path),n=oo(this.ref,path);return new t(this._node.getChild(e),n,le)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,o){return e(new t(o,oo(n.ref,r),le))}))},t.prototype.hasChild=function(path){var t=new Tt(path);return!this._node.getChild(t).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function ro(t,path){return(t=Object(l.p)(t))._checkNotDeleted("ref"),void 0!==path?oo(t._root,path):t._root}function io(t,e){(t=Object(l.p)(t))._checkNotDeleted("refFromURL");var n=Hi(e,t._repo.repoInfo_.nodeAdmin);fi("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||j("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),ro(t,n.path.toString())}function oo(t,path){var e,n,r,o;return null===Et((t=Object(l.p)(t))._path)?(e="child",n="path",o=!1,(r=path)&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),ci(e,n,r,o)):ci("child","path",path,!1),new eo(t._repo,At(t._path,path))}function ao(t,e){t=Object(l.p)(t),hi("push",t._path),ri("push",e,t._path,!0);var n,r=Ii(t._repo),o=Te(r),c=oo(t,o),h=oo(t,o);return n=null!=e?uo(h,e).then((function(){return h})):Promise.resolve(h),c.then=n.then.bind(n),c.catch=n.then.bind(n,void 0),c}function so(t){return hi("remove",t._path),uo(t,null)}function uo(t,e){t=Object(l.p)(t),hi("set",t._path),ri("set",e,t._path,!1);var n=new l.a;return xi(t._repo,t._path,e,null,n.wrapCallback((function(){}))),n.promise}function co(t,e){t=Object(l.p)(t),hi("setPriority",t._path),ai("setPriority",e,!1);var n=new l.a;return xi(t._repo,At(t._path,".priority"),e,null,n.wrapCallback((function(){}))),n.promise}function lo(t,e,n){if(hi("setWithPriority",t._path),ri("setWithPriority",e,t._path,!1),ai("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new l.a;return xi(t._repo,t._path,e,n,r.wrapCallback((function(){}))),r.promise}function ho(t,e){oi("update",e,t._path,!1);var n=new l.a;return function(t,path,e,n){Ri(t,"update",{path:path.toString(),value:e});var r=!0,o=Ti(t),c={};if(B(e,(function(e,n){r=!1,c[e]=Ur(At(path,e),ye(n),t.serverSyncTree_,o)})),r)k("update() called with empty data.  Don't do anything."),Di(0,n,"ok",void 0);else{var l=ki(t),h=gr(t.serverSyncTree_,path,c,l);vi(t.eventQueue_,h),t.server_.merge(path.toString(),e,(function(e,r){var o="ok"===e;o||A("update at "+path+" failed: "+e);var c=mr(t.serverSyncTree_,l,!o),h=c.length>0?Fi(t,path):path;mi(t.eventQueue_,h,c),Di(0,n,e,r)})),B(e,(function(e){var n=Ki(t,At(path,e));Fi(t,n)})),mi(t.eventQueue_,path,[])}}(t._repo,t._path,e,n.wrapCallback((function(){}))),n.promise}function fo(t){return function(t,e){var n=Ir(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then((function(n){var r=ye(n),o=yr(t.serverSyncTree_,e._path,r);return gi(t.eventQueue_,e._path,o),Promise.resolve(r)}),(function(n){return Ri(t,"get for query "+Object(l.K)(e)+" failed: "+n),Promise.reject(new Error(n))}))}((t=Object(l.p)(t))._repo,t).then((function(e){return new no(e,new eo(t._repo,t._path),t._queryParams.getIndex())}))}var po=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new Gi("value",this,new no(t.snapshotNode,new eo(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,path){return this.callbackContext.hasCancelCallback?new $i(this,t,path):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),vo=function(){function t(t){this.callbacks=t}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(l.k)(this.callbacks,e)},t.prototype.createCancelEvent=function(t,path){return this.callbacks.cancel.hasCancelCallback?new $i(this,t,path):null},t.prototype.createEvent=function(t,e){Object(l.f)(null!=t.childName,"Child events should have a childName.");var n=oo(new eo(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Gi(t.type,this,new no(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){if("cancel"===t.getEventType()){var e=this.callbacks.cancel;return function(){return e.onCancel(t.error)}}var n=this.callbacks[t.eventType];return function(){return n.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks||!e.callbacks)return!0;var r=Object.keys(e.callbacks),o=Object.keys(this.callbacks),c=r.length;if(c===o.length){if(1===c){var l=r[0],h=o[0];return h===l&&(!e.callbacks[l]||!this.callbacks[h]||e.callbacks[l].matches(this.callbacks[h]))}return o.every((function(t){return e.callbacks[t].matches(n.callbacks[t])}))}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks},t}();function go(t,e,n,r,o){var c,l;if("object"==typeof r&&(l=void 0,o=r),"function"==typeof r&&(l=r),o&&o.onlyOnce){var h=n,f=function(e,n){h(e,n),Ai(t._repo,t,v)};f.userCallback=n.userCallback,f.context=n.context,n=f}var d=new Yi(n,l||void 0),v="value"===e?new po(d):new vo(((c={})[e]=d,c));return function(t,e,n){var r;r=".info"===Et(e._path)?wr(t.infoSyncTree_,e,n):wr(t.serverSyncTree_,e,n),gi(t.eventQueue_,e._path,r)}(t._repo,t,v),function(){return Ai(t._repo,t,v)}}function mo(t,e,n,r){return go(t,"value",e,n,r)}function yo(t,e,n,r){return go(t,"child_added",e,n,r)}function bo(t,e,n,r){return go(t,"child_changed",e,n,r)}function _o(t,e,n,r){return go(t,"child_moved",e,n,r)}function wo(t,e,n,r){return go(t,"child_removed",e,n,r)}function Oo(t,e,n){var r=null,o=null,c=n?new Yi(n):null;"value"===e?r=new po(c):e&&(n&&((o={})[e]=c),r=new vo(o)),Ai(t._repo,t,r)}var Io=function(){},To=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(h.c)(e,t),e.prototype._apply=function(t){ri("endAt",this._value,t._path,!0);var e=Me(t._queryParams,this._value,this._key);if(to(e),Zi(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ji(t._repo,t._path,e,t._orderByCalled)},e}(Io);function So(t,e){return ui("endAt","key",e,!0),new To(t,e)}var Eo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(h.c)(e,t),e.prototype._apply=function(t){ri("endBefore",this._value,t._path,!1);var e,n,r,o,c=(e=t._queryParams,n=this._value,r=this._key,e.index_===Yt?("string"==typeof n&&(n=Ee(n)),o=Me(e,n,r)):o=Me(e,n,null==r?R:Ee(r)),o.endBeforeSet_=!0,o);if(to(c),Zi(c),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ji(t._repo,t._path,c,t._orderByCalled)},e}(Io);function Co(t,e){return ui("endBefore","key",e,!0),new Eo(t,e)}var ko=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(h.c)(e,t),e.prototype._apply=function(t){ri("startAt",this._value,t._path,!0);var e=De(t._queryParams,this._value,this._key);if(to(e),Zi(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ji(t._repo,t._path,e,t._orderByCalled)},e}(Io);function xo(t,e){return void 0===t&&(t=null),ui("startAt","key",e,!0),new ko(t,e)}var No=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(h.c)(e,t),e.prototype._apply=function(t){ri("startAfter",this._value,t._path,!1);var e=function(t,e,n){var r;t.index_===Yt?("string"==typeof e&&(e=Se(e)),r=De(t,e,n)):r=De(t,e,null==n?D:Se(n));return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(to(e),Zi(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ji(t._repo,t._path,e,t._orderByCalled)},e}(Io);function jo(t,e){return ui("startAfter","key",e,!0),new No(t,e)}var Ao=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(h.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ji(t._repo,t._path,(e=t._queryParams,n=this._limit,(r=e.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),t._orderByCalled);var e,n,r},e}(Io);function Po(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ao(t)}var Ro=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(h.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ji(t._repo,t._path,(e=t._queryParams,n=this._limit,(r=e.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),t._orderByCalled);var e,n,r},e}(Io);function Do(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ro(t)}var Mo=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(h.c)(e,t),e.prototype._apply=function(t){Qi(t,"orderByChild");var e=new Tt(this._path);if(Pt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new we(e),r=Le(t._queryParams,n);return Zi(r),new Ji(t._repo,t._path,r,!0)},e}(Io);function Lo(path){if("$key"===path)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===path)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===path)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ci("orderByChild","path",path,!1),new Mo(path)}var Fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h.c)(e,t),e.prototype._apply=function(t){Qi(t,"orderByKey");var e=Le(t._queryParams,Yt);return Zi(e),new Ji(t._repo,t._path,e,!0)},e}(Io);function Uo(){return new Fo}var qo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h.c)(e,t),e.prototype._apply=function(t){Qi(t,"orderByPriority");var e=Le(t._queryParams,le);return Zi(e),new Ji(t._repo,t._path,e,!0)},e}(Io);function Vo(){return new qo}var Bo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(h.c)(e,t),e.prototype._apply=function(t){Qi(t,"orderByValue");var e=Le(t._queryParams,Oe);return Zi(e),new Ji(t._repo,t._path,e,!0)},e}(Io);function Ko(){return new Bo}var Wo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(h.c)(e,t),e.prototype._apply=function(t){if(ri("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new To(this._value,this._key)._apply(new ko(this._value,this._key)._apply(t))},e}(Io);function Ho(t,e){return ui("equalTo","key",e,!0),new Wo(t,e)}function zo(t){for(var e,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var c=Object(l.p)(t);try{for(var f=Object(h.g)(r),d=f.next();!d.done;d=f.next()){var v=d.value;c=v._apply(c)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}return c}!function(t){Object(l.f)(!zn,"__referenceConstructor has already been defined"),zn=t}(eo),function(t){Object(l.f)(!Zn,"__referenceConstructor has already been defined"),Zn=t}(eo);var Go={},$o=!1;function Yo(e,n,r,o){var c=r||e.options.databaseURL;void 0===c&&(e.options.projectId||j("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),k("Using default host for project ",e.options.projectId),c=e.options.projectId+"-default-rtdb.firebaseio.com");var l,h=Hi(c,o),f=h.repoInfo,d=void 0;void 0!==t&&(d=t.env.FIREBASE_DATABASE_EMULATOR_HOST),d?(l=!0,c="http://"+d+"?ns="+f.namespace,f=(h=Hi(c,o)).repoInfo):l=!h.repoInfo.secure;var v=o&&l?new J:new X(e.name,e.options,n);fi("Invalid Firebase Database URL",h),Pt(h.path)||j("Database URL must point to the root of a Firebase Database (not including a child path).");var m=function(t,e,n){var r=Go[e.name];r||(r={},Go[e.name]=r);var o=r[t.toURLString()];o&&j("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new wi(t,$o,n),r[t.toURLString()]=o,o}(f,e,v);return new Xo(m,e)}var Xo=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(Oi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new eo(this._repo,St())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return this._checkNotDeleted("delete"),t=this._repo,e=this.app.name,(n=Go[e])&&n[t.key]===t||j("Database "+e+"("+t.repoInfo_+") has already been deleted."),Pi(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&j("Cannot call "+t+" on a deleted database.")},t}();function Jo(t,e,n){(t=Object(l.p)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&j("Cannot call useEmulator() after instance has already been initialized."),function(t,e,n){t.repoInfo_=new nt(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new J)}(t._repo,e,n)}function Qo(t){(t=Object(l.p)(t))._checkNotDeleted("goOffline"),Pi(t._repo)}function Zo(t){var e;(t=Object(l.p)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(_i)}function ta(t,e){C(t,e)}var ea={".sv":"timestamp"};var na=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function ra(t,e,n){var r;if(t=Object(l.p)(t),hi("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var o=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,c=new l.a,h=mo(t,(function(){}));return function(t,path,e,n,r,o){Ri(t,"transaction on "+path);var c={path:path,update:e,onComplete:n,status:null,order:O(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=Mi(t,path,void 0);c.currentInputSnapshot=h;var f=c.update(h.val());if(void 0===f)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{ii("transaction failed: Data returned ",f,c.path),c.status=0;var d=Kr(t.transactionQueueTree_,path),v=Wr(d)||[];v.push(c),Hr(d,v);var m=void 0;"object"==typeof f&&null!==f&&Object(l.k)(f,".priority")?(m=Object(l.H)(f,".priority"),Object(l.f)(ni(m),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):m=(Or(t.serverSyncTree_,path)||ge.EMPTY_NODE).getPriority().val();var y=Ti(t),_=ye(f,m),w=qr(_,h,y);c.currentOutputSnapshotRaw=_,c.currentOutputSnapshotResolved=w,c.currentWriteId=ki(t);var I=vr(t.serverSyncTree_,path,w,c.currentWriteId,c.applyLocally);mi(t.eventQueue_,path,I),Li(t,t.transactionQueueTree_)}}(t._repo,t._path,e,(function(e,n,r){var o=null;e?c.reject(e):(o=new no(r,new eo(t._repo,t._path),le),c.resolve(new na(n,o)))}),h,o),c.promise}var ia=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(l.L)("OnDisconnect.cancel",0,1,arguments.length),Object(l.M)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.remove=function(t){Object(l.L)("OnDisconnect.remove",0,1,arguments.length),Object(l.M)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.set=function(t,e){Object(l.L)("OnDisconnect.set",1,2,arguments.length),Object(l.M)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},t.prototype.setWithPriority=function(t,e,n){Object(l.L)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(l.M)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},t.prototype.update=function(t,e){if(Object(l.L)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,A("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(l.M)("OnDisconnect.update","onComplete",e,!0);var r=this._delegate.update(t);return e&&r.then((function(){return e(null)}),(function(t){return e(t)})),r},t}(),oa=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(l.L)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),aa=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(l.L)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(l.L)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(l.L)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(l.L)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(path){return Object(l.L)("DataSnapshot.child",0,1,arguments.length),path=String(path),ci("DataSnapshot.child","path",path,!1),new t(this._database,this._delegate.child(path))},t.prototype.hasChild=function(path){return Object(l.L)("DataSnapshot.hasChild",1,1,arguments.length),ci("DataSnapshot.hasChild","path",path,!1),this._delegate.hasChild(path)},t.prototype.getPriority=function(){return Object(l.L)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(l.L)("DataSnapshot.forEach",1,1,arguments.length),Object(l.M)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(r){return e(new t(n._database,r))}))},t.prototype.hasChildren=function(){return Object(l.L)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(l.L)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(l.L)("DataSnapshot.ref",0,0,arguments.length),new ua(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),sa=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,o){var c,h=this;Object(l.L)("Query.on",2,4,arguments.length),Object(l.M)("Query.on","callback",n,!1);var f=t.getCancelAndContextArgs_("Query.on",r,o),d=function(t,e){n.call(f.context,new aa(h.database,t),e)};d.userCallback=n,d.context=f.context;var v=null===(c=f.cancel)||void 0===c?void 0:c.bind(f.context);switch(e){case"value":return mo(this._delegate,d,v),n;case"child_added":return yo(this._delegate,d,v),n;case"child_removed":return wo(this._delegate,d,v),n;case"child_changed":return bo(this._delegate,d,v),n;case"child_moved":return _o(this._delegate,d,v),n;default:throw new Error(Object(l.o)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(l.L)("Query.off",0,3,arguments.length),si("Query.off",t,!0),Object(l.M)("Query.off","callback",e,!0),Object(l.N)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Oo(this._delegate,t,r)}else Oo(this._delegate,t)},t.prototype.get=function(){var t=this;return fo(this._delegate).then((function(e){return new aa(t.database,e)}))},t.prototype.once=function(e,n,r,o){var c=this;Object(l.L)("Query.once",1,4,arguments.length),Object(l.M)("Query.once","callback",n,!0);var h=t.getCancelAndContextArgs_("Query.on",r,o),f=new l.a,d=function(t,e){var r=new aa(c.database,t);n&&n.call(h.context,r,e),f.resolve(r)};d.userCallback=n,d.context=h.context;var v=function(t){h.cancel&&h.cancel.call(h.context,t),f.reject(t)};switch(e){case"value":mo(this._delegate,d,v,{onlyOnce:!0});break;case"child_added":yo(this._delegate,d,v,{onlyOnce:!0});break;case"child_removed":wo(this._delegate,d,v,{onlyOnce:!0});break;case"child_changed":bo(this._delegate,d,v,{onlyOnce:!0});break;case"child_moved":_o(this._delegate,d,v,{onlyOnce:!0});break;default:throw new Error(Object(l.o)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return f.promise},t.prototype.limitToFirst=function(e){return Object(l.L)("Query.limitToFirst",1,1,arguments.length),new t(this.database,zo(this._delegate,Po(e)))},t.prototype.limitToLast=function(e){return Object(l.L)("Query.limitToLast",1,1,arguments.length),new t(this.database,zo(this._delegate,Do(e)))},t.prototype.orderByChild=function(path){return Object(l.L)("Query.orderByChild",1,1,arguments.length),new t(this.database,zo(this._delegate,Lo(path)))},t.prototype.orderByKey=function(){return Object(l.L)("Query.orderByKey",0,0,arguments.length),new t(this.database,zo(this._delegate,Uo()))},t.prototype.orderByPriority=function(){return Object(l.L)("Query.orderByPriority",0,0,arguments.length),new t(this.database,zo(this._delegate,Vo()))},t.prototype.orderByValue=function(){return Object(l.L)("Query.orderByValue",0,0,arguments.length),new t(this.database,zo(this._delegate,Ko()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(l.L)("Query.startAt",0,2,arguments.length),new t(this.database,zo(this._delegate,xo(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(l.L)("Query.startAfter",0,2,arguments.length),new t(this.database,zo(this._delegate,jo(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(l.L)("Query.endAt",0,2,arguments.length),new t(this.database,zo(this._delegate,So(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(l.L)("Query.endBefore",0,2,arguments.length),new t(this.database,zo(this._delegate,Co(e,n)))},t.prototype.equalTo=function(e,n){return Object(l.L)("Query.equalTo",1,2,arguments.length),new t(this.database,zo(this._delegate,Ho(e,n)))},t.prototype.toString=function(){return Object(l.L)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(l.L)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(l.L)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Object(l.M)(t,"cancel",r.cancel,!0),r.context=n,Object(l.N)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(l.o)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new ua(this.database,new eo(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),ua=function(t){function e(e,n){var r=t.call(this,e,new Ji(n._repo,n._path,new Re,!1))||this;return r.database=e,r._delegate=n,r}return Object(h.c)(e,t),e.prototype.getKey=function(){return Object(l.L)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(l.L)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,oo(this._delegate,t))},e.prototype.getParent=function(){Object(l.L)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(l.L)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(l.L)("Reference.set",1,2,arguments.length),Object(l.M)("Reference.set","onComplete",e,!0);var n=uo(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.update=function(t,e){if(Object(l.L)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,A("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}hi("Reference.update",this._delegate._path),Object(l.M)("Reference.update","onComplete",e,!0);var r=ho(this._delegate,t);return e&&r.then((function(){return e(null)}),(function(t){return e(t)})),r},e.prototype.setWithPriority=function(t,e,n){Object(l.L)("Reference.setWithPriority",2,3,arguments.length),Object(l.M)("Reference.setWithPriority","onComplete",n,!0);var r=lo(this._delegate,t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},e.prototype.remove=function(t){Object(l.L)("Reference.remove",0,1,arguments.length),Object(l.M)("Reference.remove","onComplete",t,!0);var e=so(this._delegate);return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},e.prototype.transaction=function(t,e,n){var r=this;Object(l.L)("Reference.transaction",1,3,arguments.length),Object(l.M)("Reference.transaction","transactionUpdate",t,!1),Object(l.M)("Reference.transaction","onComplete",e,!0),di("Reference.transaction","applyLocally",n,!0);var o=ra(this._delegate,t,{applyLocally:n}).then((function(t){return new oa(t.committed,new aa(r.database,t.snapshot))}));return e&&o.then((function(t){return e(null,t.committed,t.snapshot)}),(function(t){return e(t,!1,null)})),o},e.prototype.setPriority=function(t,e){Object(l.L)("Reference.setPriority",1,2,arguments.length),Object(l.M)("Reference.setPriority","onComplete",e,!0);var n=co(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.push=function(t,n){var r=this;Object(l.L)("Reference.push",0,2,arguments.length),Object(l.M)("Reference.push","onComplete",n,!0);var o=ao(this._delegate,t),c=o.then((function(t){return new e(r.database,t)}));n&&c.then((function(){return n(null)}),(function(t){return n(t)}));var h=new e(this.database,o);return h.then=c.then.bind(c),h.catch=c.catch.bind(c,void 0),h},e.prototype.onDisconnect=function(){return hi("Reference.onDisconnect",this._delegate._path),new ia(new Xi(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(sa),ca=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e){Jo(this._delegate,t,e)},t.prototype.ref=function(path){if(Object(l.L)("database.ref",0,1,arguments.length),path instanceof ua){var t=io(this._delegate,path.toString());return new ua(this,t)}t=ro(this._delegate,path);return new ua(this,t)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(l.L)(e,1,1,arguments.length);var n=io(this._delegate,t);return new ua(this,n)},t.prototype.goOffline=function(){return Object(l.L)("database.goOffline",0,0,arguments.length),Qo(this._delegate)},t.prototype.goOnline=function(){return Object(l.L)("database.goOnline",0,0,arguments.length),Zo(this._delegate)},t.ServerValue={TIMESTAMP:ea,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}();var la=Object.freeze({__proto__:null,forceLongPolling:function(){yt.forceDisallow(),ft.forceAllow()},forceWebSockets:function(){ft.forceDisallow()},isWebSocketsAvailable:function(){return yt.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Ge(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);B(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){var n,r;t.stats_.incrementCounter(e),n=t.statsReporter_,r=e,n.statsToReport_[r]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,o=t.customAuthImpl,l=t.namespace,h=t.nodeAdmin,f=void 0!==h&&h;gt(r);var d=new c.c("auth-internal",new c.b("database-standalone"));return d.setComponent(new c.a("auth-internal",(function(){return o}),"PRIVATE")),{instance:new ca(Yo(e,d,n,f),e),namespace:l}}}),ha=Ht;Ht.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ht.prototype.echo=function(data,t){this.sendRequest("echo",{d:data},t)};var fa=_t,da=nt,pa=Object.freeze({__proto__:null,DataConnection:ha,RealTimeConnection:fa,hijackHash:function(t){var e=Ht.prototype.put;return Ht.prototype.put=function(n,data,r,o){void 0!==o&&(o=t()),e.call(this,n,data,r,o)},function(){Ht.prototype.put=e}},ConnectionTarget:da,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){$o=t}(t)}}),va=ca.ServerValue;!function(t){gt(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new c.a("database",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal");return new ca(Yo(r,o,n),r)}),"PUBLIC").setServiceProps({Reference:ua,Query:sa,Database:ca,DataSnapshot:aa,enableLogging:ta,INTERNAL:la,ServerValue:va,TEST_ACCESS:pa}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.9.10"),Object(l.A)()&&(e.exports=n)}(o.a)}).call(this,n(17),n(1028)(t))},1028:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},1323:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o.a}));var r,o=n(76),c=(n(1026),n(1027),n(336),n(3)),l=n(38),h=(n(26),n(15));(r=h.a).prototype.loadBundle=h.n,r.prototype.namedQuery=h.p;var f=n(0),d=n(69),v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},m=function(t){function e(code,n,details){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r.code=code,r.details=details,r}return Object(f.c)(e,t),e}(Error);var y=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return Object(f.b)(this,void 0,void 0,(function(){var t;return Object(f.d)(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return Object(f.b)(this,void 0,void 0,(function(){return Object(f.d)(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return Object(f.b)(this,void 0,void 0,(function(){var t,e;return Object(f.d)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function _(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var w=function(){function t(){}return t.prototype.encode=function(data){var t=this;if(null==data)return null;if(data instanceof Number&&(data=data.valueOf()),"number"==typeof data&&isFinite(data))return data;if(!0===data||!1===data)return data;if("[object String]"===Object.prototype.toString.call(data))return data;if(Array.isArray(data))return data.map((function(e){return t.encode(e)}));if("function"==typeof data||"object"==typeof data)return _(data,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+data)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?_(t,(function(t){return e.decode(t)})):t},t}();var O=function(){function t(t,e,n,r,o){var c=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=o,this.serializer=new w,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(c.deleteService())}},this.contextProvider=new y(e,n),this.cancelAllRequests=new Promise((function(t){c.deleteService=function(){return t()}}));try{var l=new URL(r);this.customDomain=l.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(data){return n.call(t,data,e||{})}},t.prototype.postJSON=function(t,body,e){return Object(f.b)(this,void 0,void 0,(function(){var n,r;return Object(f.d)(this,(function(o){switch(o.label){case 0:e["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(body),headers:e})];case 2:return n=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:r=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,n.json()];case 6:return r=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:n.status,json:r}]}}))}))},t.prototype.call=function(t,data,e){return Object(f.b)(this,void 0,void 0,(function(){var n,body,r,o,c,l,h,d,y,_,w;return Object(f.d)(this,(function(f){switch(f.label){case 0:return n=this._url(t),data=this.serializer.encode(data),body={data:data},r={},[4,this.contextProvider.getContext()];case 1:return(o=f.sent()).authToken&&(r.Authorization="Bearer "+o.authToken),o.instanceIdToken&&(r["Firebase-Instance-ID-Token"]=o.instanceIdToken),c=e.timeout||7e4,l=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new m("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(c),h=l.timer,d=l.promise,[4,Promise.race([I(h,this.postJSON(n,body,r)),d,I(h,this.cancelAllRequests)])];case 2:if(!(y=f.sent()))throw new m("cancelled","Firebase Functions instance was deleted.");if(_=function(t,e,n){var code=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),r=code,details=void 0;try{var o=e&&e.error;if(o){var c=o.status;if("string"==typeof c){if(!v[c])return new m("internal","internal");code=v[c],r=c}var l=o.message;"string"==typeof l&&(r=l),void 0!==(details=o.details)&&(details=n.decode(details))}}catch(t){}return"ok"===code?null:new m(code,r,details)}(y.status,y.json,this.serializer))throw _;if(!y.json)throw new m("internal","Response is not valid JSON object.");if(void 0===(w=y.json.data)&&(w=y.json.result),void 0===w)throw new m("internal","Response is missing data field.");return[2,{data:this.serializer.decode(w)}]}}))}))},t}();function I(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n;return Object(f.d)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}var T,S,E;T=o.a,S=fetch.bind(self),E={Functions:O},T.INTERNAL.registerComponent(new d.a("functions",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),c=t.getProvider("messaging");return new O(r,o,c,n,S)}),"PUBLIC").setServiceProps(E).setMultipleInstances(!0)),o.a.registerVersion("@firebase/functions","0.6.7");var C,k=n(838),x="0.4.25",N=1e4,j="w:0.4.25",A="FIS_v2",P=36e5,R=((C={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',C["not-registered"]="Firebase Installation is not registered.",C["installation-not-found"]="Firebase Installation not found.",C["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',C["app-offline"]="Could not process request. Application offline.",C["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",C),D=new c.b("installations","Installations",R);function M(t){return t instanceof c.c&&t.code.includes("request-failed")}function L(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function F(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function U(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n,r;return Object(f.d)(this,(function(o){switch(o.label){case 0:return[4,e.json()];case 1:return n=o.sent(),r=n.error,[2,D.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function V(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function B(t,e){var n=e.refreshToken,r=V(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function K(t){return Object(f.b)(this,void 0,void 0,(function(){var e;return Object(f.d)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function W(t,e){var n=e.fid;return Object(f.b)(this,void 0,void 0,(function(){var e,r,body,o,c,l;return Object(f.d)(this,(function(h){switch(h.label){case 0:return e=L(t),r=V(t),body={fid:n,authVersion:A,appId:t.appId,sdkVersion:j},o={method:"POST",headers:r,body:JSON.stringify(body)},[4,K((function(){return fetch(e,o)}))];case 1:return(c=h.sent()).ok?[4,c.json()]:[3,3];case 2:return l=h.sent(),[2,{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:F(l.authToken)}];case 3:return[4,U("Create Installation",c)];case 4:throw h.sent()}}))}))}function H(t){return new Promise((function(e){setTimeout(e,t)}))}var z=/^[cdef][\w-]{21}$/;function G(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(f.f)([],Object(f.e)(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return z.test(e)?e:""}catch(t){return""}}function $(t){return t.appName+"!"+t.appId}var Y=new Map;function X(t,e){var n=$(t);J(n,e),function(t,e){var n=Z();n&&n.postMessage({key:t,fid:e});tt()}(n,e)}function J(t,e){var n,r,o=Y.get(t);if(o)try{for(var c=Object(f.g)(o),l=c.next();!l.done;l=c.next()){(0,l.value)(e)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}var Q=null;function Z(){return!Q&&"BroadcastChannel"in self&&((Q=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){J(t.data.key,t.data.fid)}),Q}function tt(){0===Y.size&&Q&&(Q.close(),Q=null)}var et,nt="firebase-installations-store",it=null;function ot(){return it||(it=Object(k.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(nt)}}))),it}function at(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n,r,o,c,l;return Object(f.d)(this,(function(h){switch(h.label){case 0:return n=$(t),[4,ot()];case 1:return r=h.sent(),o=r.transaction(nt,"readwrite"),[4,(c=o.objectStore(nt)).get(n)];case 2:return l=h.sent(),[4,c.put(e,n)];case 3:return h.sent(),[4,o.complete];case 4:return h.sent(),l&&l.fid===e.fid||X(t,e.fid),[2,e]}}))}))}function st(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n,r;return Object(f.d)(this,(function(o){switch(o.label){case 0:return e=$(t),[4,ot()];case 1:return n=o.sent(),[4,(r=n.transaction(nt,"readwrite")).objectStore(nt).delete(e)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}}))}))}function ut(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n,r,o,c,l,h;return Object(f.d)(this,(function(f){switch(f.label){case 0:return n=$(t),[4,ot()];case 1:return r=f.sent(),o=r.transaction(nt,"readwrite"),[4,(c=o.objectStore(nt)).get(n)];case 2:return l=f.sent(),void 0!==(h=e(l))?[3,4]:[4,c.delete(n)];case 3:return f.sent(),[3,6];case 4:return[4,c.put(h,n)];case 5:f.sent(),f.label=6;case 6:return[4,o.complete];case 7:return f.sent(),!h||l&&l.fid===h.fid||X(t,h.fid),[2,h]}}))}))}function ct(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n,r;return Object(f.d)(this,(function(o){switch(o.label){case 0:return[4,ut(t,(function(n){var r=function(t){return ft(t||{fid:G(),registrationStatus:0})}(n),o=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(D.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n,r;return Object(f.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,W(t,e)];case 1:return n=o.sent(),[2,at(t,n)];case 2:return M(r=o.sent())&&409===r.customData.serverCode?[4,st(t)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,at(t,{fid:e.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:lt(t)}:{installationEntry:e}}(t,r);return e=o.registrationPromise,o.installationEntry}))];case 1:return""!==(n=o.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=o.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function lt(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n,r,o;return Object(f.d)(this,(function(c){switch(c.label){case 0:return[4,ht(t)];case 1:e=c.sent(),c.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,H(100)];case 3:return c.sent(),[4,ht(t)];case 4:return e=c.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,ct(t)];case 6:return n=c.sent(),r=n.installationEntry,(o=n.registrationPromise)?[2,o]:[2,r];case 7:return[2,e]}}))}))}function ht(t){return ut(t,(function(t){if(!t)throw D.create("installation-not-found");return ft(t)}))}function ft(t){return 1===(e=t).registrationStatus&&e.registrationTime+N<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function pt(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(f.b)(this,void 0,void 0,(function(){var t,o,c,body,l,h,d;return Object(f.d)(this,(function(f){switch(f.label){case 0:return t=function(t,e){var n=e.fid;return L(t)+"/"+n+"/authTokens:generate"}(n,e),o=B(n,e),(c=r.getImmediate({optional:!0}))&&o.append("x-firebase-client",c.getPlatformInfoString()),body={installation:{sdkVersion:j}},l={method:"POST",headers:o,body:JSON.stringify(body)},[4,K((function(){return fetch(t,l)}))];case 1:return(h=f.sent()).ok?[4,h.json()]:[3,3];case 2:return d=f.sent(),[2,F(d)];case 3:return[4,U("Generate Auth Token",h)];case 4:throw f.sent()}}))}))}function vt(t,e){return void 0===e&&(e=!1),Object(f.b)(this,void 0,void 0,(function(){var n,r,o;return Object(f.d)(this,(function(c){switch(c.label){case 0:return[4,ut(t.appConfig,(function(r){if(!mt(r))throw D.create("not-registered");var o=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+P}(t)}(o))return r;if(1===o.requestStatus)return n=function(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n,r;return Object(f.d)(this,(function(o){switch(o.label){case 0:return[4,gt(t.appConfig)];case 1:n=o.sent(),o.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,H(100)];case 3:return o.sent(),[4,gt(t.appConfig)];case 4:return n=o.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,vt(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw D.create("app-offline");var c=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(f.a)(Object(f.a)({},t),{authToken:e})}(r);return n=function(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n,r,o;return Object(f.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,8]),[4,pt(t,e)];case 1:return n=c.sent(),o=Object(f.a)(Object(f.a)({},e),{authToken:n}),[4,at(t.appConfig,o)];case 2:return c.sent(),[2,n];case 3:return!M(r=c.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,st(t.appConfig)];case 4:return c.sent(),[3,7];case 5:return o=Object(f.a)(Object(f.a)({},e),{authToken:{requestStatus:0}}),[4,at(t.appConfig,o)];case 6:c.sent(),c.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,c),c}))];case 1:return r=c.sent(),n?[4,n]:[3,3];case 2:return o=c.sent(),[3,4];case 3:o=r.authToken,c.label=4;case 4:return[2,o]}}))}))}function gt(t){return ut(t,(function(t){if(!mt(t))throw D.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+N<Date.now()?Object(f.a)(Object(f.a)({},t),{authToken:{requestStatus:0}}):t}))}function mt(t){return void 0!==t&&2===t.registrationStatus}function yt(t){return Object(f.b)(this,void 0,void 0,(function(){var e;return Object(f.d)(this,(function(n){switch(n.label){case 0:return[4,ct(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function bt(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n,r,o,c;return Object(f.d)(this,(function(l){switch(l.label){case 0:return n=function(t,e){var n=e.fid;return L(t)+"/"+n}(t,e),r=B(t,e),o={method:"DELETE",headers:r},[4,K((function(){return fetch(n,o)}))];case 1:return(c=l.sent()).ok?[3,3]:[4,U("Delete Installation",c)];case 2:throw l.sent();case 3:return[2]}}))}))}function _t(t,e){var n=t.appConfig;return function(t,e){Z();var n=$(t),r=Y.get(n);r||(r=new Set,Y.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=$(t),r=Y.get(n);r&&(r.delete(e),0===r.size&&Y.delete(n),tt())}(n,e)}}function wt(t){return D.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new d.a("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw wt("App Configuration");if(!t.name)throw wt("App Name");try{for(var r=Object(f.g)(["projectId","apiKey","appId"]),o=r.next();!o.done;o=r.next()){var c=o.value;if(!t.options[c])throw wt(c)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n,r;return Object(f.d)(this,(function(o){switch(o.label){case 0:return[4,ct(t.appConfig)];case 1:return e=o.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):vt(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(f.b)(this,void 0,void 0,(function(){return Object(f.d)(this,(function(n){switch(n.label){case 0:return[4,yt(t.appConfig)];case 1:return n.sent(),[4,vt(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n;return Object(f.d)(this,(function(r){switch(r.label){case 0:return[4,ut(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw D.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw D.create("app-offline");case 3:return[4,bt(e,n)];case 4:return r.sent(),[4,st(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return _t(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations",x)}(o.a);var Ot,It=((et={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',et["only-available-in-window"]="This method is available in a Window context.",et["only-available-in-sw"]="This method is available in a service worker context.",et["permission-default"]="The notification permission was not granted and dismissed instead.",et["permission-blocked"]="The notification permission was not granted and blocked instead.",et["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",et["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",et["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",et["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",et["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",et["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",et["token-update-no-token"]="FCM returned no token when updating the user to push.",et["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",et["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",et["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",et["invalid-vapid-key"]="The public VAPID key must be a string.",et["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",et),Tt=new c.b("messaging","Messaging",It),St="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Et="google.c.a.c_id";function Ct(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(f.f)([],Object(f.e)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kt(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Ot||(Ot={}));var xt="fcm_token_details_db",Nt="fcm_token_object_Store";function jt(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n,r=this;return Object(f.d)(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=o.sent(),!e.map((function(t){return t.name})).includes(xt))return[2,null];o.label=2;case 2:return n=null,[4,Object(k.openDb)(xt,5,(function(e){return Object(f.b)(r,void 0,void 0,(function(){var r,o,c,l;return Object(f.d)(this,(function(h){switch(h.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains(Nt)?[4,(r=e.transaction.objectStore(Nt)).index("fcmSenderId").get(t)]:[2];case 1:return o=h.sent(),[4,r.clear()];case 2:if(h.sent(),!o)return[2];if(2===e.oldVersion){if(!(c=o).auth||!c.p256dh||!c.endpoint)return[2];n={token:c.fcmToken,createTime:null!==(l=c.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:"string"==typeof c.vapidKey?c.vapidKey:Ct(c.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(n={token:(c=o).fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Ct(c.auth),p256dh:Ct(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Ct(c.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,Object(k.deleteDb)(xt)];case 4:return o.sent(),[4,Object(k.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,Object(k.deleteDb)("undefined")];case 6:return o.sent(),[2,At(n)?n:null]}}))}))}function At(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var Pt="firebase-messaging-store",Rt=null;function Dt(){return Rt||(Rt=Object(k.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(Pt)}}))),Rt}function Mt(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n,r;return Object(f.d)(this,(function(o){switch(o.label){case 0:return e=Ut(t),[4,Dt()];case 1:return[4,o.sent().transaction(Pt).objectStore(Pt).get(e)];case 2:return(n=o.sent())?[2,n]:[3,3];case 3:return[4,jt(t.appConfig.senderId)];case 4:return(r=o.sent())?[4,Lt(t,r)]:[3,6];case 5:return o.sent(),[2,r];case 6:return[2]}}))}))}function Lt(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n,r,o;return Object(f.d)(this,(function(c){switch(c.label){case 0:return n=Ut(t),[4,Dt()];case 1:return r=c.sent(),[4,(o=r.transaction(Pt,"readwrite")).objectStore(Pt).put(e,n)];case 2:return c.sent(),[4,o.complete];case 3:return c.sent(),[2,e]}}))}))}function Ft(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n,r;return Object(f.d)(this,(function(o){switch(o.label){case 0:return e=Ut(t),[4,Dt()];case 1:return n=o.sent(),[4,(r=n.transaction(Pt,"readwrite")).objectStore(Pt).delete(e)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}}))}))}function Ut(t){return t.appConfig.appId}function qt(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n,body,r,o,c,l;return Object(f.d)(this,(function(h){switch(h.label){case 0:return[4,Wt(t)];case 1:n=h.sent(),body=Ht(e),r={method:"POST",headers:n,body:JSON.stringify(body)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(Kt(t.appConfig),r)];case 3:return[4,h.sent().json()];case 4:return o=h.sent(),[3,6];case 5:throw c=h.sent(),Tt.create("token-subscribe-failed",{errorInfo:c});case 6:if(o.error)throw l=o.error.message,Tt.create("token-subscribe-failed",{errorInfo:l});if(!o.token)throw Tt.create("token-subscribe-no-token");return[2,o.token]}}))}))}function Vt(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n,body,r,o,c,l;return Object(f.d)(this,(function(h){switch(h.label){case 0:return[4,Wt(t)];case 1:n=h.sent(),body=Ht(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(body)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(Kt(t.appConfig)+"/"+e.token,r)];case 3:return[4,h.sent().json()];case 4:return o=h.sent(),[3,6];case 5:throw c=h.sent(),Tt.create("token-update-failed",{errorInfo:c});case 6:if(o.error)throw l=o.error.message,Tt.create("token-update-failed",{errorInfo:l});if(!o.token)throw Tt.create("token-update-no-token");return[2,o.token]}}))}))}function Bt(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n,r,o,c,l;return Object(f.d)(this,(function(h){switch(h.label){case 0:return[4,Wt(t)];case 1:n=h.sent(),r={method:"DELETE",headers:n},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(Kt(t.appConfig)+"/"+e,r)];case 3:return[4,h.sent().json()];case 4:if((o=h.sent()).error)throw c=o.error.message,Tt.create("token-unsubscribe-failed",{errorInfo:c});return[3,6];case 5:throw l=h.sent(),Tt.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}}))}))}function Kt(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function Wt(t){var e=t.appConfig,n=t.installations;return Object(f.b)(this,void 0,void 0,(function(){var t;return Object(f.d)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function Ht(t){var e=t.p256dh,n=t.auth,r=t.endpoint,o=t.vapidKey,body={web:{endpoint:r,auth:n,p256dh:e}};return o!==St&&(body.web.applicationPubKey=o),body}function zt(t,e,n){return Object(f.b)(this,void 0,void 0,(function(){var r,o,c,l;return Object(f.d)(this,(function(h){switch(h.label){case 0:if("granted"!==Notification.permission)throw Tt.create("permission-blocked");return[4,Xt(e,n)];case 1:return r=h.sent(),[4,Mt(t)];case 2:return o=h.sent(),c={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:Ct(r.getKey("auth")),p256dh:Ct(r.getKey("p256dh"))},o?[3,3]:[2,Yt(t,c)];case 3:if(f=o.subscriptionOptions,v=(d=c).vapidKey===f.vapidKey,m=d.endpoint===f.endpoint,y=d.auth===f.auth,_=d.p256dh===f.p256dh,v&&m&&y&&_)return[3,8];h.label=4;case 4:return h.trys.push([4,6,,7]),[4,Bt(t,o.token)];case 5:return h.sent(),[3,7];case 6:return l=h.sent(),console.warn(l),[3,7];case 7:return[2,Yt(t,c)];case 8:return Date.now()>=o.createTime+6048e5?[2,$t({token:o.token,createTime:Date.now(),subscriptionOptions:c},t,e)]:[2,o.token];case 9:return[2]}var f,d,v,m,y,_}))}))}function Gt(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n,r;return Object(f.d)(this,(function(o){switch(o.label){case 0:return[4,Mt(t)];case 1:return(n=o.sent())?[4,Bt(t,n.token)]:[3,4];case 2:return o.sent(),[4,Ft(t)];case 3:o.sent(),o.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=o.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function $t(t,e,n){return Object(f.b)(this,void 0,void 0,(function(){var r,o,c;return Object(f.d)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,5]),[4,Vt(e,t)];case 1:return r=l.sent(),o=Object(f.a)(Object(f.a)({},t),{token:r,createTime:Date.now()}),[4,Lt(e,o)];case 2:return l.sent(),[2,r];case 3:return c=l.sent(),[4,Gt(e,n)];case 4:throw l.sent(),c;case 5:return[2]}}))}))}function Yt(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n,r;return Object(f.d)(this,(function(o){switch(o.label){case 0:return[4,qt(t,e)];case 1:return n=o.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,Lt(t,r)];case 2:return o.sent(),[2,r.token]}}))}))}function Xt(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n;return Object(f.d)(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kt(e)})]}}))}))}function Jt(data){return"object"==typeof data&&!!data&&Et in data}function Qt(t){return new Promise((function(e){setTimeout(e,t)}))}var Zt=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw Tt.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(f.b)(this,void 0,void 0,(function(){var n;return Object(f.d)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Mt(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:St,r.label=2;case 2:return[2,zt(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return Gt(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Tt.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Tt.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw Tt.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw Tt.create("only-available-in-window")},t.prototype.onMessage=function(){throw Tt.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Tt.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n,r,o;return Object(f.d)(this,(function(c){switch(c.label){case 0:return(e=function(t){var data=t.data;if(!data)return null;try{return data.json()}catch(t){return null}}(t))?[4,re()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=c.sent())?[2,ne(n,e)]:(r=!1,e.notification?[4,ie(te(e))]:[3,3]);case 2:c.sent(),r=!0,c.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(o=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var title=e.notification.title;title&&(t.notification.title=title);var body=e.notification.body;body&&(t.notification.body=body);var image=e.notification.image;image&&(t.notification.image=image)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var link=e.fcmOptions.link;link&&(t.fcmOptions.link=link);var n=e.fcmOptions.analytics_label;n&&(t.fcmOptions.analyticsLabel=n)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,Qt(1e3)]);case 4:return c.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Object(f.b)(this,void 0,void 0,(function(){var r;return Object(f.d)(this,(function(o){switch(o.label){case 0:return t.newSubscription?[3,2]:[4,Gt(this.firebaseDependencies,self.registration)];case 1:return o.sent(),[2];case 2:return[4,Mt(this.firebaseDependencies)];case 3:return r=o.sent(),[4,Gt(this.firebaseDependencies,self.registration)];case 4:return o.sent(),[4,zt(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:St)];case 5:return o.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Object(f.b)(this,void 0,void 0,(function(){var r,link,o,c,l;return Object(f.d)(this,(function(h){switch(h.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(link=function(t){var e,n,r,link=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;if(link)return link;return Jt(t.data)?self.location.origin:null}(r))?(o=new URL(link,self.location.href),c=new URL(self.location.origin),o.host!==c.host?[2]:[4,ee(o)]):[2]):[2];case 1:return(l=h.sent())?[3,4]:[4,self.clients.openWindow(link)];case 2:return l=h.sent(),[4,Qt(3e3)];case 3:return h.sent(),[3,6];case 4:return[4,l.focus()];case 5:l=h.sent(),h.label=6;case 6:return l?(r.messageType=Ot.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,l.postMessage(r)]):[2]}}))}))},t}();function te(t){var e,n=Object(f.a)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function ee(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n,r,o,c,l,h;return Object(f.d)(this,(function(d){switch(d.label){case 0:return[4,re()];case 1:e=d.sent();try{for(n=Object(f.g)(e),r=n.next();!r.done;r=n.next())if(o=r.value,c=new URL(o.url,self.location.href),t.host===c.host)return[2,o]}catch(t){l={error:t}}finally{try{r&&!r.done&&(h=n.return)&&h.call(n)}finally{if(l)throw l.error}}return[2,null]}}))}))}function ne(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Ot.PUSH_RECEIVED;try{for(var o=Object(f.g)(t),c=o.next();!c.done;c=o.next()){c.value.postMessage(e)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function re(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function ie(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var oe=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n;return Object(f.d)(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===Ot.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),Jt(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(f.b)(this,void 0,void 0,(function(){return Object(f.d)(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw Tt.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,zt(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return Object(f.b)(this,void 0,void 0,(function(){return Object(f.d)(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=St),[2]}))}))},t.prototype.updateSwReg=function(t){return Object(f.b)(this,void 0,void 0,(function(){return Object(f.d)(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Tt.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return Object(f.b)(this,void 0,void 0,(function(){var t,e;return Object(f.d)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),Tt.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return Object(f.b)(this,void 0,void 0,(function(){return Object(f.d)(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Gt(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return Object(f.b)(this,void 0,void 0,(function(){var t;return Object(f.d)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?Tt.create("permission-blocked"):Tt.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Tt.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw Tt.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Tt.create("invalid-sw-registration");if(this.swRegistration)throw Tt.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Tt.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw Tt.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,data){return Object(f.b)(this,void 0,void 0,(function(){var e;return Object(f.d)(this,(function(n){switch(n.label){case 0:return e=function(t){switch(t){case Ot.NOTIFICATION_CLICKED:return"notification_open";case Ot.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return n.sent().logEvent(e,{message_id:data["google.c.a.c_id"],message_name:data["google.c.a.c_l"],message_time:data["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function ae(t){return Tt.create("missing-app-config-values",{valueName:t})}var se={isSupported:ue};function ue(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}o.a.INTERNAL.registerComponent(new d.a("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw ae("App Configuration Object");if(!t.name)throw ae("App Name");var r=t.options;try{for(var o=Object(f.g)(["projectId","apiKey","appId","messagingSenderId"]),c=o.next();!c.done;c=o.next()){var l=c.value;if(!r[l])throw ae(l)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!ue())throw Tt.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Zt(n):new oe(n)}),"PUBLIC").setServiceProps(se));var ce="firebasestorage.googleapis.com",le=function(t){function e(code,n){var r=t.call(this,he(code),"Firebase Storage: "+n+" ("+he(code)+")")||this;return r.customData={serverResponse:null},Object.setPrototypeOf(r,e.prototype),r}return Object(f.c)(e,t),e.prototype._codeEquals=function(code){return he(code)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(c.c);function he(code){return"storage/"+code}function fe(){return new le("unknown","An unknown error occurred, please check the error payload for server response.")}function de(){return new le("canceled","User canceled the upload/download.")}function pe(){return new le("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ve(t){return new le("invalid-argument",t)}function ge(){return new le("app-deleted","The Firebase app was deleted.")}function me(t){return new le("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ye(t,e){return new le("invalid-format","String does not match format '"+t+"': "+e)}function be(t){throw new le("internal-error","Internal error: "+t)}var _e={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},we=function(data,t){this.data=data,this.contentType=t||null};function Oe(t,e){switch(t){case _e.RAW:return new we(Ie(e));case _e.BASE64:case _e.BASE64URL:return new we(Te(t,e));case _e.DATA_URL:return new we((n=new Se(e)).base64?Te(_e.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw ye(_e.DATA_URL,"Malformed data URL.")}return Ie(e)}(n.rest),function(t){return new Se(t).contentType}(e))}var n;throw fe()}function Ie(t){for(var b=[],i=0;i<t.length;i++){var e=t.charCodeAt(i);if(e<=127)b.push(e);else if(e<=2047)b.push(192|e>>6,128|63&e);else if(55296==(64512&e))if(i<t.length-1&&56320==(64512&t.charCodeAt(i+1)))e=65536|(1023&e)<<10|1023&t.charCodeAt(++i),b.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e);else b.push(239,191,189);else 56320==(64512&e)?b.push(239,191,189):b.push(224|e>>12,128|e>>6&63,128|63&e)}return new Uint8Array(b)}function Te(t,e){switch(t){case _e.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw ye(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case _e.BASE64URL:var o=-1!==e.indexOf("+"),c=-1!==e.indexOf("/");if(o||c)throw ye(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var l;try{l=atob(e)}catch(e){throw ye(t,"Invalid character found")}for(var h=new Uint8Array(l.length),i=0;i<l.length;i++)h[i]=l.charCodeAt(i);return h}var Se=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw ye(_e.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(s=n,r=";base64",s.length>=r.length&&s.substring(s.length-r.length)===r),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var s,r};var Ee,Ce={STATE_CHANGED:"state_changed"},ke={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function xe(t){switch(t){case"running":case"pausing":case"canceling":return ke.RUNNING;case"paused":return ke.PAUSED;case"success":return ke.SUCCESS;case"canceled":return ke.CANCELED;case"error":default:return ke.ERROR}}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Ee||(Ee={}));var Ne=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ee.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Ee.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Ee.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,body,n){if(this.sent_)throw be("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==n)for(var r in n)n.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,n[r].toString());return void 0!==body?this.xhr_.send(body):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw be("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw be("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw be("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(header){return this.xhr_.getResponseHeader(header)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),je=function(){function t(){}return t.prototype.createXhrIo=function(){return new Ne},t}(),Ae=function(){function t(t,path){this.bucket=t,this.path_=path}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(n){return new t(e,"")}if(""===r.path)return r;throw new le("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,o="([A-Za-z0-9.\\-_]+)";var c=new RegExp("^gs://"+o+"(/(.*))?$","i");function l(t){t.path_=decodeURIComponent(t.path)}for(var h=n.replace(/[.]/g,"\\."),f=[{regex:c,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+h+"/v[A-Za-z0-9_]+/b/"+o+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp("^https?://"+(n===ce?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+o+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:l}],i=0;i<f.length;i++){var d=f[i],v=d.regex.exec(e);if(v){var m=v[d.indices.bucket],y=v[d.indices.path];y||(y=""),r=new t(m,y),d.postModify(r);break}}if(null==r)throw function(t){return new le("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),Pe=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function Re(p){return"string"==typeof p||p instanceof String}function De(p){return Me()&&p instanceof Blob}function Me(){return"undefined"!=typeof Blob}function Le(t,e,n,r){if(r<e)throw ve("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw ve("Invalid value for '"+t+"'. Expected "+n+" or less.")}function Fe(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function Ue(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}var qe=function(){function t(t,e,n,body,r,o,c,l,h,f,d){var v=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=body,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=c,this.errorCallback_=l,this.progressCallback_=f,this.timeout_=h,this.pool_=d,this.promise_=new Promise((function(t,e){v.resolve_=t,v.reject_=e,v.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,o=t.resolve_,c=t.reject_,l=n.xhr;if(n.wasSuccessCode)try{var h=t.callback_(l,l.getResponseText());void 0!==h?o(h):o()}catch(t){c(t)}else null!==l?((r=fe()).serverResponse=l.getResponseText(),t.errorCallback_?c(t.errorCallback_(l,r)):c(r)):n.canceled?c(r=t.appDelete_?ge():de()):c(r=new le("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Ve(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,o=null,c=!1,l=0;function h(){return 2===l}var d=!1;function v(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];d||(d=!0,e.apply(null,t))}function m(e){o=setTimeout((function(){o=null,t(y,h())}),e)}function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!d)if(t)v.call.apply(v,Object(f.f)([null,t],e));else{var o;h()||c?v.call.apply(v,Object(f.f)([null,t],e)):(r<64&&(r*=2),1===l?(l=2,o=0):o=1e3*(r+Math.random()),m(o))}}var _=!1;function w(t){_||(_=!0,d||(null!==o?(t||(l=2),clearTimeout(o),m(0)):t||(l=1)))}return m(0),setTimeout((function(){c=!0,w(!0)}),n),w}((function(e,n){if(n)e(!1,new Ve(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(o),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(o),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Ee.NO_ERROR,c=n.getStatus();if(r&&!t.isRetryStatusCode_(c)){var l=-1!==t.successCodes_.indexOf(c);e(!0,new Ve(l,n))}else{var h=n.getErrorCode()===Ee.ABORT;e(!1,new Ve(!1,null,h))}}))}function o(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Ve=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function Be(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ke(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Be();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Me())return new Blob(t);throw new le("unsupported-environment","This browser doesn't seem to support creating Blobs")}var We=function(){function t(data,t){var e=0,n="";De(data)?(this.data_=data,e=data.size,n=data.type):data instanceof ArrayBuffer?(t?this.data_=new Uint8Array(data):(this.data_=new Uint8Array(data.byteLength),this.data_.set(new Uint8Array(data))),e=this.data_.length):data instanceof Uint8Array&&(t?this.data_=data:(this.data_=new Uint8Array(data.length),this.data_.set(data)),e=data.length),this.size_=e,this.type_=n}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(De(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Me()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Ke.apply(null,r))}var o=e.map((function(t){return Re(t)?Oe(_e.RAW,t).data:t.data_})),c=0;o.forEach((function(t){c+=t.byteLength}));var l=new Uint8Array(c),h=0;return o.forEach((function(t){for(var i=0;i<t.length;i++)l[h++]=t[i]})),new t(l,!0)},t.prototype.uploadData=function(){return this.data_},t}();function He(s){var t,p;try{t=JSON.parse(s)}catch(t){return null}return"object"!=typeof(p=t)||Array.isArray(p)?null:t}function ze(path){var t=path.lastIndexOf("/",path.length-2);return-1===t?path:path.slice(t+1)}function Ge(t,e){return e}var $e=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Ge},Ye=null;function Xe(){if(Ye)return Ye;var t=[];t.push(new $e("bucket")),t.push(new $e("generation")),t.push(new $e("metageneration")),t.push(new $e("name","fullPath",!0));var e=new $e("name");e.xform=function(t,e){return function(t){return!Re(t)||t.length<2?t:ze(t)}(e)},t.push(e);var n=new $e("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new $e("timeCreated")),t.push(new $e("updated")),t.push(new $e("md5Hash",null,!0)),t.push(new $e("cacheControl",null,!0)),t.push(new $e("contentDisposition",null,!0)),t.push(new $e("contentEncoding",null,!0)),t.push(new $e("contentLanguage",null,!0)),t.push(new $e("contentType",null,!0)),t.push(new $e("metadata","customMetadata",!0)),Ye=t}function Je(t,e,n){for(var r={type:"file"},o=n.length,i=0;i<o;i++){var c=n[i];r[c.local]=c.xform(r,e[c.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,path=t.fullPath,r=new Ae(n,path);return e._makeStorageReference(r)}})}(r,t),r}function Qe(t,e,n){var r=He(e);return null===r?null:Je(t,r,n)}function Ze(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function tn(t,e,n){var r=He(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var o=0,c=n.prefixes;o<c.length;o++){var l=c[o].replace(/\/$/,""),h=t._makeStorageReference(new Ae(e,l));r.prefixes.push(h)}if(n.items)for(var f=0,d=n.items;f<d.length;f++){var v=d[f];h=t._makeStorageReference(new Ae(e,v.name)),r.items.push(h)}return r}(t,e,r)}var en=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function nn(t){if(!t)throw fe()}function rn(t,e){return function(n,text){var r=Qe(t,text,e);return nn(null!==r),r}}function on(t,e){return function(n,text){var r=Qe(t,text,e);return nn(null!==r),function(t,e,n){var r=He(e);if(null===r)return null;if(!Re(r.downloadTokens))return null;var o=r.downloadTokens;if(0===o.length)return null;var c=encodeURIComponent;return o.split(",").map((function(e){var r=t.bucket,path=t.fullPath;return Fe("/b/"+c(r)+"/o/"+c(path),n)+Ue({alt:"media",token:e})}))[0]}(r,text,t.host)}}function an(t){return function(e,n){var r,path,o;return 401===e.getStatus()?r=new le("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new le("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(path=t.path,r=new le("unauthorized","User does not have permission to access '"+path+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function sn(t){var e=an(t);return function(n,r){var path,o=e(n,r);return 404===n.getStatus()&&(path=t.path,o=new le("object-not-found","Object '"+path+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function un(t,e,n){var r=Fe(e.fullServerUrl(),t.host),o=t.maxOperationRetryTime,c=new en(r,"GET",rn(t,n),o);return c.errorHandler=sn(e),c}function cn(t,e,n,r,o){var c={};e.isRoot?c.prefix="":c.prefix=e.path+"/",n&&n.length>0&&(c.delimiter=n),r&&(c.pageToken=r),o&&(c.maxResults=o);var l=Fe(e.bucketOnlyServerUrl(),t.host),h=t.maxOperationRetryTime,f=new en(l,"GET",function(t,e){return function(n,text){var r=tn(t,e,text);return nn(null!==r),r}}(t,e.bucket),h);return f.urlParams=c,f.errorHandler=an(e),f}function ln(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var hn=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function fn(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){nn(!1)}return nn(!!n&&-1!==(e||["active"]).indexOf(n)),n}var dn=262144;function pn(t,e,n,r,o,c,l,h){var f=new hn(0,0);if(l?(f.current=l.current,f.total=l.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw new le("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var d=f.total-f.current,v=d;o>0&&(v=Math.min(v,o));var m=f.current,y=m+v,_={"X-Goog-Upload-Command":v===d?"upload, finalize":"upload","X-Goog-Upload-Offset":f.current},body=r.slice(m,y);if(null===body)throw pe();var w=e.maxUploadRetryTime,O=new en(n,"POST",(function(t,text){var n,o=fn(t,["active","final"]),l=f.current+v,h=r.size();return n="final"===o?rn(e,c)(t,text):null,new hn(l,h,"final"===o,n)}),w);return O.headers=_,O.body=body.uploadData(),O.progressCallback=h||null,O.errorHandler=an(t),O}var vn=function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};function gn(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var mn=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Xe(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then((function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,o){var c=e.bucketOnlyServerUrl(),l=ln(e,r,o),h={name:l.fullPath},f=Fe(c,t.host),d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},body=Ze(l,n),v=t.maxUploadRetryTime,m=new en(f,"POST",(function(t){var e;fn(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){nn(!1)}return nn(Re(e)),e}),v);return m.urlParams=h,m.headers=d,m.body=body,m.errorHandler=an(e),m}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var o=t.maxUploadRetryTime,c=new en(n,"POST",(function(t){var e=fn(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){nn(!1)}n||nn(!1);var o=Number(n);return nn(!isNaN(o)),new hn(o,r.size(),"final"===e)}),o);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=an(e),c}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(r,n);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=dn*this._chunkMultiplier,n=new hn(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(o){var c;try{c=pn(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(e){return t._error=e,void t._transition("error")}var l=t._ref.storage._makeRequest(c,o);t._request=l,l.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){dn*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=un(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,o){var c=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},h=function(){for(var t="",i=0;i<2;i++)t+=Math.random().toString().slice(2);return t}();l["Content-Type"]="multipart/related; boundary="+h;var f=ln(e,r,o),d="--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ze(f,n)+"\r\n--"+h+"\r\nContent-Type: "+f.contentType+"\r\n\r\n",v="\r\n--"+h+"--",body=We.getBlob(d,r,v);if(null===body)throw pe();var m={name:f.fullPath},y=Fe(c,t.host),_=t.maxUploadRetryTime,w=new en(y,"POST",rn(t,n),_);return w.urlParams=m,w.headers=l,w.body=body.uploadData(),w.errorHandler=an(e),w}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=de(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=xe(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var o=this,c=new vn(e,n,r);return this._addObserver(c),function(){o._removeObserver(c)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var i=this._observers.indexOf(t);-1!==i&&this._observers.splice(i,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(xe(this._state)){case ke.SUCCESS:gn(this._resolve.bind(null,this.snapshot))();break;case ke.CANCELED:case ke.ERROR:gn(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(xe(this._state)){case ke.RUNNING:case ke.PAUSED:t.next&&gn(t.next.bind(t,this.snapshot))();break;case ke.SUCCESS:t.complete&&gn(t.complete.bind(t))();break;case ke.CANCELED:case ke.ERROR:t.error&&gn(t.error.bind(t,this._error))();break;default:t.error&&gn(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),yn=function(){function t(t,e){this._service=t,this._location=e instanceof Ae?e:Ae.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Ae(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return ze(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(path){if(0===path.length)return null;var t=path.lastIndexOf("/");return-1===t?"":path.slice(0,t)}(this._location.path);if(null===e)return null;var n=new Ae(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw me(t)},t}();function bn(t){var e={prefixes:[],items:[]};return _n(t,e).then((function(){return e}))}function _n(t,e,n){return Object(f.b)(this,void 0,void 0,(function(){var r,o,c;return Object(f.d)(this,(function(l){switch(l.label){case 0:return[4,wn(t,{pageToken:n})];case 1:return r=l.sent(),(o=e.prefixes).push.apply(o,r.prefixes),(c=e.items).push.apply(c,r.items),null==r.nextPageToken?[3,3]:[4,_n(t,e,r.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}}))}))}function wn(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n,r,o;return Object(f.d)(this,(function(c){switch(c.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Le("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=c.sent(),r=e||{},o=cn(t.storage,t._location,"/",r.pageToken,r.maxResults),[2,t.storage._makeRequest(o,n).getPromise()]}}))}))}function On(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n,r;return Object(f.d)(this,(function(o){switch(o.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),r=function(t,e,n,r){var o=Fe(e.fullServerUrl(),t.host),body=Ze(n,r),c=t.maxOperationRetryTime,l=new en(o,"PATCH",rn(t,r),c);return l.headers={"Content-Type":"application/json; charset=utf-8"},l.body=body,l.errorHandler=sn(e),l}(t.storage,t._location,e,Xe()),[2,t.storage._makeRequest(r,n).getPromise()]}}))}))}function In(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n;return Object(f.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=Fe(e.fullServerUrl(),t.host),o=t.maxOperationRetryTime,c=new en(r,"GET",on(t,n),o);return c.errorHandler=sn(e),c}(t.storage,t._location,Xe()),[2,t.storage._makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new le("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}function Tn(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n;return Object(f.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=Fe(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,o=new en(n,"DELETE",(function(t,e){}),r);return o.successCodes=[200,204],o.errorHandler=sn(e),o}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}}))}))}function Sn(t,e){var n=function(path,t){var e=t.split("/").filter((function(component){return component.length>0})).join("/");return 0===path.length?e:path+"/"+e}(t._location.path,e),r=new Ae(t._location.bucket,n);return new yn(t.storage,r)}function En(path){return/^[A-Za-z]+:\/\//.test(path)}function Cn(t,path){if(t instanceof Nn){var e=t;if(null==e._bucket)throw new le("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var n=new yn(e,e._bucket);return null!=path?Cn(n,path):n}if(void 0!==path){if(path.includes(".."))throw ve('`path` param cannot contain ".."');return Sn(t,path)}return t}function kn(t,e){if(e&&En(e)){if(t instanceof Nn)return new yn(t,e);throw ve("To use ref(service, url), the first argument must be a Storage instance.")}return Cn(t,e)}function xn(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:Ae.makeFromBucketSpec(n,t)}var Nn=function(){function t(t,e,n,r,o){this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=ce,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ae.makeFromBucketSpec(r,this._host):xn(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=Ae.makeFromBucketSpec(this._url,t):this._bucket=xn(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(time){Le("time",0,Number.POSITIVE_INFINITY,time),this._maxUploadRetryTime=time},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(time){Le("time",0,Number.POSITIVE_INFINITY,time),this._maxOperationRetryTime=time},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(f.b)(this,void 0,void 0,(function(){var t,e;return Object(f.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new yn(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new Pe(ge());var r=function(t,e,n,r,o){var c=Ue(t.urlParams),l=t.url+c,h=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(h,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(h,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(h,o),new qe(l,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}();function jn(t,data,e){return function(t,data,e){return t._throwIfRoot("uploadBytesResumable"),new mn(t,new We(data),e)}(t=Object(c.p)(t),data,e)}function An(t){return function(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n;return Object(f.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=un(t.storage,t._location,Xe()),[2,t.storage._makeRequest(n,e).getPromise()]}}))}))}(t=Object(c.p)(t))}function Pn(t,e){return kn(t=Object(c.p)(t),e)}var Rn=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Dn=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Rn(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new Rn(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var o=this,c=void 0;return e&&(c="function"==typeof e?function(t){return e(new Rn(t,o,o._ref))}:{next:e.next?function(t){return e.next(new Rn(t,o,o._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,c,n||void 0,r||void 0)},t}(),Mn=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new Ln(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new Ln(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Ln=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return Sn(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(data,t){return this._throwIfRoot("put"),new Dn(jn(this._delegate,data,t),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=_e.RAW),this._throwIfRoot("putString");var data=Oe(e,t),r=Object(f.a)({},n);return null==r.contentType&&null!=data.contentType&&(r.contentType=data.contentType),new Dn(new mn(this._delegate,new We(data.data,!0),r),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,bn(t=Object(c.p)(t))).then((function(t){return new Mn(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return wn(t=Object(c.p)(t),e)}(this._delegate,t||void 0).then((function(t){return new Mn(t,e.storage)}))},t.prototype.getMetadata=function(){return An(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return On(t=Object(c.p)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,In(t=Object(c.p)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,Tn(t=Object(c.p)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw me(t)},t}(),Fn=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(path){if(En(path))throw ve("ref() expected a child path but got a URL, use refFromURL instead.");return new Ln(Pn(this._delegate,path),this)},t.prototype.refFromURL=function(t){if(!En(t))throw ve("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ae.makeFromUrl(t,this._delegate.host)}catch(t){throw ve("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ln(Pn(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(time){this._delegate.maxUploadRetryTime=time},t.prototype.setMaxOperationRetryTime=function(time){this._delegate.maxOperationRetryTime=time},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function Un(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),c=t.getProvider("auth-internal");return new Fn(r,new Nn(r,c,new je,n,o.a.SDK_VERSION))}!function(t){var e={TaskState:ke,TaskEvent:Ce,StringFormat:_e,Storage:Nn,Reference:Ln};t.INTERNAL.registerComponent(new d.a("storage",Un,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.5.0")}(o.a);var qn,Vn,Bn,Kn="0.4.11",Wn=Kn,Hn="FB-PERF-TRACE-MEASURE",zn="_wt_",Gn="_fcp",$n="_fid",Yn="@firebase/performance/config",Xn="@firebase/performance/configexpire",Jn="Performance",Qn=((qn={})["trace started"]="Trace {$traceName} was started before.",qn["trace stopped"]="Trace {$traceName} is not running.",qn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",qn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",qn["no window"]="Window is not available.",qn["no app id"]="App id is not available.",qn["no project id"]="Project id is not available.",qn["no api key"]="Api key is not available.",qn["invalid cc log"]="Attempted to queue invalid cc event",qn["FB not default"]="Performance can only start when Firebase app instance is the default one.",qn["RC response not ok"]="RC response is not ok",qn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",qn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",qn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",qn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",qn),Zn=new c.b("performance",Jn,Qn),er=new l.b(Jn);er.logLevel=l.a.INFO;var nr,rr=function(){function t(t){if(this.window=t,!t)throw Zn.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(c.x)()||(er.info("IndexedDB is not supported by current browswer"),!1):(er.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var o=r[n];e(o)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===Vn&&(Vn=new t(Bn)),Vn},t}();function ir(t,e){var n=t.length-e.length;if(n<0||n>1)throw Zn.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var or,ar,sr=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=ir("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=ir("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Zn.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Zn.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Zn.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===nr&&(nr=new t),nr},t}();function ur(){return or}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(ar||(ar={}));var cr=["firebase_","google_","ga_"],lr=new RegExp("^[a-zA-Z]\\w*$");function fr(){var t=rr.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function dr(){switch(rr.getInstance().document.visibilityState){case"visible":return ar.VISIBLE;case"hidden":return ar.HIDDEN;default:return ar.UNKNOWN}}function pr(){var t=rr.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var vr="0.0.1",gr=!0,mr="FIREBASE_INSTALLATIONS_AUTH";function yr(t){var e=function(){var t=rr.getInstance().localStorage;if(!t)return;var e=t.getItem(Xn);if(!(e&&(n=e,Number(n)>Date.now())))return;var n;var r=t.getItem(Yn);if(!r)return;try{return JSON.parse(r)}catch(t){return}}();return e?(wr(e),Promise.resolve()):function(t){return(e=sr.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+sr.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+sr.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:mr+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:sr.getInstance().getAppId(),app_version:Wn,sdk_version:vr})});return fetch(r).then((function(t){if(t.ok)return t.json();throw Zn.create("RC response not ok")}))})).catch((function(){er.info(_r)}));var e}(t).then(wr).then((function(t){return function(t){var e=rr.getInstance().localStorage;if(!t||!e)return;e.setItem(Yn,JSON.stringify(t)),e.setItem(Xn,String(Date.now()+60*sr.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}var _r="Could not fetch config, will use default configs";function wr(t){if(!t)return t;var e=sr.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=gr,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=Or(e.tracesSamplingRate),e.logNetworkAfterSampling=Or(e.networkRequestsSamplingRate),t}function Or(t){return Math.random()<=t}var Ir,Tr=1;function Sr(){return Tr=2,Ir=Ir||function(){var t=rr.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=sr.getInstance().installationsService.getId()).then((function(t){or=t})),t;var t})).then((function(t){return yr(t)})).then((function(){return Er()}),(function(){return Er()}))}function Er(){Tr=3}var Cr,kr=1e4,xr=3,Nr=[],jr=!1;function Ar(t){setTimeout((function(){var t,e;if(0!==xr)return Nr.length?(t=Nr.splice(0,1e3),e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),void function(data,t){return function(data){var t=sr.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(data)})}(data).then((function(t){return t.ok||er.info("Call to Firebase backend failed."),t.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=kr;isNaN(n)||(r=Math.max(n,r));var o=e.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(Nr=Object(f.f)(Object(f.f)([],t),Nr),er.info("Retry transport request later.")),xr=3,Ar(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:sr.getInstance().logSource,log_event:e},t).catch((function(){Nr=Object(f.f)(Object(f.f)([],t),Nr),xr--,er.info("Tries left: "+xr+"."),Ar(kr)}))):Ar(kr)}),t)}function Pr(t){if(!t.eventTime||!t.message)throw Zn.create("invalid cc log");Nr=Object(f.f)(Object(f.f)([],Nr),[t])}function Rr(t,e){Cr||(Cr=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Pr({message:t.apply(void 0,e),eventTime:Date.now()})}}(Lr)),Cr(t,e)}function Dr(t){var e=sr.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&rr.getInstance().requiredApisAvailable()&&(t.isAuto&&dr()!==ar.VISIBLE||(3===Tr?Mr(t):Sr().then((function(){return Mr(t)}),(function(){return Mr(t)}))))}function Mr(t){if(ur()){var e=sr.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return Rr(t,1)}),0)}}function Lr(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},o={application_info:Fr(),network_request_metric:r},JSON.stringify(o)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:Fr(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,o}function Fr(){return{google_app_id:sr.getInstance().getAppId(),app_instance_id:ur(),web_app_info:{sdk_version:Wn,page_url:rr.getInstance().getUrl(),service_worker_status:fr(),visibility_state:dr(),effective_connection_type:pr()},application_process_state:0}}var Ur=["_fp",Gn,$n];var qr=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=rr.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw Zn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw Zn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Dr(this)},t.prototype.record=function(t,e,n){if(t<=0)throw Zn.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw Zn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(f.a)({},n.attributes)),n&&n.metrics)for(var r=0,o=Object.keys(n.metrics);r<o.length;r++){var c=o[r];isNaN(Number(n.metrics[c]))||(this.counters[c]=Number(Math.floor(n.metrics[c])))}Dr(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(o=t,c=this.name,0===o.length||o.length>100||!(c&&c.startsWith(zn)&&Ur.indexOf(o)>-1)&&o.startsWith("_"))throw Zn.create("invalid custom metric name",{customMetricName:t});var n,r,o,c;this.counters[t]=(n=e,(r=Math.floor(n))<n&&er.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>40||cr.some((function(t){return n.startsWith(t)}))||!n.match(lr)),o=function(t){return 0!==t.length&&t.length<=100}(e);if(r&&o)this.customAttributes[t]=e;else{if(!r)throw Zn.create("invalid attribute name",{attributeName:t});if(!o)throw Zn.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(f.a)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var o=rr.getInstance().getUrl();if(o){var c=new t(zn+o,!0),l=Math.floor(1e3*rr.getInstance().getTimeOrigin());c.setStartTime(l),e&&e[0]&&(c.setDuration(Math.floor(1e3*e[0].duration)),c.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),c.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),c.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var h=n.find((function(t){return"first-paint"===t.name}));h&&h.startTime&&c.putMetric("_fp",Math.floor(1e3*h.startTime));var f=n.find((function(t){return"first-contentful-paint"===t.name}));f&&f.startTime&&c.putMetric(Gn,Math.floor(1e3*f.startTime)),r&&c.putMetric($n,Math.floor(1e3*r))}Dr(c)}},t.createUserTimingTrace=function(e){Dr(new t(e,!1,e))},t}();function Vr(t){var e=t;if(e&&void 0!==e.responseStart){var n=rr.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),o=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,c=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=sr.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],o=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==o&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return Rr(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:o,timeToResponseCompletedUs:c})}}function Br(){ur()&&(setTimeout((function(){return function(){var t=rr.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){qr.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),qr.createOobTrace(e,n,t))}))}else qr.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=rr.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){Vr(r[n])}t.setupObserver("resource",Vr)}()}),0),setTimeout((function(){return function(){for(var t=rr.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){Kr(r[n])}t.setupObserver("measure",Kr)}()}),0))}function Kr(t){var e=t.name;e.substring(0,Hn.length)!==Hn&&qr.createUserTimingTrace(e)}var Wr=function(){function t(t){this.app=t,rr.getInstance().requiredApisAvailable()&&Object(c.O)().then((function(t){t&&(jr||(Ar(5500),jr=!0),Sr().then(Br,Br))})).catch((function(t){er.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new qr(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return sr.getInstance().instrumentationEnabled},set:function(t){sr.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return sr.getInstance().dataCollectionEnabled},set:function(t){sr.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){var e=function(t,e){if("[DEFAULT]"!==t.name)throw Zn.create("FB not default");if("undefined"==typeof window)throw Zn.create("no window");return function(t){Bn=t}(window),sr.getInstance().firebaseAppInstance=t,sr.getInstance().installationsService=e,new Wr(t)};t.INTERNAL.registerComponent(new d.a("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion("@firebase/performance",Kn)}(o.a);var Hr,zr,Gr="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(Hr||(Hr={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(zr||(zr={}));var $r,Yr=new l.b("@firebase/analytics");function Xr(t,e,n,r,o,c){return Object(f.b)(this,void 0,void 0,(function(){var l,h,d,v;return Object(f.d)(this,(function(f){switch(f.label){case 0:l=r[o],f.label=1;case 1:return f.trys.push([1,7,,8]),l?[4,e[l]]:[3,3];case 2:return f.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return h=f.sent(),(d=h.find((function(t){return t.measurementId===o})))?[4,e[d.appId]]:[3,6];case 5:f.sent(),f.label=6;case 6:return[3,8];case 7:return v=f.sent(),Yr.error(v),[3,8];case 8:return t(Hr.CONFIG,o,c),[2]}}))}))}function Jr(t,e,n,r,o){return Object(f.b)(this,void 0,void 0,(function(){var c,l,h,d,v,m,y,_;return Object(f.d)(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),c=[],o&&o.send_to?(l=o.send_to,Array.isArray(l)||(l=[l]),[4,Promise.all(n)]):[3,2];case 1:for(h=f.sent(),d=function(t){var n=h.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return c=[],"break";c.push(r)},v=0,m=l;v<m.length&&(y=m[v],"break"!==d(y));v++);f.label=2;case 2:return 0===c.length&&(c=Object.values(e)),[4,Promise.all(c)];case 3:return f.sent(),t(Hr.EVENT,r,o||{}),[3,5];case 4:return _=f.sent(),Yr.error(_),[3,5];case 5:return[2]}}))}))}function Qr(t,e,n,r,o){var c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(c=window[o]),window[o]=function(t,e,n,r){return function(o,c,l){return Object(f.b)(this,void 0,void 0,(function(){var h;return Object(f.d)(this,(function(f){switch(f.label){case 0:return f.trys.push([0,6,,7]),o!==Hr.EVENT?[3,2]:[4,Jr(t,e,n,c,l)];case 1:return f.sent(),[3,5];case 2:return o!==Hr.CONFIG?[3,4]:[4,Xr(t,e,n,r,c,l)];case 3:return f.sent(),[3,5];case 4:t(Hr.SET,c),f.label=5;case 5:return[3,7];case 6:return h=f.sent(),Yr.error(h),[3,7];case 7:return[2]}}))}))}}(c,t,e,n),{gtagCore:c,wrappedGtag:window[o]}}var Zr=(($r={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",$r["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",$r["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",$r["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",$r["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",$r["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",$r["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",$r["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',$r["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',$r),ti=new c.b("analytics","Analytics",Zr),ei=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function ni(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function ri(t){var e;return Object(f.b)(this,void 0,void 0,(function(){var n,r,o,c,l,h,d;return Object(f.d)(this,(function(f){switch(f.label){case 0:return n=t.appId,r=t.apiKey,o={method:"GET",headers:ni(r)},c="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(c,o)];case 1:if(200===(l=f.sent()).status||304===l.status)return[3,6];h="",f.label=2;case 2:return f.trys.push([2,4,,5]),[4,l.json()];case 3:return d=f.sent(),(null===(e=d.error)||void 0===e?void 0:e.message)&&(h=d.error.message),[3,5];case 4:return f.sent(),[3,5];case 5:throw ti.create("config-fetch-failed",{httpStatus:l.status,responseMessage:h});case 6:return[2,l.json()]}}))}))}function ii(t,e,n,r){var o=e.throttleEndTimeMillis,l=e.backoffCount;return void 0===r&&(r=ei),Object(f.b)(this,void 0,void 0,(function(){var e,h,d,v,m,y,_;return Object(f.d)(this,(function(f){switch(f.label){case 0:e=t.appId,h=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,oi(n,o)];case 2:return f.sent(),[3,4];case 3:if(d=f.sent(),h)return Yr.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+h+' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]"),[2,{appId:e,measurementId:h}];throw d;case 4:return f.trys.push([4,6,,7]),[4,ri(t)];case 5:return v=f.sent(),r.deleteThrottleMetadata(e),[2,v];case 6:if(!function(t){if(!(t instanceof c.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(m=f.sent())){if(r.deleteThrottleMetadata(e),h)return Yr.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+h+' provided in the "measurementId" field in the local Firebase config. ['+m.message+"]"),[2,{appId:e,measurementId:h}];throw m}return y=503===Number(m.customData.httpStatus)?Object(c.j)(l,r.intervalMillis,30):Object(c.j)(l,r.intervalMillis),_={throttleEndTimeMillis:Date.now()+y,backoffCount:l+1},r.setThrottleMetadata(e,_),Yr.debug("Calling attemptFetch again in "+y+" millis"),[2,ii(t,_,n,r)];case 7:return[2]}}))}))}function oi(t,e){return new Promise((function(n,r){var o=Math.max(e-Date.now(),0),c=setTimeout(n,o);t.addEventListener((function(){clearTimeout(c),r(ti.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var ai=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();function si(t,e,n,r,o,l){return Object(f.b)(this,void 0,void 0,(function(){var h,d,v,m,y,_,w;return Object(f.d)(this,(function(O){switch(O.label){case 0:return(h=function(t,e,n){return void 0===e&&(e=ei),Object(f.b)(this,void 0,void 0,(function(){var r,o,c,l,h,d,v=this;return Object(f.d)(this,(function(m){if(r=t.options,o=r.appId,c=r.apiKey,l=r.measurementId,!o)throw ti.create("no-app-id");if(!c){if(l)return[2,{measurementId:l,appId:o}];throw ti.create("no-api-key")}return h=e.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new ai,setTimeout((function(){return Object(f.b)(v,void 0,void 0,(function(){return Object(f.d)(this,(function(t){return d.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,ii({appId:o,apiKey:c,measurementId:l},h,d,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Yr.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return Yr.error(t)})),e.push(h),d=function(){return Object(f.b)(this,void 0,void 0,(function(){var t;return Object(f.d)(this,(function(e){switch(e.label){case 0:return Object(c.x)()?[3,1]:(Yr.warn(ti.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(c.O)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Yr.warn(ti.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([h,d])];case 1:return v=O.sent(),m=v[0],y=v[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(Gr))return r}return null}()||function(t,e){var script=document.createElement("script");script.src=Gr+"?l="+t+"&id="+e,script.async=!0,document.head.appendChild(script)}(l,m.measurementId),o("js",new Date),(w={}).origin="firebase",w.update=!0,_=w,null!=y&&(_.firebase_id=y),o(Hr.CONFIG,m.measurementId,_),[2,m.measurementId]}}))}))}var ui,ci,hi={},fi=[],di={},pi="dataLayer",vi="gtag",gi=!1;function mi(t){if(gi)throw ti.create("already-initialized");t.dataLayerName&&(pi=t.dataLayerName),t.gtagName&&(vi=t.gtagName)}function yi(t,e){!function(){var t=[];if(Object(c.t)()&&t.push("This is a browser extension environment."),Object(c.e)()||t.push("Cookies are not available."),t.length>0){var details=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),e=ti.create("invalid-analytics-context",{errorInfo:details});Yr.warn(e.message)}}();var n,r,o=t.options.appId;if(!o)throw ti.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw ti.create("no-api-key");Yr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=hi[o])throw ti.create("already-exists",{id:o});if(!gi){n=pi,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var l=Qr(hi,fi,di,pi,vi),h=l.wrappedGtag,d=l.gtagCore;ci=h,ui=d,gi=!0}return hi[o]=si(t,fi,di,e,ui,pi),{app:t,logEvent:function(t,e,n){(function(t,e,n,r,o){return Object(f.b)(this,void 0,void 0,(function(){var c,l;return Object(f.d)(this,(function(h){switch(h.label){case 0:return o&&o.global?(t(Hr.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:c=h.sent(),l=Object(f.a)(Object(f.a)({},r),{send_to:c}),t(Hr.EVENT,n,l),h.label=3;case 3:return[2]}}))}))})(ci,hi[o],t,e,n).catch((function(t){return Yr.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(f.b)(this,void 0,void 0,(function(){var o;return Object(f.d)(this,(function(c){switch(c.label){case 0:return r&&r.global?(t(Hr.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:o=c.sent(),t(Hr.CONFIG,o,{update:!0,screen_name:n}),c.label=3;case 3:return[2]}}))}))})(ci,hi[o],t,e).catch((function(t){return Yr.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Object(f.b)(this,void 0,void 0,(function(){var o;return Object(f.d)(this,(function(c){switch(c.label){case 0:return r&&r.global?(t(Hr.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:o=c.sent(),t(Hr.CONFIG,o,{update:!0,user_id:n}),c.label=3;case 3:return[2]}}))}))})(ci,hi[o],t,e).catch((function(t){return Yr.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Object(f.b)(this,void 0,void 0,(function(){var o,c,l,h,d;return Object(f.d)(this,(function(f){switch(f.label){case 0:if(!r||!r.global)return[3,1];for(o={},c=0,l=Object.keys(n);c<l.length;c++)h=l[c],o["user_properties."+h]=n[h];return t(Hr.SET,o),[2,Promise.resolve()];case 1:return[4,e];case 2:d=f.sent(),t(Hr.CONFIG,d,{update:!0,user_properties:n}),f.label=3;case 3:return[2]}}))}))})(ci,hi[o],t,e).catch((function(t){return Yr.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n;return Object(f.d)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(hi[o],t).catch((function(t){return Yr.error(t)}))},INTERNAL:{delete:function(){return delete hi[o],Promise.resolve()}}}}var bi="analytics";function _i(){return Object(f.b)(this,void 0,void 0,(function(){return Object(f.d)(this,(function(t){switch(t.label){case 0:if(Object(c.t)())return[2,!1];if(!Object(c.e)())return[2,!1];if(!Object(c.x)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(c.O)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new d.a(bi,(function(t){return yi(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:mi,EventName:zr,isSupported:_i})),t.INTERNAL.registerComponent(new d.a("analytics-internal",(function(t){try{return{logEvent:t.getProvider(bi).getImmediate().logEvent}}catch(t){throw ti.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.9")}(o.a);var wi,Oi=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n,r,o,c;return Object(f.d)(this,(function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=l.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return o=l.sent(),c=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&c.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(c)];case 3:return l.sent(),[2,o]}}))}))},t}(),Ii=((wi={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",wi["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",wi["registration-api-key"]="Undefined API key. Check Firebase app initialization.",wi["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",wi["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",wi["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",wi["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",wi["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",wi["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",wi["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',wi["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',wi["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",wi["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",wi),Ti=new c.b("remoteconfig","Remote Config",Ii);var Si=function(){function t(t,e,n,r,o,c){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=o,this.appId=c}return t.prototype.fetch=function(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n,r,o,c,l,h,d,v,m,y,_,w,O,I,T,S,E,C;return Object(f.d)(this,(function(f){switch(f.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=f.sent(),n=e[0],r=e[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",c=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},h={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===k&&(k=navigator),k.languages&&k.languages[0]||k.language)},d={method:"POST",headers:l,body:JSON.stringify(h)},v=fetch(c,d),m=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),f.label=2;case 2:return f.trys.push([2,5,,6]),[4,Promise.race([v,m])];case 3:return f.sent(),[4,v];case 4:return y=f.sent(),[3,6];case 5:throw _=f.sent(),w="fetch-client-network","AbortError"===_.name&&(w="fetch-timeout"),Ti.create(w,{originalErrorMessage:_.message});case 6:if(O=y.status,I=y.headers.get("ETag")||void 0,200!==y.status)return[3,11];E=void 0,f.label=7;case 7:return f.trys.push([7,9,,10]),[4,y.json()];case 8:return E=f.sent(),[3,10];case 9:throw C=f.sent(),Ti.create("fetch-client-parse",{originalErrorMessage:C.message});case 10:T=E.entries,S=E.state,f.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===S?O=500:"NO_CHANGE"===S?O=304:"NO_TEMPLATE"!==S&&"EMPTY_CONFIG"!==S||(T={}),304!==O&&200!==O)throw Ti.create("fetch-status",{httpStatus:O});return[2,{status:O,eTag:I,config:T}]}var k}))}))},t}(),Ei=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),Ci=["1","true","t","yes","y","on"],ki=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&Ci.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),xi=function(){function t(t,e,n,r,o){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=l.a.DEBUG;break;case"silent":this._logger.logLevel=l.a.SILENT;break;default:this._logger.logLevel=l.a.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(f.b)(this,void 0,void 0,(function(){var t,e,n;return Object(f.d)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return Object(f.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(f.d)(this,(function(o){switch(o.label){case 0:t=new Ei,setTimeout((function(){return Object(f.b)(r,void 0,void 0,(function(){return Object(f.d)(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return e=o.sent(),h="fetch-throttle",n=(l=e)instanceof c.c&&-1!==l.code.indexOf(h)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw o.sent(),e;case 6:return[2]}var l,h}))}))},t.prototype.fetchAndActivate=function(){return Object(f.b)(this,void 0,void 0,(function(){return Object(f.d)(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys(Object(f.a)(Object(f.a)({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new ki("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new ki("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new ki("static"))},t}();function Ni(t,e){var n=t.target.error||void 0;return Ti.create(e,{originalErrorMessage:n&&n.message})}var ji="app_namespace_store";var Ai=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(Ni(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(ji,{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n=this;return Object(f.d)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,o){var c=e.transaction([ji],"readonly").objectStore(ji),l=n.createCompositeKey(t);try{var h=c.get(l);h.onerror=function(t){o(Ni(t,"storage-get"))},h.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(t){o(Ti.create("storage-get",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.set=function(t,e){return Object(f.b)(this,void 0,void 0,(function(){var n,r=this;return Object(f.d)(this,(function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return n=o.sent(),[2,new Promise((function(o,c){var l=n.transaction([ji],"readwrite").objectStore(ji),h=r.createCompositeKey(t);try{var f=l.put({compositeKey:h,value:e});f.onerror=function(t){c(Ni(t,"storage-set"))},f.onsuccess=function(){o()}}catch(t){c(Ti.create("storage-set",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.delete=function(t){return Object(f.b)(this,void 0,void 0,(function(){var e,n=this;return Object(f.d)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,o){var c=e.transaction([ji],"readwrite").objectStore(ji),l=n.createCompositeKey(t);try{var h=c.delete(l);h.onerror=function(t){o(Ni(t,"storage-delete"))},h.onsuccess=function(){r()}}catch(t){o(Ti.create("storage-delete",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),Pi=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(f.b)(this,void 0,void 0,(function(){var t,e,n,r,o,c;return Object(f.d)(this,(function(l){switch(l.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=l.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(o=l.sent())&&(this.lastSuccessfulFetchTimestampMillis=o),[4,n];case 3:return(c=l.sent())&&(this.activeConfig=c),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function Ri(t,e){return new Promise((function(n,r){var o=Math.max(e-Date.now(),0),c=setTimeout(n,o);t.addEventListener((function(){clearTimeout(c),r(Ti.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var Di,Mi=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(f.b)(this,void 0,void 0,(function(){var e;return Object(f.d)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Object(f.b)(this,void 0,void 0,(function(){var e,o,l;return Object(f.d)(this,(function(h){switch(h.label){case 0:return[4,Ri(t.signal,n)];case 1:h.sent(),h.label=2;case 2:return h.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=h.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return h.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof c.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o=h.sent()))throw o;return l={throttleEndTimeMillis:Date.now()+Object(c.j)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(l)];case 6:return h.sent(),[2,this.attemptFetch(t,l)];case 7:return[2]}}))}))},t}(),Li="@firebase/remote-config";(Di=o.a).INTERNAL.registerComponent(new d.a("remoteConfig",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),o=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw Ti.create("registration-window");var c=r.options,h=c.projectId,f=c.apiKey,d=c.appId;if(!h)throw Ti.create("registration-project-id");if(!f)throw Ti.create("registration-api-key");if(!d)throw Ti.create("registration-app-id");n=n||"firebase";var v=new Ai(d,r.name,n),m=new Pi(v),y=new l.b(Li);y.logLevel=l.a.ERROR;var _=new Si(o,Di.SDK_VERSION,n,h,f,d),w=new Mi(_,v),O=new Oi(w,v,m,y),I=new xi(r,O,m,v,y);return I.ensureInitialized(),I}),"PUBLIC").setMultipleInstances(!0)),Di.registerVersion(Li,"0.1.36");o.a.registerVersion("firebase","8.4.1","app");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),o.a.registerVersion("firebase","8.4.1")},549:function(t,e,n){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=8)}([function(t,e,n){var r=n(4),i=n(5),s=n(6);t.exports=function(t){return r(t)||i(t)||s()}},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e,n){},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){"use strict";var r=n(2);n.n(r).a},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),s=n(1),o=n.n(s),a=n(3),c=n.n(a),l={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()}},methods:{maybeAdjustScroll:function(){var t,e=(null===(t=this.$refs.dropdownMenu)||void 0===t?void 0:t.children[this.typeAheadPointer])||!1;if(e){var n=this.getDropdownViewport(),r=e.getBoundingClientRect(),i=r.top,s=r.bottom,o=r.height;if(i<n.top)return this.$refs.dropdownMenu.scrollTop=e.offsetTop;if(s>n.bottom)return this.$refs.dropdownMenu.scrollTop=e.offsetTop-(n.height-o)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},u={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var t=0;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}}},methods:{typeAheadUp:function(){for(var t=this.typeAheadPointer-1;t>=0;t--)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadDown:function(){for(var t=this.typeAheadPointer+1;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadSelect:function(){var t=this.filteredOptions[this.typeAheadPointer];t&&this.select(t)}}},p={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit("search",this.search,this.toggleLoading)},loading:function(t){this.mutableLoading=t}},methods:{toggleLoading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.mutableLoading=null==t?!this.mutableLoading:t}}};function h(t,e,n,r,i,s,o,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,c):[c]}return{exports:t,options:l}}var f={Deselect:h({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"}},[e("path",{attrs:{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"}})])}),[],!1,null,null,null).exports,OpenIndicator:h({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"}},[e("path",{attrs:{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"}})])}),[],!1,null,null,null).exports},d={inserted:function(t,e,n){var r=n.context;if(r.appendToBody){var i=r.$refs.toggle.getBoundingClientRect(),s=i.height,o=i.top,a=i.left,c=i.width,l=window.scrollX||window.pageXOffset,u=window.scrollY||window.pageYOffset;t.unbindPosition=r.calculatePosition(t,r,{width:c+"px",left:l+a+"px",top:u+o+s+"px"}),document.body.appendChild(t)}},unbind:function(t,e,n){n.context.appendToBody&&(t.unbindPosition&&"function"==typeof t.unbindPosition&&t.unbindPosition(),t.parentNode&&t.parentNode.removeChild(t))}},v=function(t){var e={};return Object.keys(t).sort().forEach((function(n){e[n]=t[n]})),JSON.stringify(e)},b=0,g=function(){return++b};function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={components:y({},f),mixins:[l,u,p],directives:{appendToBody:d},props:{value:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:function(t){return t}},selectable:{type:Function,default:function(t){return!0}},getOptionLabel:{type:Function,default:function(t){return"object"===o()(t)?t.hasOwnProperty(this.label)?t[this.label]:console.warn('[vue-select warn]: Label key "option.'.concat(this.label,'" does not')+" exist in options object ".concat(JSON.stringify(t),".\n")+"https://vue-select.org/api/props.html#getoptionlabel"):t}},getOptionKey:{type:Function,default:function(t){if("object"!==o()(t))return t;try{return t.hasOwnProperty("id")?t.id:v(t)}catch(e){return console.warn("[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\nhttps://vue-select.org/api/props.html#getoptionkey",t,e)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(t,e,n){return(e||"").toLowerCase().indexOf(n.toLowerCase())>-1}},filter:{type:Function,default:function(t,e){var n=this;return t.filter((function(t){var r=n.getOptionLabel(t);return"number"==typeof r&&(r=r.toString()),n.filterBy(t,r,e)}))}},createOption:{type:Function,default:function(t){return"object"===o()(this.optionList[0])?c()({},this.label,t):t}},resetOnOptionsChange:{default:!1,validator:function(t){return["function","boolean"].includes(o()(t))}},clearSearchOnBlur:{type:Function,default:function(t){var e=t.clearSearchOnSelect,n=t.multiple;return e&&!n}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:function(t,e){return t}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(t,e,n){var r=n.width,i=n.top,s=n.left;t.style.top=i,t.style.left=s,t.style.width=r}}},data:function(){return{uid:g(),search:"",open:!1,isComposing:!1,pushedTags:[],_value:[]}},watch:{options:function(t,e){var n=this;!this.taggable&&("function"==typeof n.resetOnOptionsChange?n.resetOnOptionsChange(t,e,n.selectedValue):n.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value)},value:function(t){this.isTrackingValues&&this.setInternalValueFromOptions(t)},multiple:function(){this.clearSelection()},open:function(t){this.$emit(t?"open":"close")}},created:function(){this.mutableLoading=this.loading,void 0!==this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value),this.$on("option:created",this.pushTag)},methods:{setInternalValueFromOptions:function(t){var e=this;Array.isArray(t)?this.$data._value=t.map((function(t){return e.findOptionFromReducedValue(t)})):this.$data._value=this.findOptionFromReducedValue(t)},select:function(t){this.$emit("option:selecting",t),this.isOptionSelected(t)||(this.taggable&&!this.optionExists(t)&&this.$emit("option:created",t),this.multiple&&(t=this.selectedValue.concat(t)),this.updateValue(t),this.$emit("option:selected",t)),this.onAfterSelect(t)},deselect:function(t){var e=this;this.$emit("option:deselecting",t),this.updateValue(this.selectedValue.filter((function(n){return!e.optionComparator(n,t)}))),this.$emit("option:deselected",t)},clearSelection:function(){this.updateValue(this.multiple?[]:null)},onAfterSelect:function(t){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue:function(t){var e=this;void 0===this.value&&(this.$data._value=t),null!==t&&(t=Array.isArray(t)?t.map((function(t){return e.reduce(t)})):this.reduce(t)),this.$emit("input",t)},toggleDropdown:function(t){var e=t.target!==this.searchEl;e&&t.preventDefault();var n=[].concat(i()(this.$refs.deselectButtons||[]),i()([this.$refs.clearButton]||!1));void 0===this.searchEl||n.filter(Boolean).some((function(e){return e.contains(t.target)||e===t.target}))?t.preventDefault():this.open&&e?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(t){var e=this;return this.selectedValue.some((function(n){return e.optionComparator(n,t)}))},optionComparator:function(t,e){return this.getOptionKey(t)===this.getOptionKey(e)},findOptionFromReducedValue:function(t){var e=this,n=[].concat(i()(this.options),i()(this.pushedTags)).filter((function(n){return JSON.stringify(e.reduce(n))===JSON.stringify(t)}));return 1===n.length?n[0]:n.find((function(t){return e.optionComparator(t,e.$data._value)}))||t},closeSearchOptions:function(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var t=null;this.multiple&&(t=i()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(t)}},optionExists:function(t){var e=this;return this.optionList.some((function(n){return e.optionComparator(n,t)}))},normalizeOptionForSlot:function(t){return"object"===o()(t)?t:c()({},this.label,t)},pushTag:function(t){this.pushedTags.push(t)},onEscape:function(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur:function(){if(!this.mousedown||this.searching){var t=this.clearSearchOnSelect,e=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:t,multiple:e})&&(this.search=""),void this.closeSearchOptions()}this.mousedown=!1,0!==this.search.length||0!==this.options.length||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit("search:focus")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onSearchKeyDown:function(t){var e=this,n=function(t){return t.preventDefault(),!e.isComposing&&e.typeAheadSelect()},r={8:function(t){return e.maybeDeleteValue()},9:function(t){return e.onTab()},27:function(t){return e.onEscape()},38:function(t){return t.preventDefault(),e.typeAheadUp()},40:function(t){return t.preventDefault(),e.typeAheadDown()}};this.selectOnKeyCodes.forEach((function(t){return r[t]=n}));var i=this.mapKeydown(r,this);if("function"==typeof i[t.keyCode])return i[t.keyCode](t)}},computed:{isTrackingValues:function(){return void 0===this.value||this.$options.propsData.hasOwnProperty("reduce")},selectedValue:function(){var t=this.value;return this.isTrackingValues&&(t=this.$data._value),t?[].concat(t):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var t=this,e={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:y({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":"vs".concat(this.uid,"__combobox"),"aria-controls":"vs".concat(this.uid,"__listbox"),ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":"vs".concat(this.uid,"__option-").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return t.isComposing=!0},compositionend:function(){return t.isComposing=!1},keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(e){return t.search=e.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.loading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:e,listFooter:e,header:y({},e,{deselect:this.deselect}),footer:y({},e,{deselect:this.deselect})}},childComponents:function(){return y({},f,{},this.components)},stateClasses:function(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return!this.noDrop&&this.open&&!this.mutableLoading},searchPlaceholder:function(){if(this.isValueEmpty&&this.placeholder)return this.placeholder},filteredOptions:function(){var t=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return t;var e=this.search.length?this.filter(t,this.search,this):t;if(this.taggable&&this.search.length){var n=this.createOption(this.search);this.optionExists(n)||e.unshift(n)}return e},isValueEmpty:function(){return 0===this.selectedValue.length},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}}},w=(n(7),h(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-select",class:t.stateClasses,attrs:{dir:t.dir}},[t._t("header",null,null,t.scope.header),t._v(" "),n("div",{ref:"toggle",staticClass:"vs__dropdown-toggle",attrs:{id:"vs"+t.uid+"__combobox",role:"combobox","aria-expanded":t.dropdownOpen.toString(),"aria-owns":"vs"+t.uid+"__listbox","aria-label":"Search for option"},on:{mousedown:function(e){return t.toggleDropdown(e)}}},[n("div",{ref:"selectedOptions",staticClass:"vs__selected-options"},[t._l(t.selectedValue,(function(e){return t._t("selected-option-container",[n("span",{key:t.getOptionKey(e),staticClass:"vs__selected"},[t._t("selected-option",[t._v("\n            "+t._s(t.getOptionLabel(e))+"\n          ")],null,t.normalizeOptionForSlot(e)),t._v(" "),t.multiple?n("button",{ref:"deselectButtons",refInFor:!0,staticClass:"vs__deselect",attrs:{disabled:t.disabled,type:"button",title:"Deselect "+t.getOptionLabel(e),"aria-label":"Deselect "+t.getOptionLabel(e)},on:{click:function(n){return t.deselect(e)}}},[n(t.childComponents.Deselect,{tag:"component"})],1):t._e()],2)],{option:t.normalizeOptionForSlot(e),deselect:t.deselect,multiple:t.multiple,disabled:t.disabled})})),t._v(" "),t._t("search",[n("input",t._g(t._b({staticClass:"vs__search"},"input",t.scope.search.attributes,!1),t.scope.search.events))],null,t.scope.search)],2),t._v(" "),n("div",{ref:"actions",staticClass:"vs__actions"},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.showClearButton,expression:"showClearButton"}],ref:"clearButton",staticClass:"vs__clear",attrs:{disabled:t.disabled,type:"button",title:"Clear Selected","aria-label":"Clear Selected"},on:{click:t.clearSelection}},[n(t.childComponents.Deselect,{tag:"component"})],1),t._v(" "),t._t("open-indicator",[t.noDrop?t._e():n(t.childComponents.OpenIndicator,t._b({tag:"component"},"component",t.scope.openIndicator.attributes,!1))],null,t.scope.openIndicator),t._v(" "),t._t("spinner",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.mutableLoading,expression:"mutableLoading"}],staticClass:"vs__spinner"},[t._v("Loading...")])],null,t.scope.spinner)],2)]),t._v(" "),n("transition",{attrs:{name:t.transition}},[t.dropdownOpen?n("ul",{directives:[{name:"append-to-body",rawName:"v-append-to-body"}],key:"vs"+t.uid+"__listbox",ref:"dropdownMenu",staticClass:"vs__dropdown-menu",attrs:{id:"vs"+t.uid+"__listbox",role:"listbox",tabindex:"-1"},on:{mousedown:function(e){return e.preventDefault(),t.onMousedown(e)},mouseup:t.onMouseUp}},[t._t("list-header",null,null,t.scope.listHeader),t._v(" "),t._l(t.filteredOptions,(function(e,r){return n("li",{key:t.getOptionKey(e),staticClass:"vs__dropdown-option",class:{"vs__dropdown-option--selected":t.isOptionSelected(e),"vs__dropdown-option--highlight":r===t.typeAheadPointer,"vs__dropdown-option--disabled":!t.selectable(e)},attrs:{role:"option",id:"vs"+t.uid+"__option-"+r,"aria-selected":r===t.typeAheadPointer||null},on:{mouseover:function(n){t.selectable(e)&&(t.typeAheadPointer=r)},mousedown:function(n){n.preventDefault(),n.stopPropagation(),t.selectable(e)&&t.select(e)}}},[t._t("option",[t._v("\n          "+t._s(t.getOptionLabel(e))+"\n        ")],null,t.normalizeOptionForSlot(e))],2)})),t._v(" "),0===t.filteredOptions.length?n("li",{staticClass:"vs__no-options"},[t._t("no-options",[t._v("Sorry, no matching options.")],null,t.scope.noOptions)],2):t._e(),t._v(" "),t._t("list-footer",null,null,t.scope.listFooter)],2):n("ul",{staticStyle:{display:"none",visibility:"hidden"},attrs:{id:"vs"+t.uid+"__listbox",role:"listbox"}})]),t._v(" "),t._t("footer",null,null,t.scope.footer)],2)}),[],!1,null,null,null).exports),O={ajax:p,pointer:u,pointerScroll:l};n.d(e,"VueSelect",(function(){return w})),n.d(e,"mixins",(function(){return O})),e.default=w}])},562:function(t,e,n){var r=n(817),o="object"==typeof self&&self&&self.Object===Object&&self,c=r||o||Function("return this")();t.exports=c},563:function(t,e){var n=Array.isArray;t.exports=n},573:function(t,e,n){var r=n(813),o=n(924),c=n(1003),l=n(563);t.exports=function(t,e){return(l(t)?r:c)(t,o(e,3))}},577:function(t,e,n){var r=n(937),o=n(942);t.exports=function(object,t){var e=o(object,t);return r(e)?e:void 0}},593:function(t,e,n){var r=n(740),o=n(938),c=n(939),l=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":l&&l in Object(t)?o(t):c(t)}},594:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},738:function(t,e,n){var r=n(927),o=n(928),c=n(929),l=n(930),h=n(931);function f(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}f.prototype.clear=r,f.prototype.delete=o,f.prototype.get=c,f.prototype.has=l,f.prototype.set=h,t.exports=f},739:function(t,e,n){var r=n(815);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},740:function(t,e,n){var r=n(562).Symbol;t.exports=r},741:function(t,e,n){var r=n(577)(Object,"create");t.exports=r},742:function(t,e,n){var r=n(951);t.exports=function(map,t){var data=map.__data__;return r(t)?data["string"==typeof t?"string":"hash"]:data.map}},743:function(t,e,n){var r=n(777);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},770:function(t,e,n){var r=n(577)(n(562),"Map");t.exports=r},771:function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},772:function(t,e,n){var r=n(943),o=n(950),c=n(952),l=n(953),h=n(954);function f(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}f.prototype.clear=r,f.prototype.delete=o,f.prototype.get=c,f.prototype.has=l,f.prototype.set=h,t.exports=f},773:function(t,e,n){var r=n(972),o=n(979),c=n(775);t.exports=function(object){return c(object)?r(object):o(object)}},774:function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},775:function(t,e,n){var r=n(816),o=n(774);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},776:function(t,e,n){var r=n(563),o=n(777),c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;t.exports=function(t,object){if(r(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!o(t))||(l.test(t)||!c.test(t)||null!=object&&t in Object(object))}},777:function(t,e,n){var r=n(593),o=n(594);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},813:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},814:function(t,e,n){var r=n(738),o=n(932),c=n(933),l=n(934),h=n(935),f=n(936);function d(t){var data=this.__data__=new r(t);this.size=data.size}d.prototype.clear=o,d.prototype.delete=c,d.prototype.get=l,d.prototype.has=h,d.prototype.set=f,t.exports=d},815:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},816:function(t,e,n){var r=n(593),o=n(771);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},817:function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(14))},818:function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},819:function(t,e,n){var r=n(955),o=n(594);t.exports=function t(e,n,c,l,h){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,c,l,t,h))}},820:function(t,e,n){var r=n(956),o=n(959),c=n(960);t.exports=function(t,e,n,l,h,f){var d=1&n,v=t.length,m=e.length;if(v!=m&&!(d&&m>v))return!1;var y=f.get(t),_=f.get(e);if(y&&_)return y==e&&_==t;var w=-1,O=!0,I=2&n?new r:void 0;for(f.set(t,e),f.set(e,t);++w<v;){var T=t[w],S=e[w];if(l)var E=d?l(S,T,w,e,t,f):l(T,S,w,t,e,f);if(void 0!==E){if(E)continue;O=!1;break}if(I){if(!o(e,(function(t,e){if(!c(I,e)&&(T===t||h(T,t,n,l,f)))return I.push(e)}))){O=!1;break}}else if(T!==S&&!h(T,S,n,l,f)){O=!1;break}}return f.delete(t),f.delete(e),O}},821:function(t,e,n){var r=n(974),o=n(594),c=Object.prototype,l=c.hasOwnProperty,h=c.propertyIsEnumerable,f=r(function(){return arguments}())?r:function(t){return o(t)&&l.call(t,"callee")&&!h.call(t,"callee")};t.exports=f},822:function(t,e,n){(function(t){var r=n(562),o=n(975),c=e&&!e.nodeType&&e,l=c&&"object"==typeof t&&t&&!t.nodeType&&t,h=l&&l.exports===c?r.Buffer:void 0,f=(h?h.isBuffer:void 0)||o;t.exports=f}).call(this,n(62)(t))},823:function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},824:function(t,e,n){var r=n(976),o=n(977),c=n(978),l=c&&c.isTypedArray,h=l?o(l):r;t.exports=h},825:function(t,e,n){var r=n(771);t.exports=function(t){return t==t&&!r(t)}},826:function(t,e){t.exports=function(t,e){return function(object){return null!=object&&(object[t]===e&&(void 0!==e||t in Object(object)))}}},827:function(t,e,n){var r=n(828),o=n(743);t.exports=function(object,path){for(var t=0,e=(path=r(path,object)).length;null!=object&&t<e;)object=object[o(path[t++])];return t&&t==e?object:void 0}},828:function(t,e,n){var r=n(563),o=n(776),c=n(991),l=n(994);t.exports=function(t,object){return r(t)?t:o(t,object)?[t]:c(l(t))}},837:function(t,e,n){var r;"undefined"!=typeof self&&self,r=function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(object,t){return Object.prototype.hasOwnProperty.call(object,t)},n.p="",n(n.s="fb15")}({"01f9":function(t,e,n){"use strict";var r=n("2d00"),o=n("5ca1"),c=n("2aba"),l=n("32e9"),h=n("84f2"),f=n("41a0"),d=n("7f20"),v=n("38fd"),m=n("2b4c")("iterator"),y=!([].keys&&"next"in[].keys()),_="keys",w="values",O=function(){return this};t.exports=function(t,e,n,I,T,S,E){f(n,e,I);var C,k,x,N=function(t){if(!y&&t in R)return R[t];switch(t){case _:case w:return function(){return new n(this,t)}}return function(){return new n(this,t)}},j=e+" Iterator",A=T==w,P=!1,R=t.prototype,D=R[m]||R["@@iterator"]||T&&R[T],M=D||N(T),L=T?A?N("entries"):M:void 0,F="Array"==e&&R.entries||D;if(F&&(x=v(F.call(new t)))!==Object.prototype&&x.next&&(d(x,j,!0),r||"function"==typeof x[m]||l(x,m,O)),A&&D&&D.name!==w&&(P=!0,M=function(){return D.call(this)}),r&&!E||!y&&!P&&R[m]||l(R,m,M),h[e]=M,h[j]=O,T)if(C={values:A?M:N(w),keys:S?M:N(_),entries:L},E)for(k in C)k in R||c(R,k,C[k]);else o(o.P+o.F*(y||P),e,C);return C}},"02f4":function(t,e,n){var r=n("4588"),o=n("be13");t.exports=function(t){return function(e,n){var a,b,s=String(o(e)),i=r(n),c=s.length;return i<0||i>=c?t?"":void 0:(a=s.charCodeAt(i))<55296||a>56319||i+1===c||(b=s.charCodeAt(i+1))<56320||b>57343?t?s.charAt(i):a:t?s.slice(i,i+2):b-56320+(a-55296<<10)+65536}}},"0390":function(t,e,n){"use strict";var r=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"0bfb":function(t,e,n){"use strict";var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d58":function(t,e,n){var r=n("ce10"),o=n("e11e");t.exports=Object.keys||function(t){return r(t,o)}},1495:function(t,e,n){var r=n("86cc"),o=n("cb7c"),c=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){o(t);for(var n,l=c(e),h=l.length,i=0;h>i;)r.f(t,n=l[i++],e[n]);return t}},"214f":function(t,e,n){"use strict";n("b0c5");var r=n("2aba"),o=n("32e9"),c=n("79e5"),l=n("be13"),h=n("2b4c"),f=n("520a"),d=h("species"),v=!c((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),m=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var y=h(t),_=!c((function(){var e={};return e[y]=function(){return 7},7!=""[t](e)})),w=_?!c((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[d]=function(){return n}),n[y](""),!e})):void 0;if(!_||!w||"replace"===t&&!v||"split"===t&&!m){var O=/./[y],I=n(l,y,""[t],(function(t,e,n,r,o){return e.exec===f?_&&!o?{done:!0,value:O.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),T=I[0],S=I[1];r(String.prototype,t,T),o(RegExp.prototype,y,2==e?function(t,e){return S.call(t,this,e)}:function(t){return S.call(t,this)})}}},"230e":function(t,e,n){var r=n("d3f4"),o=n("7726").document,c=r(o)&&r(o.createElement);t.exports=function(t){return c?o.createElement(t):{}}},"23c6":function(t,e,n){var r=n("2d95"),o=n("2b4c")("toStringTag"),c="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,l;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:c?r(e):"Object"==(l=r(e))&&"function"==typeof e.callee?"Arguments":l}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"2aba":function(t,e,n){var r=n("7726"),o=n("32e9"),c=n("69a8"),l=n("ca5a")("src"),h=n("fa5b"),f="toString",d=(""+h).split(f);n("8378").inspectSource=function(t){return h.call(t)},(t.exports=function(t,e,n,h){var f="function"==typeof n;f&&(c(n,"name")||o(n,"name",e)),t[e]!==n&&(f&&(c(n,l)||o(n,l,t[e]?""+t[e]:d.join(String(e)))),t===r?t[e]=n:h?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,f,(function(){return"function"==typeof this&&this[l]||h.call(this)}))},"2aeb":function(t,e,n){var r=n("cb7c"),o=n("1495"),c=n("e11e"),l=n("613b")("IE_PROTO"),h=function(){},f=function(){var t,iframe=n("230e")("iframe"),i=c.length;for(iframe.style.display="none",n("fab2").appendChild(iframe),iframe.src="javascript:",(t=iframe.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),f=t.F;i--;)delete f.prototype[c[i]];return f()};t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=r(t),n=new h,h.prototype=null,n[l]=t):n=f(),void 0===e?n:o(n,e)}},"2b4c":function(t,e,n){var r=n("5537")("wks"),o=n("ca5a"),c=n("7726").Symbol,l="function"==typeof c;(t.exports=function(t){return r[t]||(r[t]=l&&c[t]||(l?c:o)("Symbol."+t))}).store=r},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),o=n("d2c8"),c="includes";r(r.P+r.F*n("5147")(c),"String",{includes:function(t){return!!~o(this,t,c).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(t,e,n){var r=n("86cc"),o=n("4630");t.exports=n("9e1e")?function(object,t,e){return r.f(object,t,o(1,e))}:function(object,t,e){return object[t]=e,object}},"38fd":function(t,e,n){var r=n("69a8"),o=n("4bf8"),c=n("613b")("IE_PROTO"),l=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,c)?t[c]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},"41a0":function(t,e,n){"use strict";var r=n("2aeb"),o=n("4630"),c=n("7f20"),l={};n("32e9")(l,n("2b4c")("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(l,{next:o(1,n)}),c(t,e+" Iterator")}},"456d":function(t,e,n){var r=n("4bf8"),o=n("0d58");n("5eda")("keys",(function(){return function(t){return o(r(t))}}))},4588:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"4bf8":function(t,e,n){var r=n("be13");t.exports=function(t){return Object(r(t))}},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},"520a":function(t,e,n){"use strict";var r,o,c=n("0bfb"),l=RegExp.prototype.exec,h=String.prototype.replace,f=l,d=(r=/a/,o=/b*/g,l.call(r,"a"),l.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),v=void 0!==/()??/.exec("")[1];(d||v)&&(f=function(t){var e,n,r,i,o=this;return v&&(n=new RegExp("^"+o.source+"$(?!\\s)",c.call(o))),d&&(e=o.lastIndex),r=l.call(o,t),d&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),v&&r&&r.length>1&&h.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=f},"52a7":function(t,e){e.f={}.propertyIsEnumerable},5537:function(t,e,n){var r=n("8378"),o=n("7726"),c="__core-js_shared__",l=o[c]||(o[c]={});(t.exports=function(t,e){return l[t]||(l[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(t,e,n){var r=n("7726"),o=n("8378"),c=n("32e9"),l=n("2aba"),h=n("9b43"),f=function(t,e,source){var n,d,v,m,y=t&f.F,_=t&f.G,w=t&f.S,O=t&f.P,I=t&f.B,T=_?r:w?r[e]||(r[e]={}):(r[e]||{}).prototype,S=_?o:o[e]||(o[e]={}),E=S.prototype||(S.prototype={});for(n in _&&(source=e),source)v=((d=!y&&T&&void 0!==T[n])?T:source)[n],m=I&&d?h(v,r):O&&"function"==typeof v?h(Function.call,v):v,T&&l(T,n,v,t&f.U),S[n]!=v&&c(S,n,m),O&&E[n]!=v&&(E[n]=v)};r.core=o,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},"5eda":function(t,e,n){var r=n("5ca1"),o=n("8378"),c=n("79e5");t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],l={};l[t]=e(n),r(r.S+r.F*c((function(){n(1)})),"Object",l)}},"5f1b":function(t,e,n){"use strict";var r=n("23c6"),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var c=n.call(t,e);if("object"!=typeof c)throw new TypeError("RegExp exec method returned something other than an Object or null");return c}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},"613b":function(t,e,n){var r=n("5537")("keys"),o=n("ca5a");t.exports=function(t){return r[t]||(r[t]=o(t))}},"626a":function(t,e,n){var r=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},6762:function(t,e,n){"use strict";var r=n("5ca1"),o=n("c366")(!0);r(r.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(t,e,n){var r=n("626a"),o=n("be13");t.exports=function(t){return r(o(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},7333:function(t,e,n){"use strict";var r=n("0d58"),o=n("2621"),c=n("52a7"),l=n("4bf8"),h=n("626a"),f=Object.assign;t.exports=!f||n("79e5")((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=f({},t)[n]||Object.keys(f({},e)).join("")!=r}))?function(t,source){for(var e=l(t),n=arguments.length,f=1,d=o.f,v=c.f;n>f;)for(var m,y=h(arguments[f++]),_=d?r(y).concat(d(y)):r(y),w=_.length,O=0;w>O;)v.call(y,m=_[O++])&&(e[m]=y[m]);return e}:f},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var r=n("4588"),o=Math.max,c=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):c(t,e)}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},"7f20":function(t,e,n){var r=n("86cc").f,o=n("69a8"),c=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,c)&&r(t,c,{configurable:!0,value:e})}},8378:function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"84f2":function(t,e){t.exports={}},"86cc":function(t,e,n){var r=n("cb7c"),o=n("c69a"),c=n("6a99"),l=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(r(t),e=c(e,!0),r(n),o)try{return l(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"9b43":function(t,e,n){var r=n("d8e8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(a){return t.call(e,a)};case 2:return function(a,b){return t.call(e,a,b)};case 3:return function(a,b,n){return t.call(e,a,b,n)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var r=n("2b4c")("unscopables"),o=Array.prototype;null==o[r]&&n("32e9")(o,r,{}),t.exports=function(t){o[r][t]=!0}},"9def":function(t,e,n){var r=n("4588"),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a352:function(e,n){e.exports=t},a481:function(t,e,n){"use strict";var r=n("cb7c"),o=n("4bf8"),c=n("9def"),l=n("4588"),h=n("0390"),f=n("5f1b"),d=Math.max,v=Math.min,m=Math.floor,y=/\$([$&`']|\d\d?|<[^>]*>)/g,_=/\$([$&`']|\d\d?)/g;n("214f")("replace",2,(function(t,e,n,w){return[function(r,o){var c=t(this),l=null==r?void 0:r[e];return void 0!==l?l.call(r,c,o):n.call(String(c),r,o)},function(t,e){var o=w(n,t,this,e);if(o.done)return o.value;var m=r(t),y=String(this),_="function"==typeof e;_||(e=String(e));var I=m.global;if(I){var T=m.unicode;m.lastIndex=0}for(var S=[];;){var E=f(m,y);if(null===E)break;if(S.push(E),!I)break;""===String(E[0])&&(m.lastIndex=h(y,c(m.lastIndex),T))}for(var C,k="",x=0,i=0;i<S.length;i++){E=S[i];for(var N=String(E[0]),j=d(v(l(E.index),y.length),0),A=[],P=1;P<E.length;P++)A.push(void 0===(C=E[P])?C:String(C));var R=E.groups;if(_){var D=[N].concat(A,j,y);void 0!==R&&D.push(R);var M=String(e.apply(void 0,D))}else M=O(N,y,j,A,R,e);j>=x&&(k+=y.slice(x,j)+M,x=j+N.length)}return k+y.slice(x)}];function O(t,e,r,c,l,h){var f=r+t.length,d=c.length,v=_;return void 0!==l&&(l=o(l),v=y),n.call(h,v,(function(n,o){var h;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(f);case"<":h=l[o.slice(1,-1)];break;default:var v=+o;if(0===v)return n;if(v>d){var y=m(v/10);return 0===y?n:y<=d?void 0===c[y-1]?o.charAt(1):c[y-1]+o.charAt(1):n}h=c[v-1]}return void 0===h?"":h}))}}))},aae3:function(t,e,n){var r=n("d3f4"),o=n("2d95"),c=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[c])?!!e:"RegExp"==o(t))}},ac6a:function(t,e,n){for(var r=n("cadf"),o=n("0d58"),c=n("2aba"),l=n("7726"),h=n("32e9"),f=n("84f2"),d=n("2b4c"),v=d("iterator"),m=d("toStringTag"),y=f.Array,_={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},w=o(_),i=0;i<w.length;i++){var O,I=w[i],T=_[I],S=l[I],E=S&&S.prototype;if(E&&(E[v]||h(E,v,y),E[m]||h(E,m,I),f[I]=y,T))for(O in r)E[O]||c(E,O,r[O],!0)}},b0c5:function(t,e,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},be13:function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,n){var r=n("6821"),o=n("9def"),c=n("77f1");t.exports=function(t){return function(e,n,l){var h,f=r(e),d=o(f.length),v=c(l,d);if(t&&n!=n){for(;d>v;)if((h=f[v++])!=h)return!0}else for(;d>v;v++)if((t||v in f)&&f[v]===n)return t||v||0;return!t&&-1}}},c649:function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return f})),n("a481");var r,o,c="undefined"!=typeof window?window.console:t.console,l=/-(\w)/g,h=(r=function(t){return t.replace(l,(function(t,e){return e?e.toUpperCase():""}))},o=Object.create(null),function(t){return o[t]||(o[t]=r(t))});function f(t){null!==t.parentElement&&t.parentElement.removeChild(t)}function d(t,e,n){var r=0===n?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,r)}}).call(this,n("c8ba"))},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(t,e){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(t){"object"==typeof window&&(g=window)}t.exports=g},ca5a:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},cadf:function(t,e,n){"use strict";var r=n("9c6c"),o=n("d53b"),c=n("84f2"),l=n("6821");t.exports=n("01f9")(Array,"Array",(function(t,e){this._t=l(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),c.Arguments=c.Array,r("keys"),r("values"),r("entries")},cb7c:function(t,e,n){var r=n("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},ce10:function(t,e,n){var r=n("69a8"),o=n("6821"),c=n("c366")(!1),l=n("613b")("IE_PROTO");t.exports=function(object,t){var e,n=o(object),i=0,h=[];for(e in n)e!=l&&r(n,e)&&h.push(e);for(;t.length>i;)r(n,e=t[i++])&&(~c(h,e)||h.push(e));return h}},d2c8:function(t,e,n){var r=n("aae3"),o=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},d3f4:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(t,e,n){"use strict";var r=n("5ca1"),o=n("9def"),c=n("d2c8"),l="startsWith",h="".startsWith;r(r.P+r.F*n("5147")(l),"String",{startsWith:function(t){var e=c(this,t,l),n=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return h?h.call(e,r,n):e.slice(n,n+r.length)===r}})},f6fd:function(t,e){!function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(e){var i,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(e.stack)||[!1])[1];for(i in n)if(n[i].src==t||"interactive"==n[i].readyState)return n[i];return null}}})}(document)},f751:function(t,e,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(t,e,n){var r=n("7726").document;t.exports=r&&r.documentElement},fb15:function(t,e,n){"use strict";var r;function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function c(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function l(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],n=!0,r=!1,o=void 0;try{for(var c,l=t[Symbol.iterator]();!(n=(c=l.next()).done)&&(e.push(c.value),!i||e.length!==i);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return e}}(t,i)||c(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(e),"undefined"!=typeof window&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1])),n("f751"),n("f559"),n("ac6a"),n("cadf"),n("456d"),n("6762"),n("2fdb");var f=n("a352"),d=n.n(f),v=n("c649");function m(t,e){var n=this;this.$nextTick((function(){return n.$emit(t.toLowerCase(),e)}))}function y(t){var e=this;return function(n){null!==e.realList&&e["onDrag"+t](n),m.call(e,t,n)}}function _(t){return["transition-group","TransitionGroup"].includes(t)}function w(slot,t,e){return slot[e]||(t[e]?t[e]():void 0)}var O=["Start","Add","Remove","Update","End"],I=["Choose","Unchoose","Sort","Filter","Clone"],T=["Move"].concat(O,I).map((function(t){return"on"+t})),S=null,E={name:"draggable",inheritAttrs:!1,props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(t){return t}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(t){var e=this.$slots.default;this.transitionMode=function(t){if(!t||1!==t.length)return!1;var e=l(t,1)[0].componentOptions;return!!e&&_(e.tag)}(e);var n=function(t,slot,e){var n=0,r=0,header=w(slot,e,"header");header&&(n=header.length,t=t?[].concat(h(header),h(t)):h(header));var footer=w(slot,e,"footer");return footer&&(r=footer.length,t=t?[].concat(h(t),h(footer)):h(footer)),{children:t,headerOffset:n,footerOffset:r}}(e,this.$slots,this.$scopedSlots),r=n.children,o=n.headerOffset,c=n.footerOffset;this.headerOffset=o,this.footerOffset=c;var f=function(t,e){var n=null,r=function(t,e){n=function(object,t,e){return void 0===e||((object=object||{})[t]=e),object}(n,t,e)};if(r("attrs",Object.keys(t).filter((function(t){return"id"===t||t.startsWith("data-")})).reduce((function(e,n){return e[n]=t[n],e}),{})),!e)return n;var o=e.on,c=e.props,l=e.attrs;return r("on",o),r("props",c),Object.assign(n.attrs,l),n}(this.$attrs,this.componentData);return t(this.getTag(),f,r)},created:function(){null!==this.list&&null!==this.value&&v.b.error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&v.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&v.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var t=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var e={};O.forEach((function(n){e["on"+n]=y.call(t,n)})),I.forEach((function(n){e["on"+n]=m.bind(t,n)}));var n=Object.keys(this.$attrs).reduce((function(e,n){return e[Object(v.a)(n)]=t.$attrs[n],e}),{}),r=Object.assign({},this.options,n,e,{onMove:function(e,n){return t.onDragMove(e,n)}});!("draggable"in r)&&(r.draggable=">*"),this._sortable=new d.a(this.rootContainer,r),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(t){this.updateOptions(t)},deep:!0},$attrs:{handler:function(t){this.updateOptions(t)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var t=this._vnode.fnOptions;return t&&t.functional},getTag:function(){return this.tag||this.element},updateOptions:function(t){for(var e in t){var n=Object(v.a)(e);-1===T.indexOf(n)&&this._sortable.option(n,t[e])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var t=this.$slots.default;return this.transitionMode?t[0].child.$slots.default:t},computeIndexes:function(){var t=this;this.$nextTick((function(){t.visibleIndexes=function(t,e,n,r){if(!t)return[];var o=t.map((function(t){return t.elm})),c=e.length-r,l=h(e).map((function(t,e){return e>=c?o.length:o.indexOf(t)}));return n?l.filter((function(t){return-1!==t})):l}(t.getChildrenNodes(),t.rootContainer.children,t.transitionMode,t.footerOffset)}))},getUnderlyingVm:function(t){var e=function(t,element){return t.map((function(t){return t.elm})).indexOf(element)}(this.getChildrenNodes()||[],t);return-1===e?null:{index:e,element:this.realList[e]}},getUnderlyingPotencialDraggableComponent:function(t){var e=t.__vue__;return e&&e.$options&&_(e.$options._componentTag)?e.$parent:!("realList"in e)&&1===e.$children.length&&"realList"in e.$children[0]?e.$children[0]:e},emitChanges:function(t){var e=this;this.$nextTick((function(){e.$emit("change",t)}))},alterList:function(t){if(this.list)t(this.list);else{var e=h(this.value);t(e),this.$emit("input",e)}},spliceList:function(){var t=arguments,e=function(e){return e.splice.apply(e,h(t))};this.alterList(e)},updatePosition:function(t,e){var n=function(n){return n.splice(e,0,n.splice(t,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(t){var e=t.to,n=t.related,component=this.getUnderlyingPotencialDraggableComponent(e);if(!component)return{component:component};var r=component.realList,o={list:r,component:component};if(e!==n&&r&&component.getUnderlyingVm){var c=component.getUnderlyingVm(n);if(c)return Object.assign(c,o)}return o},getVmIndex:function(t){var e=this.visibleIndexes,n=e.length;return t>n-1?n:e[t]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(t){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[t].data=null;var e=this.getComponent();e.children=[],e.kept=void 0}},onDragStart:function(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),S=t.item},onDragAdd:function(t){var element=t.item._underlying_vm_;if(void 0!==element){Object(v.d)(t.item);var e=this.getVmIndex(t.newIndex);this.spliceList(e,0,element),this.computeIndexes();var n={element:element,newIndex:e};this.emitChanges({added:n})}},onDragRemove:function(t){if(Object(v.c)(this.rootContainer,t.item,t.oldIndex),"clone"!==t.pullMode){var e=this.context.index;this.spliceList(e,1);var n={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:n})}else Object(v.d)(t.clone)},onDragUpdate:function(t){Object(v.d)(t.item),Object(v.c)(t.from,t.item,t.oldIndex);var e=this.context.index,n=this.getVmIndex(t.newIndex);this.updatePosition(e,n);var r={element:this.context.element,oldIndex:e,newIndex:n};this.emitChanges({moved:r})},updateProperty:function(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},computeFutureIndex:function(t,e){if(!t.element)return 0;var n=h(e.to.children).filter((function(t){return"none"!==t.style.display})),r=n.indexOf(e.related),o=t.component.getVmIndex(r);return-1===n.indexOf(S)&&e.willInsertAfter?o+1:o},onDragMove:function(t,e){var n=this.move;if(!n||!this.realList)return!0;var r=this.getRelatedContextFromMoveEvent(t),o=this.context,c=this.computeFutureIndex(r,t);return Object.assign(o,{futureIndex:c}),n(Object.assign({},t,{relatedContext:r,draggedContext:o}),e)},onDragEnd:function(){this.computeIndexes(),S=null}}};"undefined"!=typeof window&&"Vue"in window&&window.Vue.component("draggable",E);var C=E;e.default=C}}).default},t.exports=r(n(1025))},838:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var o,p=new Promise((function(c,l){n(o=t[e].apply(t,r)).then(c,l)}));return p.request=o,p}function o(t,e,n){var p=r(t,e,n);return p.then((function(t){if(t)return new v(t,p.request)}))}function c(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function l(t,e,n,o){o.forEach((function(o){o in n.prototype&&(t.prototype[o]=function(){return r(this[e],o,arguments)})}))}function h(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function f(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return o(this[e],r,arguments)})}))}function d(t){this._index=t}function v(cursor,t){this._cursor=cursor,this._request=t}function m(t){this._store=t}function y(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function _(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new y(n)}function w(t){this._db=t}function O(t,e,n){var p=r(indexedDB,"open",[t,e]),o=p.request;return o&&(o.onupgradeneeded=function(t){n&&n(new _(o.result,t.oldVersion,o.transaction))}),p.then((function(t){return new w(t)}))}function I(t){return r(indexedDB,"deleteDatabase",[t])}c(d,"_index",["name","keyPath","multiEntry","unique"]),l(d,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),f(d,"_index",IDBIndex,["openCursor","openKeyCursor"]),c(v,"_cursor",["direction","key","primaryKey","value"]),l(v,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(v.prototype[t]=function(){var cursor=this,e=arguments;return Promise.resolve().then((function(){return cursor._cursor[t].apply(cursor._cursor,e),n(cursor._request).then((function(t){if(t)return new v(t,cursor._request)}))}))})})),m.prototype.createIndex=function(){return new d(this._store.createIndex.apply(this._store,arguments))},m.prototype.index=function(){return new d(this._store.index.apply(this._store,arguments))},c(m,"_store",["name","keyPath","indexNames","autoIncrement"]),l(m,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),f(m,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),h(m,"_store",IDBObjectStore,["deleteIndex"]),y.prototype.objectStore=function(){return new m(this._tx.objectStore.apply(this._tx,arguments))},c(y,"_tx",["objectStoreNames","mode"]),h(y,"_tx",IDBTransaction,["abort"]),_.prototype.createObjectStore=function(){return new m(this._db.createObjectStore.apply(this._db,arguments))},c(_,"_db",["name","version","objectStoreNames"]),h(_,"_db",IDBDatabase,["deleteObjectStore","close"]),w.prototype.transaction=function(){return new y(this._db.transaction.apply(this._db,arguments))},c(w,"_db",["name","version","objectStoreNames"]),h(w,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[m,d].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],o=this._store||this._index,c=o[t].apply(o,n.slice(0,-1));c.onsuccess=function(){r(c.result)}})}))})),[d,m].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(o){n.iterateCursor(t,(function(cursor){cursor?(r.push(cursor.value),void 0===e||r.length!=e?cursor.continue():o(r)):o(r)}))}))})})),t.openDb=O,t.deleteDb=I,Object.defineProperty(t,"__esModule",{value:!0})}(e)},924:function(t,e,n){var r=n(925),o=n(989),c=n(999),l=n(563),h=n(1e3);t.exports=function(t){return"function"==typeof t?t:null==t?c:"object"==typeof t?l(t)?o(t[0],t[1]):r(t):h(t)}},925:function(t,e,n){var r=n(926),o=n(988),c=n(826);t.exports=function(source){var t=o(source);return 1==t.length&&t[0][2]?c(t[0][0],t[0][1]):function(object){return object===source||r(object,source,t)}}},926:function(t,e,n){var r=n(814),o=n(819);t.exports=function(object,source,t,e){var n=t.length,c=n,l=!e;if(null==object)return!c;for(object=Object(object);n--;){var data=t[n];if(l&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++n<c;){var h=(data=t[n])[0],f=object[h],d=data[1];if(l&&data[2]){if(void 0===f&&!(h in object))return!1}else{var v=new r;if(e)var m=e(f,d,h,object,source,v);if(!(void 0===m?o(d,f,3,e,v):m))return!1}}return!0}},927:function(t,e){t.exports=function(){this.__data__=[],this.size=0}},928:function(t,e,n){var r=n(739),o=Array.prototype.splice;t.exports=function(t){var data=this.__data__,e=r(data,t);return!(e<0)&&(e==data.length-1?data.pop():o.call(data,e,1),--this.size,!0)}},929:function(t,e,n){var r=n(739);t.exports=function(t){var data=this.__data__,e=r(data,t);return e<0?void 0:data[e][1]}},930:function(t,e,n){var r=n(739);t.exports=function(t){return r(this.__data__,t)>-1}},931:function(t,e,n){var r=n(739);t.exports=function(t,e){var data=this.__data__,n=r(data,t);return n<0?(++this.size,data.push([t,e])):data[n][1]=e,this}},932:function(t,e,n){var r=n(738);t.exports=function(){this.__data__=new r,this.size=0}},933:function(t,e){t.exports=function(t){var data=this.__data__,e=data.delete(t);return this.size=data.size,e}},934:function(t,e){t.exports=function(t){return this.__data__.get(t)}},935:function(t,e){t.exports=function(t){return this.__data__.has(t)}},936:function(t,e,n){var r=n(738),o=n(770),c=n(772);t.exports=function(t,e){var data=this.__data__;if(data instanceof r){var n=data.__data__;if(!o||n.length<199)return n.push([t,e]),this.size=++data.size,this;data=this.__data__=new c(n)}return data.set(t,e),this.size=data.size,this}},937:function(t,e,n){var r=n(816),o=n(940),c=n(771),l=n(818),h=/^\[object .+?Constructor\]$/,f=Function.prototype,d=Object.prototype,v=f.toString,m=d.hasOwnProperty,y=RegExp("^"+v.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!c(t)||o(t))&&(r(t)?y:h).test(l(t))}},938:function(t,e,n){var r=n(740),o=Object.prototype,c=o.hasOwnProperty,l=o.toString,h=r?r.toStringTag:void 0;t.exports=function(t){var e=c.call(t,h),n=t[h];try{t[h]=void 0;var r=!0}catch(t){}var o=l.call(t);return r&&(e?t[h]=n:delete t[h]),o}},939:function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},940:function(t,e,n){var r,o=n(941),c=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!c&&c in t}},941:function(t,e,n){var r=n(562)["__core-js_shared__"];t.exports=r},942:function(t,e){t.exports=function(object,t){return null==object?void 0:object[t]}},943:function(t,e,n){var r=n(944),o=n(738),c=n(770);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(c||o),string:new r}}},944:function(t,e,n){var r=n(945),o=n(946),c=n(947),l=n(948),h=n(949);function f(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}f.prototype.clear=r,f.prototype.delete=o,f.prototype.get=c,f.prototype.has=l,f.prototype.set=h,t.exports=f},945:function(t,e,n){var r=n(741);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},946:function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},947:function(t,e,n){var r=n(741),o=Object.prototype.hasOwnProperty;t.exports=function(t){var data=this.__data__;if(r){var e=data[t];return"__lodash_hash_undefined__"===e?void 0:e}return o.call(data,t)?data[t]:void 0}},948:function(t,e,n){var r=n(741),o=Object.prototype.hasOwnProperty;t.exports=function(t){var data=this.__data__;return r?void 0!==data[t]:o.call(data,t)}},949:function(t,e,n){var r=n(741);t.exports=function(t,e){var data=this.__data__;return this.size+=this.has(t)?0:1,data[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},950:function(t,e,n){var r=n(742);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},951:function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},952:function(t,e,n){var r=n(742);t.exports=function(t){return r(this,t).get(t)}},953:function(t,e,n){var r=n(742);t.exports=function(t){return r(this,t).has(t)}},954:function(t,e,n){var r=n(742);t.exports=function(t,e){var data=r(this,t),n=data.size;return data.set(t,e),this.size+=data.size==n?0:1,this}},955:function(t,e,n){var r=n(814),o=n(820),c=n(961),l=n(965),h=n(983),f=n(563),d=n(822),v=n(824),m="[object Arguments]",y="[object Array]",_="[object Object]",w=Object.prototype.hasOwnProperty;t.exports=function(object,t,e,n,O,I){var T=f(object),S=f(t),E=T?y:h(object),C=S?y:h(t),k=(E=E==m?_:E)==_,x=(C=C==m?_:C)==_,N=E==C;if(N&&d(object)){if(!d(t))return!1;T=!0,k=!1}if(N&&!k)return I||(I=new r),T||v(object)?o(object,t,e,n,O,I):c(object,t,E,e,n,O,I);if(!(1&e)){var j=k&&w.call(object,"__wrapped__"),A=x&&w.call(t,"__wrapped__");if(j||A){var P=j?object.value():object,R=A?t.value():t;return I||(I=new r),O(P,R,e,n,I)}}return!!N&&(I||(I=new r),l(object,t,e,n,O,I))}},956:function(t,e,n){var r=n(772),o=n(957),c=n(958);function l(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}l.prototype.add=l.prototype.push=o,l.prototype.has=c,t.exports=l},957:function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},958:function(t,e){t.exports=function(t){return this.__data__.has(t)}},959:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},960:function(t,e){t.exports=function(t,e){return t.has(e)}},961:function(t,e,n){var r=n(740),o=n(962),c=n(815),l=n(820),h=n(963),f=n(964),d=r?r.prototype:void 0,v=d?d.valueOf:void 0;t.exports=function(object,t,e,n,r,d,m){switch(e){case"[object DataView]":if(object.byteLength!=t.byteLength||object.byteOffset!=t.byteOffset)return!1;object=object.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(object.byteLength!=t.byteLength||!d(new o(object),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return c(+object,+t);case"[object Error]":return object.name==t.name&&object.message==t.message;case"[object RegExp]":case"[object String]":return object==t+"";case"[object Map]":var y=h;case"[object Set]":var _=1&n;if(y||(y=f),object.size!=t.size&&!_)return!1;var w=m.get(object);if(w)return w==t;n|=2,m.set(object,t);var O=l(y(object),y(t),n,r,d,m);return m.delete(object),O;case"[object Symbol]":if(v)return v.call(object)==v.call(t)}return!1}},962:function(t,e,n){var r=n(562).Uint8Array;t.exports=r},963:function(t,e){t.exports=function(map){var t=-1,e=Array(map.size);return map.forEach((function(n,r){e[++t]=[r,n]})),e}},964:function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},965:function(t,e,n){var r=n(966),o=Object.prototype.hasOwnProperty;t.exports=function(object,t,e,n,c,l){var h=1&e,f=r(object),d=f.length;if(d!=r(t).length&&!h)return!1;for(var v=d;v--;){var m=f[v];if(!(h?m in t:o.call(t,m)))return!1}var y=l.get(object),_=l.get(t);if(y&&_)return y==t&&_==object;var w=!0;l.set(object,t),l.set(t,object);for(var O=h;++v<d;){var I=object[m=f[v]],T=t[m];if(n)var S=h?n(T,I,m,t,object,l):n(I,T,m,object,t,l);if(!(void 0===S?I===T||c(I,T,e,n,l):S)){w=!1;break}O||(O="constructor"==m)}if(w&&!O){var E=object.constructor,C=t.constructor;E==C||!("constructor"in object)||!("constructor"in t)||"function"==typeof E&&E instanceof E&&"function"==typeof C&&C instanceof C||(w=!1)}return l.delete(object),l.delete(t),w}},966:function(t,e,n){var r=n(967),o=n(969),c=n(773);t.exports=function(object){return r(object,c,o)}},967:function(t,e,n){var r=n(968),o=n(563);t.exports=function(object,t,e){var n=t(object);return o(object)?n:r(n,e(object))}},968:function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},969:function(t,e,n){var r=n(970),o=n(971),c=Object.prototype.propertyIsEnumerable,l=Object.getOwnPropertySymbols,h=l?function(object){return null==object?[]:(object=Object(object),r(l(object),(function(symbol){return c.call(object,symbol)})))}:o;t.exports=h},970:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,c=[];++n<r;){var l=t[n];e(l,n,t)&&(c[o++]=l)}return c}},971:function(t,e){t.exports=function(){return[]}},972:function(t,e,n){var r=n(973),o=n(821),c=n(563),l=n(822),h=n(823),f=n(824),d=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=c(t),v=!n&&o(t),m=!n&&!v&&l(t),y=!n&&!v&&!m&&f(t),_=n||v||m||y,w=_?r(t.length,String):[],O=w.length;for(var I in t)!e&&!d.call(t,I)||_&&("length"==I||m&&("offset"==I||"parent"==I)||y&&("buffer"==I||"byteLength"==I||"byteOffset"==I)||h(I,O))||w.push(I);return w}},973:function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},974:function(t,e,n){var r=n(593),o=n(594);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},975:function(t,e){t.exports=function(){return!1}},976:function(t,e,n){var r=n(593),o=n(774),c=n(594),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,t.exports=function(t){return c(t)&&o(t.length)&&!!l[r(t)]}},977:function(t,e){t.exports=function(t){return function(e){return t(e)}}},978:function(t,e,n){(function(t){var r=n(817),o=e&&!e.nodeType&&e,c=o&&"object"==typeof t&&t&&!t.nodeType&&t,l=c&&c.exports===o&&r.process,h=function(){try{var t=c&&c.require&&c.require("util").types;return t||l&&l.binding&&l.binding("util")}catch(t){}}();t.exports=h}).call(this,n(62)(t))},979:function(t,e,n){var r=n(980),o=n(981),c=Object.prototype.hasOwnProperty;t.exports=function(object){if(!r(object))return o(object);var t=[];for(var e in Object(object))c.call(object,e)&&"constructor"!=e&&t.push(e);return t}},980:function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},981:function(t,e,n){var r=n(982)(Object.keys,Object);t.exports=r},982:function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},983:function(t,e,n){var r=n(984),o=n(770),c=n(985),l=n(986),h=n(987),f=n(593),d=n(818),v="[object Map]",m="[object Promise]",y="[object Set]",_="[object WeakMap]",w="[object DataView]",O=d(r),I=d(o),T=d(c),S=d(l),E=d(h),C=f;(r&&C(new r(new ArrayBuffer(1)))!=w||o&&C(new o)!=v||c&&C(c.resolve())!=m||l&&C(new l)!=y||h&&C(new h)!=_)&&(C=function(t){var e=f(t),n="[object Object]"==e?t.constructor:void 0,r=n?d(n):"";if(r)switch(r){case O:return w;case I:return v;case T:return m;case S:return y;case E:return _}return e}),t.exports=C},984:function(t,e,n){var r=n(577)(n(562),"DataView");t.exports=r},985:function(t,e,n){var r=n(577)(n(562),"Promise");t.exports=r},986:function(t,e,n){var r=n(577)(n(562),"Set");t.exports=r},987:function(t,e,n){var r=n(577)(n(562),"WeakMap");t.exports=r},988:function(t,e,n){var r=n(825),o=n(773);t.exports=function(object){for(var t=o(object),e=t.length;e--;){var n=t[e],c=object[n];t[e]=[n,c,r(c)]}return t}},989:function(t,e,n){var r=n(819),o=n(990),c=n(996),l=n(776),h=n(825),f=n(826),d=n(743);t.exports=function(path,t){return l(path)&&h(t)?f(d(path),t):function(object){var e=o(object,path);return void 0===e&&e===t?c(object,path):r(t,e,3)}}},990:function(t,e,n){var r=n(827);t.exports=function(object,path,t){var e=null==object?void 0:r(object,path);return void 0===e?t:e}},991:function(t,e,n){var r=n(992),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,l=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(c,"$1"):n||t)})),e}));t.exports=l},992:function(t,e,n){var r=n(993);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},993:function(t,e,n){var r=n(772);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],c=n.cache;if(c.has(o))return c.get(o);var l=t.apply(this,r);return n.cache=c.set(o,l)||c,l};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},994:function(t,e,n){var r=n(995);t.exports=function(t){return null==t?"":r(t)}},995:function(t,e,n){var r=n(740),o=n(813),c=n(563),l=n(777),h=r?r.prototype:void 0,f=h?h.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(c(e))return o(e,t)+"";if(l(e))return f?f.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n}},996:function(t,e,n){var r=n(997),o=n(998);t.exports=function(object,path){return null!=object&&o(object,path,r)}},997:function(t,e){t.exports=function(object,t){return null!=object&&t in Object(object)}},998:function(t,e,n){var r=n(828),o=n(821),c=n(563),l=n(823),h=n(774),f=n(743);t.exports=function(object,path,t){for(var e=-1,n=(path=r(path,object)).length,d=!1;++e<n;){var v=f(path[e]);if(!(d=null!=object&&t(object,v)))break;object=object[v]}return d||++e!=n?d:!!(n=null==object?0:object.length)&&h(n)&&l(v,n)&&(c(object)||o(object))}},999:function(t,e){t.exports=function(t){return t}}}]);