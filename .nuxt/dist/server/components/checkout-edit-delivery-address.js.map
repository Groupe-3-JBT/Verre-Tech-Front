{"version":3,"file":"components/checkout-edit-delivery-address.js","sources":["webpack:///./node_modules/vue-select/dist/vue-select.css","webpack:///./components/checkout/EditDeliveryAddress.vue?20a6","webpack:///./components/checkout/EditDeliveryAddress.vue?cac7","webpack:///./components/checkout/EditDeliveryAddress.vue?95b0","webpack:///./components/checkout/EditDeliveryAddress.vue?732f","webpack:///./components/checkout/EditDeliveryAddress.vue","webpack:///./components/checkout/EditDeliveryAddress.vue?2f0c","webpack:///./components/checkout/EditDeliveryAddress.vue?4450","webpack:///./node_modules/vue-select/dist/vue-select.css?5620"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".v-select{position:relative;font-family:inherit}.v-select,.v-select *{box-sizing:border-box}@-webkit-keyframes vSelectSpinner{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes vSelectSpinner{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.vs__fade-enter-active,.vs__fade-leave-active{pointer-events:none;transition:opacity .15s cubic-bezier(1,.5,.8,1)}.vs__fade-enter,.vs__fade-leave-to{opacity:0}.vs--disabled .vs__clear,.vs--disabled .vs__dropdown-toggle,.vs--disabled .vs__open-indicator,.vs--disabled .vs__search,.vs--disabled .vs__selected{cursor:not-allowed;background-color:#f8f8f8}.v-select[dir=rtl] .vs__actions{padding:0 3px 0 6px}.v-select[dir=rtl] .vs__clear{margin-left:6px;margin-right:0}.v-select[dir=rtl] .vs__deselect{margin-left:0;margin-right:2px}.v-select[dir=rtl] .vs__dropdown-menu{text-align:right}.vs__dropdown-toggle{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:flex;padding:0 0 4px;background:none;border:1px solid rgba(60,60,60,.26);border-radius:4px;white-space:normal}.vs__selected-options{display:flex;flex-basis:100%;flex-grow:1;flex-wrap:wrap;padding:0 2px;position:relative}.vs__actions{display:flex;align-items:center;padding:4px 6px 0 3px}.vs--searchable .vs__dropdown-toggle{cursor:text}.vs--unsearchable .vs__dropdown-toggle{cursor:pointer}.vs--open .vs__dropdown-toggle{border-bottom-color:transparent;border-bottom-left-radius:0;border-bottom-right-radius:0}.vs__open-indicator{fill:rgba(60,60,60,.5);transform:scale(1);transition:transform .15s cubic-bezier(1,-.115,.975,.855);transition-timing-function:cubic-bezier(1,-.115,.975,.855)}.vs--open .vs__open-indicator{transform:rotate(180deg) scale(1)}.vs--loading .vs__open-indicator{opacity:0}.vs__clear{fill:rgba(60,60,60,.5);padding:0;border:0;background-color:transparent;cursor:pointer;margin-right:8px}.vs__dropdown-menu{display:block;box-sizing:border-box;position:absolute;top:calc(100% - 1px);left:0;z-index:1000;padding:5px 0;margin:0;width:100%;max-height:350px;min-width:160px;overflow-y:auto;box-shadow:0 3px 6px 0 rgba(0,0,0,.15);border:1px solid rgba(60,60,60,.26);border-top-style:none;border-radius:0 0 4px 4px;text-align:left;list-style:none;background:#fff}.vs__no-options{text-align:center}.vs__dropdown-option{line-height:1.42857143;display:block;padding:3px 20px;clear:both;color:#333;white-space:nowrap}.vs__dropdown-option:hover{cursor:pointer}.vs__dropdown-option--highlight{background:#5897fb;color:#fff}.vs__dropdown-option--disabled{background:inherit;color:rgba(60,60,60,.5)}.vs__dropdown-option--disabled:hover{cursor:inherit}.vs__selected{display:flex;align-items:center;background-color:#f0f0f0;border:1px solid rgba(60,60,60,.26);border-radius:4px;color:#333;line-height:1.4;margin:4px 2px 0;padding:0 .25em;z-index:0}.vs__deselect{display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;margin-left:4px;padding:0;border:0;cursor:pointer;background:none;fill:rgba(60,60,60,.5);text-shadow:0 1px 0 #fff}.vs--single .vs__selected{background-color:transparent;border-color:transparent}.vs--single.vs--open .vs__selected{position:absolute;opacity:.4}.vs--single.vs--searching .vs__selected{display:none}.vs__search::-webkit-search-cancel-button{display:none}.vs__search::-ms-clear,.vs__search::-webkit-search-decoration,.vs__search::-webkit-search-results-button,.vs__search::-webkit-search-results-decoration{display:none}.vs__search,.vs__search:focus{-webkit-appearance:none;-moz-appearance:none;appearance:none;line-height:1.4;font-size:1em;border:1px solid transparent;border-left:none;outline:none;margin:4px 0 0;padding:0 7px;background:none;box-shadow:none;width:0;max-width:100%;flex-grow:1;z-index:1}.vs__search::-moz-placeholder{color:inherit}.vs__search:-ms-input-placeholder{color:inherit}.vs__search::placeholder{color:inherit}.vs--unsearchable .vs__search{opacity:1}.vs--unsearchable:not(.vs--disabled) .vs__search:hover{cursor:pointer}.vs--single.vs--searching:not(.vs--open):not(.vs--loading) .vs__search{opacity:.2}.vs__spinner{align-self:center;opacity:0;font-size:5px;text-indent:-9999em;overflow:hidden;border:.9em solid hsla(0,0%,39.2%,.1);border-left-color:rgba(60,60,60,.45);transform:translateZ(0);-webkit-animation:vSelectSpinner 1.1s linear infinite;animation:vSelectSpinner 1.1s linear infinite;transition:opacity .1s}.vs__spinner,.vs__spinner:after{border-radius:50%;width:5em;height:5em}.vs--loading .vs__spinner{opacity:1}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/string-replace-loader/index.js??ref--12!./EditDeliveryAddress.vue?vue&type=style&index=0&id=c9d9fb30&scoped=true&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"087afc6d\", content, true, context)\n};","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/string-replace-loader/index.js??ref--12!./EditDeliveryAddress.vue?vue&type=style&index=0&id=c9d9fb30&scoped=true&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"h1[data-v-c9d9fb30]{color:var(--color1);font-size:1.6rem;margin-bottom:10px}h1[data-v-c9d9fb30],p[data-v-c9d9fb30]{width:100%;text-align:center}p[data-v-c9d9fb30]{margin:10px 0}form[data-v-c9d9fb30]{display:flex;flex-direction:column;padding:30px 0 10px}form input[data-v-c9d9fb30]{margin:5px 0;width:300px;padding:10px;border:1px solid var(--color4);border-radius:5px;width:100%}form input[data-v-c9d9fb30]:focus{outline-color:var(--color1)}.btn--group button[data-v-c9d9fb30]{width:100%;margin-top:15px;padding:8px 5px;border-radius:15px;align-items:center;font-family:var(--font1);outline:none;cursor:pointer;border:none;background-color:var(--color1);color:var(--color2)}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._ssrNode(\"<h1 data-v-c9d9fb30>Modifier une adresse de livraison</h1> \"),_c('v-select',{ref:\"select\",attrs:{\"options\":_vm.citiesList,\"filterable\":false},on:{\"search\":_vm.onSearch},scopedSlots:_vm._u([{key:\"option\",fn:function(option){return [_c('span',[_vm._v(_vm._s(option.label))])]}}]),model:{value:(_vm.address),callback:function ($$v) {_vm.address=$$v},expression:\"address\"}},[_c('div',{attrs:{\"slot\":\"no-options\"},slot:\"no-options\"},[_vm._v(_vm._s(_vm.searchText.length > 0 ? '' : 'Renseigner votre adresse'))])]),_vm._ssrNode(\" <div class=\\\"btn--group\\\" data-v-c9d9fb30>\"+((_vm.address)?(\"<button class=\\\"btn--green\\\" data-v-c9d9fb30>Ajouter</button>\"):\"<!---->\")+\" \"+((_vm.address)?(\"<button class=\\\"btn--green\\\" data-v-c9d9fb30>Supprimer</button>\"):\"<!---->\")+\"</div>\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapMutations, mapActions } from 'vuex'; \nimport axios from 'axios'\nimport { db } from \"~/plugins/firebase/firebaseConfig.js\";\nimport Vue from 'vue'\nimport vSelect from 'vue-select'\nVue.component('v-select', vSelect)\nimport 'vue-select/dist/vue-select.css';\nvar debounce = require('debounce');\n\nexport default {\n    data () {\n        return {\n            searchText: \"\",\n            address: null,\n            citiesList: [],\n        }\n    },\n    mounted() {\n        this.address = this.addressToEdit\n    },\n    methods: {\n        ...mapActions({\n            close: 'popup/hide'\n        }),\n        ...mapMutations({\n            setLocation: 'location/setLocation',\n        }),\n        //Fonction de suppression de l'adresse\n        deleteAddress() {\n            // db.collection(\"customers\")\n            //     .doc(process.env.ID_CUSTOMER)\n            //     .collection(\"sites\")\n            //     .doc(process.env.ID_SITE)\n            //     .collection(\"users\")\n            //     .doc(this.user.mail)\n            //     .collection(\"addresses\")\n            //     .doc(this.addressToEdit.id)\n            //     .delete().then(() => {\n                    this.close()\n                // })\n        },\n        //Fonction de mise à jour de l'adresse\n        editAddress() {\n            this.address.type = \"deliveryAddress\"\n            this.address.id = this.addressToEdit.id\n            // db.collection(\"customers\")\n            //     .doc(process.env.ID_CUSTOMER)\n            //     .collection(\"sites\")\n            //     .doc(process.env.ID_SITE)\n            //     .collection(\"users\")\n            //     .doc(this.user.mail)\n            //     .collection(\"addresses\")\n            //     .doc(this.addressToEdit.id)\n            //     .set(this.address).then((res) => {\n                    this.close()\n                // })\n        },\n        //Fonction qui s'execute à chaque fois que l'utilisateur recherche une adresse\n        //search: String, adresse recherchée\n        //loading: fonction, active ou désactive le chargement du select\n        onSearch(search, loading) {\n            if(search.length > 5) {\n                this.searchText = JSON.parse(JSON.stringify(search))\n                loading(true);\n                this.search(loading, search, this);\n            }\n            else {\n                this.citiesList = []\n            }\n        },\n        //Fonction qui s'execute à chaque fois que la recherche dépasse 5 caractères\n        //search: String, adresse recherchée\n        //loading: fonction, active ou désactive le chargement du select\n        //vm: this, instance actuelle de Vue\n        search: debounce((loading, search, vm) => {\n            axios.get(\"https://api-adresse.data.gouv.fr/search/?\", {\n                    params: {\n                        q:search,\n                    },\n                })\n                .then((res) => {\n                    vm.citiesList = []\n                        res.data.features.forEach((elem) => {\n                                    vm.citiesList.push(elem.properties)\n                                    vm.$refs.select.open = true\n                        });\n                        loading(false);\n            }, 350)\n        }),\n    },\n    computed: {\n        user() {\n            return this.$store.getters['auth/user']\n        },\n        addressToEdit() {\n            return this.$store.getters['location/location']\n        },\n    },\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/string-replace-loader/index.js??ref--12!./EditDeliveryAddress.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/string-replace-loader/index.js??ref--12!./EditDeliveryAddress.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditDeliveryAddress.vue?vue&type=template&id=c9d9fb30&scoped=true&\"\nimport script from \"./EditDeliveryAddress.vue?vue&type=script&lang=js&\"\nexport * from \"./EditDeliveryAddress.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./EditDeliveryAddress.vue?vue&type=style&index=0&id=c9d9fb30&scoped=true&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"c9d9fb30\",\n  \"76da6043\"\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../postcss-loader/src/index.js??ref--3-oneOf-1-2!./vue-select.css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\nrequire(\"!../../vue-style-loader/lib/addStylesServer.js\").default(\"1ff4c59c\", content, true)"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AADA;AAGA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AADA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApEA;AAsEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAPA;AAjFA;;AC1BA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}